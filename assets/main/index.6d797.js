window.__require=function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({AStar:[function(t,e,n){"use strict";cc._RF.push(e,"1de94mJW5JG3a6fFGe6kzNL","AStar");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Grid=void 0;var a,s=t("../component/BaseUI"),c=cc._decorator,l=c.ccclass,u=(c.property,function(){function t(){this.x=0,this.y=0,this.f=0,this.g=0,this.h=0,this.parent=null,this.type=0}return t.prototype.clear=function(){this.f=0,this.g=0,this.h=0,this.parent=null},t}());n.Grid=u,function(t){t[t.NONE=0]="NONE",t[t.OBSTACLE=-1]="OBSTACLE",t[t.START=1]="START",t[t.END=2]="END"}(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.is8dir=!1,e.drawPaths=[],e.path=[],e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=this.node.getComponent(cc.TiledMap);this._cashpath={},this._gridW=e.getTileSize().width,this._gridH=e.getTileSize().height,this.mapH=e.getMapSize().height,this.mapW=e.getMapSize().width,this.is8dir=!1,this.initMap()},e.prototype.setMapData=function(t,e,n){this.gridsList[t][e].type=n?a.OBSTACLE:a.NONE},e.prototype.initMap=function(){this.openList=[],this.closeList=[],this.path=[],this.gridsList=new Array(this.mapW+1);for(var t=0;t<this.gridsList.length;t++)this.gridsList[t]=new Array(this.mapH+1);for(t=0;t<=this.mapW;t++)for(var e=0;e<=this.mapH;e++)this.addGrid(t,e,a.NONE)},e.prototype.addGrid=function(t,e,n){var o=new u;o.x=t,o.y=e,o.type=n,this.gridsList[t][e]=o},e.prototype._sortFunc=function(t,e){return t.f-e.f},e.prototype.generatePath=function(t){for(this.path.push(cc.v2(t.x,t.y));t.parent;)t=t.parent,this.path.push(cc.v2(t.x,t.y))},e.prototype.findPath=function(t,e){this.openList=[],this.closeList=[],this.path=[];var n=cc.v2(Math.floor(t.x/60),Math.floor(t.y/60)),o=cc.v2(Math.floor(e.x/60),Math.floor(e.y/60)),r="sx"+n.x+"sy"+n.y+"ex"+o.x+"ey"+o.y;if(this._cashpath[r])this.path=this._cashpath[r];else{for(var i=0;i<=this.mapW;i++)for(var s=0;s<=this.mapH;s++)this.gridsList[i][s].clear(),this.gridsList[i][s].type!=a.START&&this.gridsList[i][s].type!=a.END||(this.gridsList[i][s].type=a.NONE);this.gridsList[n.x][n.y].type=a.START;var c=this.gridsList[n.x][n.y];if(this.gridsList[o.x][o.y].type=a.END,c.type!=a.END){this.openList.push(c);for(var l=this.openList[0];this.openList.length>0&&l.type!=a.END;){if((l=this.openList[0]).type==a.END)return this.generatePath(l),r="sx"+n.x+"sy"+n.y+"ex"+o.x+"ey"+o.y,void(this._cashpath[r]=JSON.parse(JSON.stringify(this.path)));for(var u=-1;u<=1;u++)for(var h=-1;h<=1;h++)if((0!=u||0!=h)&&(i=l.x+u,s=l.y+h,i>=0&&s>=0&&i<=this.mapW&&s<=this.mapH&&-1!=this.gridsList[i][s].type&&this.closeList.indexOf(this.gridsList[i][s])<0)){if(this.is8dir){if(-1==this.gridsList[i-u][s].type||-1==this.gridsList[i][s-h].type)continue}else if(Math.abs(u)==Math.abs(h))continue;var p=l.g+Math.sqrt(Math.pow(10*u,2)+Math.pow(10*h,2));(0==this.gridsList[i][s].g||this.gridsList[i][s].g>p)&&(this.gridsList[i][s].g=p,this.gridsList[i][s].parent=l),this.gridsList[i][s].h=Math.abs(o.x-i)+Math.abs(o.y-s),this.gridsList[i][s].f=this.gridsList[i][s].g+this.gridsList[i][s].h,this.openList.indexOf(this.gridsList[i][s])<0&&this.openList.push(this.gridsList[i][s])}this.closeList.push(l),this.openList.splice(this.openList.indexOf(l),1),this.openList.length<=0&&cc.log("find path failed."),this.openList.sort(this._sortFunc)}}else this.path=[cc.v2(c.x,c.y)]}},i([l],e)}(s.default);n.default=h,cc._RF.pop()},{"../component/BaseUI":"BaseUI"}],AdCenter:[function(t,e,n){"use strict";cc._RF.push(e,"04f46M4nKZHVpGCqJxlR4+3","AdCenter");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Singleton"),a=t("./DataManager"),s=t("../event/GameEvent"),c=t("../event/EventType"),l=t("../utils/Utils"),u=window.wx||window.tt,h=cc._decorator,p=(h.ccclass,h.property,function(t){function e(){var e=t.call(this)||this;if(e.VideoAd=null,e.bvideoLoaded=!1,e.bbannerLoaded=!1,e.gridAd=null,e.interstitialAd=null,e._lasttryplaytime=0,u){e.VideoAd=u.createRewardedVideoAd({adUnitId:"adunit-138c3b7934f3d3cd"}),e.VideoAd.onError(function(t){console.log("onError",t)}),e.VideoAd.onLoad(function(){}),e.VideoAd.onClose(function(t){t&&t.isEnded||void 0===t?(cc.log("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),a.default.Instance().watch_ad_count++,a.default.Instance().watch_ad_count_total++,s.default.Instance().dispatch(c.default.AD_COMPLETE),e.callBack(!0)):(cc.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),e.callBack(!1))}),u.createInterstitialAd&&(e.interstitialAd=u.createInterstitialAd({adUnitId:"adunit-1ae4817998833fb0"}));var n=u.getSystemInfoSync(),o=n.screenWidth,r=n.screenHeight;e.gridAd=u.createGridAd({adUnitId:"adunit-a8f611538c29a52c",adTheme:"black",gridCount:5,style:{left:0,top:r-150,width:o,opacity:.8}}),e.gridAd.onError(function(t){console.log("\u683c\u5b50 onError",t)})}return e}return r(e,t),e.prototype.showinterstitialAd=function(){this.interstitialAd&&this.interstitialAd.show().catch(function(t){console.log(t)})},e.prototype.showGridAd=function(){this.gridAd&&this.gridAd.show()},e.prototype.hideGridAd=function(){this.gridAd&&this.gridAd.hide()},e.prototype.play=function(t,e){var n=this;l.default.getServerTime()-this._lasttryplaytime<1e3?console.log("\u70b9\u51fb\u8fc7\u4e8e\u9891\u7e41"):(console.log("\u5c1d\u8bd5\u64ad\u653e\u5e7f\u544a"),this._lasttryplaytime=l.default.getServerTime(),this.callBack=e,cc.debug.isDisplayStats()?this.callBack(!0):u?this.VideoAd.show().catch(function(){n.VideoAd.load().then(function(){return n.VideoAd.show()}).catch(function(){cc.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),n.callBack(!1)})}):(a.default.Instance().watch_ad_count++,a.default.Instance().watch_ad_count_total++,this.callBack(!0)))},e}(i.default));n.default=p,cc._RF.pop()},{"../event/EventType":"EventType","../event/GameEvent":"GameEvent","../utils/Utils":"Utils","./DataManager":"DataManager","./Singleton":"Singleton"}],AnimationHelper:[function(t,e,n){"use strict";cc._RF.push(e,"26fa20sANpEaroplYUqctfS","AnimationHelper"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/component/FrameAnimation"),r=function(){function t(){}return t.initAnimation=function(){for(var e=cc.assetManager.getBundle("texture"),n=1;n<=6;n++){for(var r=e.get("atlas/ball"+n,cc.Texture2D),i=[],a=1;a<=140;a++){var s=new cc.SpriteFrame(r,cc.rect((a-1)%12*36,36*Math.floor((a-1)/12),36,36));i.push(s)}o.FrameAnimation.createAnimation(i,"move"+n)}o.FrameAnimation.createAnimation(t.aniUrls(e.get("atlas/blast",cc.SpriteAtlas),"blast",10),"blastEffect"),o.FrameAnimation.createAnimation(t.aniUrls(e.get("atlas/arrow",cc.SpriteAtlas),"arrow",4),"fireArrow"),o.FrameAnimation.createAnimation(t.aniUrls(e.get("atlas/lightball",cc.SpriteAtlas),"lightball",4),"clearAni"),o.FrameAnimation.createAnimation(t.aniUrls(e.get("atlas/light",cc.SpriteAtlas),"light",6),"lightAni"),o.FrameAnimation.createAnimation(t.aniUrls(e.get("atlas/bomb",cc.SpriteAtlas),"bomb",13),"bombAni")},t.aniUrls=function(t,e,n){for(var o=[],r=1;r<=n;r++){var i=t.getSpriteFrame(e+r);o.push(i),null==i&&cc.warn(e,"error")}return o},t}();n.default=r,cc._RF.pop()},{"../../core/component/FrameAnimation":"FrameAnimation"}],AudioMgr:[function(t,e,n){"use strict";cc._RF.push(e,"c4310qOOsJLaZuNAeTaQNgO","AudioMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../manager/Singleton"),c=t("./Utils"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgmVolume=1,e.sfxVolume=1,e.bgmAudioID=-1,e.audioId=-1,e.musicIndex=c.default.getRandomInt(0,4),e.bgm_url="music1",e.lastplaysfxtime={},e}return r(e,t),e.prototype.loadSounds=function(){var t=cc.sys.localStorage.getItem("bgmVolume"),n=cc.sys.localStorage.getItem("sfxVolume");this.bgmVolume=0==t?Number(t):e.DEFAULT_VOLUME,this.sfxVolume=0==n?Number(n):e.DEFAULT_VOLUME,console.log("loadSounds",this.bgmVolume,this.sfxVolume),cc.log(this.bgmVolume,this.sfxVolume)},e.prototype.playBgSeq=function(){var t=this.musicIndex%4+1;this.playBGM("music"+t),this.musicIndex++},e.prototype.playBGM=function(t){return i(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.bgm_url=t,[4,c.default.loadRes(""+t,cc.AudioClip)];case 1:return e=n.sent(),this.bgmAudioID>=0&&cc.audioEngine.stop(this.bgmAudioID),this.bgmVolume>0&&(this.bgmAudioID=cc.audioEngine.play(e,!0,this.bgmVolume)),[2]}})})},e.prototype.stopSFX=function(t){return cc.audioEngine.stop(t)},e.prototype.playSFX=function(t){return i(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.lastplaysfxtime[t]&&c.default.getServerTime()-this.lastplaysfxtime[t]<300?[2]:(this.lastplaysfxtime[t]=c.default.getServerTime(),[4,c.default.loadRes(t,cc.AudioClip)]);case 1:return e=n.sent(),this.sfxVolume>0?(this.audioId=cc.audioEngine.play(e,!1,this.sfxVolume),[2,this.audioId]):[2]}})})},e.prototype.pauseBGM=function(){this.bgmAudioID>=0&&cc.audioEngine.pause(this.bgmAudioID)},e.prototype.resumBGM=function(){this.bgmAudioID>=0&&cc.audioEngine.resume(this.bgmAudioID)},e.prototype.setBGMVolume=function(t,e){void 0===e&&(e=!1),(this.bgmVolume!=t||e)&&(cc.sys.localStorage.setItem("bgmVolume",t),this.bgmVolume=t,cc.audioEngine.setVolume(this.bgmAudioID,t)),this.bgmAudioID>=0?t>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID):this.playBGM(this.bgm_url)},e.prototype.setSFXVolume=function(t,e){void 0===e&&(e=!1),(this.sfxVolume!=t||e)&&(cc.sys.localStorage.setItem("sfxVolume",t),this.sfxVolume=t)},e.DEFAULT_VOLUME=.3,e}(s.default);n.default=l,cc._RF.pop()},{"../manager/Singleton":"Singleton","./Utils":"Utils"}],BallGenerator:[function(t,e,n){"use strict";cc._RF.push(e,"9b169xd5HhO4ph5Gi2S0uu8","BallGenerator"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../core/manager/Model"),r=t("../../../core/utils/Queue"),i=function(){function t(t){this.ballGroupQueue=new Array,this.m_currBallGroupInfo=new Array,this.m_ballIndex={},this.m_groupIndex={},this.m_levelData=null,this.m_cacheBalls=new Array,this.m_levelData=t,this.initBalls()}return t.prototype.initBalls=function(){var t=this;this.ballGroupQueue.splice(0,this.ballGroupQueue.length),this.m_ballIndex={},this.m_groupIndex={},this.m_currBallGroupInfo.splice(0,this.m_currBallGroupInfo.length);var e=this.deepCopy(this.m_levelData.ballGroups);e.sort(function(e,n){return e.priority==n.priority?1==t.getRandomInt(0,2)?-1:1:e.priority<n.priority?-1:1});for(var n=0;n<this.m_levelData.pathCount;n++){this.ballGroupQueue.push(new r.default);for(var o=0;o<e[n].length;o++)e[n][o].showCount=0,this.ballGroupQueue[n].push(e[n][o])}},t.prototype.pushBall=function(t){this.m_cacheBalls.push(t)},t.prototype.createBall=function(t){if(this.m_cacheBalls.length>0)return this.m_cacheBalls.pop();var e=this.getNextBall(t);if(null==e){var n=4;return o.default.game.selectedLevel>24?n=6:o.default.game.selectedLevel>10&&(n=5),79==o.default.game.selectedLevel&&(n=4),Math.floor(Math.random()*n+1)}return e.color+1},t.prototype.getNextBall=function(t){var e=this;if(null==this.m_ballIndex[t]&&(this.m_ballIndex[t]=0),null==this.m_groupIndex[t]&&(this.m_groupIndex[t]=0),null==this.m_currBallGroupInfo[t]){if(0==this.ballGroupQueue[t].size())return this.restore(t);this.m_currBallGroupInfo[t]=this.ballGroupQueue[t].pop(),1==this.m_currBallGroupInfo[t].isRandom&&this.m_currBallGroupInfo[t].balls.sort(function(){return 1==e.getRandomInt(0,2)?-1:1})}if(0==this.m_currBallGroupInfo[t].balls.length)return this.restore(t);var n=this.m_currBallGroupInfo[t].balls[this.m_groupIndex[t]][this.m_ballIndex[t]];return this.m_ballIndex[t]+=1,this.m_currBallGroupInfo[t].balls[this.m_groupIndex[t]].length==this.m_ballIndex[t]&&(this.m_groupIndex[t]+=1,this.m_ballIndex[t]=0,this.m_currBallGroupInfo[t].balls.length==this.m_groupIndex[t]&&(-1==this.m_currBallGroupInfo[t].showTime||this.m_currBallGroupInfo[t].showCount<this.m_currBallGroupInfo[t].showTime-1?(this.m_currBallGroupInfo[t].showCount+=1,1==this.m_currBallGroupInfo[t].isRandom&&this.m_currBallGroupInfo[t].balls.sort(function(){return 1==e.getRandomInt(0,2)?-1:1})):this.m_currBallGroupInfo[t]=null,this.m_ballIndex[t]=0,this.m_groupIndex[t]=0)),n},t.prototype.restore=function(t){return this.m_levelData.isLoop[t]?(this.initBalls(),this.getNextBall(t)):null},t.prototype.deepCopy=function(t){if(null===t||"object"!=typeof t)return t;if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e[n]=this.deepCopy(t[n]);return e}var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]=this.deepCopy(t[r]));return o},t.prototype.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)},t}();n.default=i,cc._RF.pop()},{"../../../core/manager/Model":"Model","../../../core/utils/Queue":"Queue"}],BallGroupInfo:[function(t,e,n){"use strict";cc._RF.push(e,"17982pW3elN9roTXQaNHvNg","BallGroupInfo"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.showCount=0},cc._RF.pop()},{}],BallInfo:[function(t,e,n){"use strict";cc._RF.push(e,"5ecacfTvAlCDaXctt+nD+JS","BallInfo"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],Ball:[function(t,e,n){"use strict";cc._RF.push(e,"b94b5JK0CtDprkBpfSXqbnG","Ball");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=t("../../../core/common/GameConst"),c=t("../../../core/component/FrameAnimation"),l=t("../../../core/utils/Utils"),u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.display=null,e.propEffect=null,e._code=0,e._posIndex=-1,e.vx=0,e.vy=0,e.radians=0,e.frame=0,e.isBacking=!1,e._prop=0,e.liveTime=0,e.pathID=1,e.frameStep=2,e._playing=!1,e._uid=0,e._dir=-1,e}var n;return r(e,t),n=e,Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this._code},set:function(t){this._code=t,this.ani.play(1,"move"+this._code,1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stepData",{set:function(t){this._stepData=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._uid=n.getUID(),this.ani.frameRate=1e-7},e.getUID=function(){return++n.uuid},Object.defineProperty(e.prototype,"posIndex",{get:function(){return this._posIndex},set:function(t){0==this._prop&&(t>this._posIndex?this.nextFrame():t<this._posIndex&&this.prevFrame()),t>=this._stepData.length?t=this._stepData.length-1:t<=0&&(t=0),this.node.active=!(t<160),this._posIndex=t,this.node.x=this._stepData[t][0],this.node.y=this._stepData[t][1],this.node.angle=this._stepData[t][2]+90},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prop",{get:function(){return this._prop},set:function(t){if(this._prop=t,t>0){this.display.active=!0;var e=cc.assetManager.getBundle("texture").get("atlas/specialBall",cc.SpriteAtlas).getSpriteFrame(this.code+"_test12"+t);this.display.getComponent(cc.Sprite).spriteFrame=e,this.ani.node.active=!1,a.Core.soundManager.playSFX("sound/prop"),this.propEffect.active=!0,l.default.setSpriteFrame(this.propEffect.getComponent(cc.Sprite),s.default.PROP_SHOW_EFFECT[t],"texture"),this.propEffect.opacity=255,this.propEffect.scale=1,cc.tween(this.propEffect).to(1.5,{opacity:0,scaleX:.5,scaleY:.5}).delay(1).start()}else this.ani.node.active=!0,this.display.active=!1},enumerable:!1,configurable:!0}),e.prototype.nextFrame=function(){this.frame+this.frameStep>140?this.frame=1:this.frame+=this.frameStep,this.ani&&this.ani.play(this.frame,"move"+this.code,-1)},e.prototype.prevFrame=function(){this.frame-this.frameStep<1?this.frame=140:this.frame-=this.frameStep,this.ani&&this.ani.play(this.frame,"move"+this.code,1)},e.prototype.play=function(){this._playing=!0,this.ani&&(this.ani.frameRate=120,this.ani.play(1,"move"+this.code,-1),this.node.angle=90)},e.prototype.stop=function(){this._playing=!1,this.ani&&this.ani.play(1,"move"+this.code,1),this.ani.frameRate=1e-7},e.uuid=0,i([p(c.FrameAnimation)],e.prototype,"ani",void 0),i([p(cc.Node)],e.prototype,"display",void 0),i([p(cc.Node)],e.prototype,"propEffect",void 0),n=i([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/common/GameConst":"GameConst","../../../core/component/FrameAnimation":"FrameAnimation","../../../core/utils/Utils":"Utils"}],BasePanel:[function(t,e,n){"use strict";cc._RF.push(e,"36722vab1dKEYirnsMfSdnR","BasePanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../common/GameConst"),a=t("../Core"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layer=i.default.WIN_LAYER.POPUP,e.winType=i.default.WIN_TYPE.NORMAL,e.destroyAfterClose=!1,e}return r(e,t),e.prototype.show=function(){},e.prototype.close=function(){a.Core.winManager.removeWin(this.node.name)},e.prototype.onBtnClicked=function(t){switch(t.target.name){case"btn_close":this.close()}},e}(t("./BaseUI").default);n.default=s,cc._RF.pop()},{"../Core":"Core","../common/GameConst":"GameConst","./BaseUI":"BaseUI"}],BaseUI:[function(t,e,n){"use strict";cc._RF.push(e,"b8a1chaW7lGob3FyhqUUcZm","BaseUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var l=t("../event/GameEvent"),u=t("../utils/Utils"),h=cc._decorator,p=h.ccclass,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events=[],e._create_time=0,e.m_objects=new Map,e}var n;return r(e,t),n=e,e.prototype.onBtnClicked=function(){},e.prototype.onLoad=function(){this.events=[],this.node.getComponent(cc.Button)&&u.default.addClickEvent(this.node,this.node,cc.js.getClassName(this),"onBtnClicked",this.node.getComponent(cc.Button).target),this._addClickEvent(this.node),this._create_time=u.default.getServerTime()},e.prototype._findInChildren=function(t,e){var n=t.getChildByName(e);if(n)return n;if(0==t.childrenCount)return null;for(var o=0;o<t.childrenCount;++o){var r=this._findInChildren(t.children[o],e);if(r)return r}return null},e.prototype.GetGameObjectFromCanvas=function(t){return cc.find("Canvas").getComponent(n).GetGameObject(t)},e.prototype.SetSpriteUrl=function(t,e){if(cc.sys.os!=cc.sys.OS_WINDOWS)if(e&&""!=e){var n=this.GetGameObject(t);n&&cc.loader.load({url:e,type:"jpg"},function(t,e){if(!t){if(!cc.isValid(n))return;n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}})}else this.GetSprite(t)&&(this.GetSprite(t).spriteFrame=null)},e.prototype.GetGameObject=function(t,e){if(void 0===e&&(e=!1),!cc.isValid(this.node))return null;if(!e){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t];if(t==this.node.name)return this.node}var n;return-1!=t.indexOf("/")?((n=cc.find(t,this.node))&&(this.m_objects[t]=n),n):((n=this._findInChildren(this.node,t))&&(this.m_objects[t]=n),n)},e.prototype.GetSkeleton=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(sp.Skeleton);var e=this.GetGameObject(t);return e?e.getComponent(sp.Skeleton):null},e.prototype.GetSprite=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.Sprite);var e=this.GetGameObject(t);return e?e.getComponent(cc.Sprite):null},e.prototype.SetSprite=function(t,e){return a(this,void 0,void 0,function(){var n=this;return s(this,function(){return[2,new Promise(function(o){var r=n.GetSprite(t);r&&u.default.loadRes(e,cc.SpriteFrame).then(function(t){cc.isValid(n.node)&&(r.spriteFrame=t,o(t))})})]})})},e.prototype.GetText=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.Label);var e=this.GetGameObject(t);return e?e.getComponent(cc.Label):null},e.prototype.GetProgressBar=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.ProgressBar);var e=this.GetGameObject(t);return e?e.getComponent(cc.ProgressBar):null},e.prototype.GetButton=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.Button);var e=this.GetGameObject(t);return e?e.getComponent(cc.Button):null},e.prototype.GetInputField=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.EditBox);var e=this.GetGameObject(t);return e?e.getComponent(cc.EditBox):null},e.prototype.GetSlider=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.Slider);var e=this.GetGameObject(t);return e?e.getComponent(cc.Slider):null},e.prototype.SetText=function(t,e){this.GetText(t)&&(this.GetText(t).string=e)},e.prototype.SetInputText=function(t,e){this.GetInputField(t)&&(this.GetInputField(t).string=e)},e.prototype.SetProgressBar=function(t,e){this.GetProgressBar(t)&&(this.GetProgressBar(t).progress=e)},e.prototype._isSkipNode=function(t){return this.node!=t&&null!=t.getComponent(n)},e.prototype._addClickEvent=function(t){if(!this._isSkipNode(t))for(var e=0;e<t.childrenCount;++e){var n=t.children[e];this._isSkipNode(n)||(n.getComponent(cc.Button)&&u.default.addClickEvent(n,this.node,cc.js.getClassName(this),"onBtnClicked",n.getComponent(cc.Button).target),this._addClickEvent(n))}},e.prototype.getChildByName=function(t,e){return cc.find(t,e||this.node)},e.prototype.onDestroy=function(){for(var t=0;t<this.events.length;++t)l.default.Instance().unregister(this,this.events[t])},e.prototype.register=function(t,e){this.events.push(t),l.default.Instance().register(this,t,e)},e.prototype.unregister=function(t){l.default.Instance().unregister(this,t)},e.prototype.dispatch=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(e=l.default.Instance()).dispatch.apply(e,c([t],n))},e.prototype.playSkAni=function(t,e,n,o,r){return void 0===r&&(r=-1),a(this,void 0,void 0,function(){var i,a,c;return s(this,function(s){switch(s.label){case 0:return(i=new cc.Node).parent=n,i.position=o,a=i.addComponent(sp.Skeleton),[4,u.default.loadRes(t,sp.SkeletonData)];case 1:return c=s.sent(),a.skeletonData=c,a.premultipliedAlpha=!1,a.setAnimation(0,e,!1),-1!=r&&i.runAction(cc.sequence(cc.delayTime(r),cc.callFunc(function(){i.parent=null}))),[2,i]}})})},n=i([p],e)}(cc.Component));n.default=f,cc._RF.pop()},{"../event/GameEvent":"GameEvent","../utils/Utils":"Utils"}],BezierUtil:[function(t,e,n){"use strict";cc._RF.push(e,"212b3EDQzROeK0pgkeSeBG8","BezierUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.s=function(e){return Math.sqrt(t.A*e*e+t.B*e+t.C)},t.L=function(e){var n=Math.sqrt(t.C+e*(t.B+t.A*e)),o=2*t.A*e*n+t.B*(n-Math.sqrt(t.C)),r=Math.log(t.B+2*Math.sqrt(t.A)*Math.sqrt(t.C)),i=Math.log(t.B+2*t.A*e+2*Math.sqrt(t.A)*n);return(2*Math.sqrt(t.A)*o+(t.B*t.B-4*t.A*t.C)*(r-i))/(8*Math.pow(t.A,1.5))},t.InvertL=function(e,n){for(var o,r=e;o=r-(t.L(r)-n)/t.s(r),!(Math.abs(r-o)<1e-6);)r=o;return o},t.init=function(e,n,o,r){return t.p0=e,t.p1=n,t.p2=o,t.ax=t.p0.x-2*t.p1.x+t.p2.x,t.ay=t.p0.y-2*t.p1.y+t.p2.y,t.bx=2*t.p1.x-2*t.p0.x,t.by=2*t.p1.y-2*t.p0.y,t.A=4*(t.ax*t.ax+t.ay*t.ay),t.B=4*(t.ax*t.bx+t.ay*t.by),t.C=t.bx*t.bx+t.by*t.by,t.total_length=t.L(1),t.step=Math.floor(t.total_length/r),t.total_length%r>r/2&&t.step++,t.step},t.getAnchorPoint=function(e){if(e>=0&&e<=t.step){var n=e/t.step,o=n*t.total_length,r=(1-(n=t.InvertL(n,o)))*(1-n)*t.p0.x+2*(1-n)*n*t.p1.x+n*n*t.p2.x,i=(1-n)*(1-n)*t.p0.y+2*(1-n)*n*t.p1.y+n*n*t.p2.y,a=new cc.Vec2((1-n)*t.p0.x+n*t.p1.x,(1-n)*t.p0.y+n*t.p1.y),s=new cc.Vec2((1-n)*t.p1.x+n*t.p2.x,(1-n)*t.p1.y+n*t.p2.y),c=s.x-a.x,l=s.y-a.y,u=180*Math.atan2(l,c)/Math.PI;return new Array(r,i,u)}return[]},t}();n.default=o,cc._RF.pop()},{}],BigNumber:[function(t,e,n){"use strict";cc._RF.push(e,"29779EDnrJPKp0TmDE+JGoq","BigNumber");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(){function t(){}var e;return e=t,t.genLetters=function(){if(!this.aLetters){for(var t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e=["K",3,"M",6,"B",9,"T",12],n=0,o=15;o<400;o+=3){for(var r=Math.floor(n/26)+2,i="",a=0;a<r;++a)i+=t[n%26];e.push(i,o),n++}this.aLetters=e}},t.getN=function(t){this.genLetters();for(var n=0;n<e.aLetters.length;){if(e.aLetters[n]==t)return Math.pow(10,e.aLetters[n+1]);n+=2}return 0},t.getLargeString=function(t,n,o){if(void 0===n&&(n="K"),void 0===o&&(o=!0),this.genLetters(),0==t)return t+"";for(var r=NaN,i=Math.round(t/Math.abs(t)),a=t=Math.abs(t),s=0,c=0,l=0,u=0;u<e.aLetters.length;){if(e.aLetters[u]==n){c=u;break}u+=2}if(t<Math.pow(10,e.aLetters[c+1]))s=-1;else{for(r=Math.pow(10,e.aLetters[c+1]),s=c/2;a/1e3>=r;)a/=1e3,s++;for(;a/1e3>=1e3;)a/=1e3}return-1==s?e.addSeparators(Math.round((t-.5)*i).toString()):(a/1e3<10?l=2:a/1e3<100&&(l=1),a/=Math.pow(10,3-l),a=parseInt(a),a/=Math.pow(10,l),o?(a*i).toFixed(1)+""+e.aLetters[2*s]:(a*i).toString()+""+e.aLetters[2*s])},t.addSeparators=function(t,e){void 0===e&&(e=",");var n="-"==t.charAt(0);n&&(t=t.substr(1));for(var o="",r=0,i=t.length-1;i>0;)o=t.charAt(i)+o,++r%3==0&&(o=e+o),i-=1;return o=t.charAt(0)+o,n&&(o="-"+o),o},t.convertToLargeString=function(t){return e.getStringOfNumber(t)},t.getStringOfNumber=function(t,e,n,o){void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o=!1);var r=1;o&&(r=10);var i=Math.round(t);if(Math.round(t)>=1e6&&i<1e9&&e)return(Math.round(i/1e3/r)/(1e3/r)).toString()+" M";if(i>=1e9&&i<1e12)return(Math.round(i/1e6/r)/(1e3/r)).toString()+" B";if(i>=1e12&&i<1e15)return(Math.round(i/1e9/r)/(1e3/r)).toString()+" T";if(i>=1e15&&i<1e18)return(Math.round(i/1e12/r)/(1e3/r)).toString()+" q";if(i>=1e18&&i<1e21)return(Math.round(i/1e15/r)/(1e3/r)).toString()+" Qq";if(i>=1e21&&i<1e24)return(Math.round(i/1e18/r)/(1e3/r)).toString()+" s";if(i>=1e24&&i<1e27)return(Math.round(i/1e21/r)/(1e3/r)).toString()+" Ss";if(i>=1e27&&i<1e30)return(Math.round(i/1e24/r)/(1e3/r)).toString()+" O";if(i>=1e30&&i<1e33)return(Math.round(i/1e27/r)/(1e3/r)).toString()+" N";if(i>=1e33&&i<1e26)return(Math.round(i/1e30/r)/(1e3/r)).toString()+" d";if(i>=1e26&&i<1e29)return(Math.round(i/1e33/r)/(1e3/r)).toString()+" U";if(i>=1e29&&i<1e32)return(Math.round(i/1e26/r)/(1e3/r)).toString()+" Dd";var a=" ";n&&(a=",");for(var s="",c=String(Math.round(t)),l=String(Math.round(t)).length-1;l>=0;)3==(s=c.charAt(l)+s).length&&0!=l&&(s=a+s),7==s.length&&0!=l&&(s=a+s),l-=1;return s},t.aLetters=null,e=o([i],t)}());n.default=a,cc._RF.pop()},{}],BonusScore:[function(t,e,n){"use strict";cc._RF.push(e,"d627dld6E9MmZmgXahplTe8","BonusScore");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txt=null,e}return r(e,t),e.prototype.setData=function(t,e){this.txt.string=t+"",this.node.active=!1,a.Core.timer.register(e,this,this.playEff,1)},e.prototype.playEff=function(){var t=this;a.Core.soundManager.playSFX("sound/endoflevelpop1"),this.node.active=!0,cc.tween(this.node).to(1,{y:this.node.y+100}).call(function(){t.node.active=!1,a.Core.pool.recover("BonusScore",t.node)}).start()},i([l(cc.Label)],e.prototype,"txt",void 0),i([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../core/Core":"Core"}],BuffManager:[function(t,e){"use strict";cc._RF.push(e,"3fe8dNqAkZG/5TlA1d6BZVE","BuffManager"),cc._RF.pop()},{}],BusyLoadingManager:[function(t,e,n){"use strict";cc._RF.push(e,"076d1wjLlNBmZCPC8aAaHNf","BusyLoadingManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.BUSY_TYPE=void 0;var o=t("../Core");(function(t){t[t.NET=0]="NET",t[t.RES=1]="RES"})(n.BUSY_TYPE||(n.BUSY_TYPE={}));var r=function(){function t(){this.busyMap=new Map,this.timerID=null,this.delay=300}return Object.defineProperty(t,"ins",{get:function(){return null==t.instance&&(t.instance=new t),t.instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;cc.resources.load("prefab/common/BusyLoading",cc.Prefab,function(e,n){t.loadingUI=cc.instantiate(n),t.loadingUI.zIndex=999})},t.prototype.addBusy=function(t){var e=this.busyMap.get(t);e?this.busyMap.set(t,e+1):this.busyMap.set(t,1),this.checkBusy()},t.prototype.removeBusy=function(t){var e=this.busyMap.get(t);e?this.busyMap.set(t,e-1):cc.warn("remove busy error",t),this.checkBusy()},t.prototype.checkBusy=function(){var t=this;if(null!=this.loadingUI&&cc.isValid(this.loadingUI))if(this.getBusyCount()>0){var e=this,n=function(){t.getBusyCount()>0?(e.loadingUI.opacity=255,e.updateTips()):cc.warn("timeout end waitcnt is 0"),t.timerID=null};this.timerID?(clearTimeout(this.timerID),this.timerID=setTimeout(n,this.delay)):this.loadingUI.parent?this.updateTips():(this.loadingUI.opacity=0,this.loadingUI.parent=o.Core.winManager.container,this.timerID=setTimeout(n,this.delay))}else this.timerID&&(clearTimeout(this.timerID),this.timerID=0),this.loadingUI.parent&&this.loadingUI.removeFromParent();else this.init()},t.prototype.updateTips=function(){},t.prototype.getBusyCount=function(){var t=0;return this.busyMap.forEach(function(e){t+=e}),t},t.instance=null,t}();n.default=r,cc._RF.pop()},{"../Core":"Core"}],BusyLoading:[function(t,e,n){"use strict";cc._RF.push(e,"4457fKVZ3NLqr5qzzEDX6hb","BusyLoading");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../core/component/BasePanel"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){},i([l(cc.Label)],e.prototype,"label",void 0),i([l],e.prototype,"text",void 0),i([c],e)}(a.default);n.default=u,cc._RF.pop()},{"../../core/component/BasePanel":"BasePanel"}],CallbackHandler:[function(t,e,n){"use strict";cc._RF.push(e,"1b92aKELMZFHL82uq870Ywe","CallbackHandler"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n,o){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=!1),this.once=!1,this._id=0,this.setTo(t,e,n,o)}return t.prototype.setTo=function(e,n,o,r){return void 0===r&&(r=!1),this._id=t._gid++,this.caller=e,this.method=n,this.args=o,this.once=r,this},t.prototype.run=function(){if(null==this.method)return null;var t=this._id,e=this.method.apply(this.caller,[this.args]);return this._id===t&&this.once&&this.recover(),e},t.prototype.runWith=function(t){if(null==this.method)return null;var e=this._id;if(null==t)var n=this.method.apply(this.caller,[this.args]);else n=null!=this.args||t.unshift?null!=this.args?this.method.apply(this.caller,[this.args].concat(t)):this.method.apply(this.caller,t):this.method.call(this.caller,t);return this._id===e&&this.once&&this.recover(),n},t.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},t.prototype.recover=function(){this._id>0&&(this._id=0,t._pool.push(this.clear()))},t.create=function(e,n,o,r){return void 0===o&&(o=null),void 0===r&&(r=!0),t._pool.length?t._pool.pop().setTo(e,n,o,r):new t(e,n,o,r)},t._pool=[],t}();n.default=o,cc._RF.pop()},{}],CfgDefine:[function(t,e,n){"use strict";cc._RF.push(e,"bf201XNyQtCJLjs74AG9Fm6","CfgDefine"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],CfgReaderBase:[function(t,e,n){"use strict";cc._RF.push(e,"56aa2YnwXpCt6ELlg6J3Gz3","CfgReaderBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.CfgReaderBase=void 0;var o=function(){function t(){this._name=""}return t.prototype.initByMap=function(t){null==this._map&&(this.info=t.i,this._map=t.d)},t.prototype.get=function(t){return null==this._map?null:this._map[t]},t.prototype.getAll=function(){if(null!=this._map)return this._map},Object.defineProperty(t.prototype,"count",{get:function(){return this._count?this._count:null==this._map?0:(this._count=Object.keys(this._map).length,this._count)},enumerable:!1,configurable:!0}),t}();n.CfgReaderBase=o,cc._RF.pop()},{}],Cfg:[function(t,e,n){"use strict";cc._RF.push(e,"70880Yk88FEgZ0xmP7krB12","Cfg"),Object.defineProperty(n,"__esModule",{value:!0}),n.Cfg=void 0;var o=t("../core/Load/Load"),r=t("./base64"),i=t("./LanguageCfg"),a=t("./TextCfg"),s=t("./GameConstCfg"),c=function(){function t(){this._Language=new i.LanguageCfgReader,this._Text=new a.TextCfgReader,this._GameConst=new s.GameConstCfgReader}return Object.defineProperty(t.prototype,"Language",{get:function(){return this._Language},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Text",{get:function(){return this._Text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GameConst",{get:function(){return this._GameConst},enumerable:!1,configurable:!0}),t.prototype.initByMergeJsonLocal=function(){var t=this;return new Promise(function(e,n){o.default.loadBundleAsset("pack_config","config",cc.JsonAsset,function(t,o){if(o.unuse(),t){var i=t.json,a=i.data;if("string"==typeof a){var s=i.data,c=r.Base64.atob(s);c=decodeURIComponent(escape(c)),a=JSON.parse(c)}for(var l in a)this.hasOwnProperty("_"+l)&&this["_"+l].initByMap(a[l]);e(!0)}else n()},t)})},t}();n.Cfg=new c,cc._RF.pop()},{"../core/Load/Load":"Load","./GameConstCfg":"GameConstCfg","./LanguageCfg":"LanguageCfg","./TextCfg":"TextCfg","./base64":"base64"}],ChainTip:[function(t,e,n){"use strict";cc._RF.push(e,"98a9cebNZhEArW/jELZ8tDU","ChainTip");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/common/GameConst"),s=t("../../../core/Core"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txt=null,e.scoreTxt=null,e.pic=null,e}return r(e,t),e.prototype.setData=function(t,e,n,o,r){var i=this;this.txt.node.color=a.default.FontColor[r],this.scoreTxt.node.color=a.default.FontColor[r],this.pic.color=a.default.FontColor[r],this.scoreTxt.string=e+"",this.node.opacity=255,this.txt.string=t+"",this.node.x=n,this.node.y=o,cc.tween(this.node).to(.8,{x:n,y:o+100,scaleX:1,scaleY:1}).start(),cc.tween(this.node).delay(.8).to(1,{opacity:0}).call(function(){s.Core.pool.recover("ChainTip",i.node)}).start()},i([u(cc.Label)],e.prototype,"txt",void 0),i([u(cc.Label)],e.prototype,"scoreTxt",void 0),i([u(cc.Node)],e.prototype,"pic",void 0),i([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/common/GameConst":"GameConst"}],ComboTip:[function(t,e,n){"use strict";cc._RF.push(e,"0a1b8kzqRVC9ZsTt9jY/wZv","ComboTip");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/common/GameConst"),s=t("../../../core/Core"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txt=null,e.scoreTxt=null,e.comboAni=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.setData=function(t,e,n,o,r){var i=this;this.comboAni.color=a.default.FontColor[r],this.scoreTxt.node.color=a.default.FontColor[r],this.txt.node.color=a.default.FontColor[r],this.scoreTxt.string=e+"",this.node.opacity=255,this.txt.string=t+"",this.node.x=n,this.node.y=o,cc.tween(this.node).to(.8,{x:n,y:o+100,scaleX:1,scaleY:1}).start(),cc.tween(this.node).delay(.8).to(1,{opacity:0}).call(function(){s.Core.pool.recover("ComboTip",i.node)}).start()},i([u(cc.Label)],e.prototype,"txt",void 0),i([u(cc.Label)],e.prototype,"scoreTxt",void 0),i([u(cc.Node)],e.prototype,"comboAni",void 0),i([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/common/GameConst":"GameConst"}],Core:[function(t,e,n){"use strict";cc._RF.push(e,"4d559Gh4EZJqrgfvsS5mtdo","Core"),Object.defineProperty(n,"__esModule",{value:!0}),n.Core=void 0;var o=t("./manager/PoolManager"),r=t("./manager/WindowManager"),i=t("./utils/AudioMgr"),a=t("./utils/Dispatcher"),s=t("./utils/Timer"),c=function(){function t(){}return t.init=function(e){t.timer.initSchedule(e.addComponent(cc.Sprite))},t.timer=new s.default,t.dispather=new a.default,t.winManager=new r.default,t.soundManager=new i.default,t.pool=new o.default,t}();n.Core=c,cc._RF.pop()},{"./manager/PoolManager":"PoolManager","./manager/WindowManager":"WindowManager","./utils/AudioMgr":"AudioMgr","./utils/Dispatcher":"Dispatcher","./utils/Timer":"Timer"}],1:[function(t,e,n){"use strict";n.byteLength=function(t){var e=l(t),n=e[0],o=e[1];return 3*(n+o)/4-o},n.toByteArray=function(t){var e,n,o=l(t),a=o[0],s=o[1],c=new i(u(0,a,s)),h=0,p=s>0?a-4:a;for(n=0;n<p;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[h++]=255&e),1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c},n.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],a=0,s=n-r;a<s;a+=16383)i.push(h(t,a,a+16383>s?s:a+16383));return 1===r?(e=t[n-1],i.push(o[e>>2]+o[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"=")),i.join("")};for(var o=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)o[s]=a[s],r[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){return 3*(e+n)/4-n}function h(t,e,n){for(var r,i,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(o[(i=r)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";var o=t("base64-js"),r=t("ieee754"),i=t("isarray");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return l(this,t,e,n)}function l(t,e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,o):"string"==typeof e?f(t,e,n):y(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,n,o){return u(e),e<=0?s(t,e):void 0!==n?"string"==typeof o?s(t,e).fill(n,o):s(t,e).fill(n):s(t,e)}function p(t,e){if(u(e),t=s(t,e<0?0:0|m(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|_(e,n),r=(t=s(t,o)).write(e,n);return r!==o&&(t=t.slice(0,r)),t}function d(t,e){var n=e.length<0?0:0|m(e.length);t=s(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function g(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e),t}function y(t,e){if(c.isBuffer(e)){var n=0|m(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?s(t,0):d(t,e);if("Buffer"===e.type&&i(e.data))return d(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function _(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(t).length;default:if(o)return X(t).length;e=(""+e).toLowerCase(),o=!0}}function v(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return P(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function b(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function C(t,e,n,o,r){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=c.from(e,o)),c.isBuffer(e))return 0===e.length?-1:L(t,e,n,o,r);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):L(t,[e],n,o,r);throw new TypeError("val must be string, number or Buffer")}function L(t,e,n,o,r){var i,a=1,s=t.length,c=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var u=-1;for(i=n;i<s;i++)if(l(t,i)===l(e,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var h=!0,p=0;p<c;p++)if(l(t,i+p)!==l(e,p)){h=!1;break}if(h)return i}return-1}function w(t,e,n,o){n=Number(n)||0;var r=t.length-n;o?(o=Number(o))>r&&(o=r):o=r;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");o>i/2&&(o=i/2);for(var a=0;a<o;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function S(t,e,n,o){return K(X(e,t.length-n),t,n,o)}function T(t,e,n,o){return K(q(e),t,n,o)}function I(t,e,n,o){return T(t,e,n,o)}function O(t,e,n,o){return K(J(e),t,n,o)}function A(t,e,n,o){return K(Z(e,t.length-n),t,n,o)}function P(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);for(var o=[],r=e;r<n;){var i,a,s,c,l=t[r],u=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(i=t[r+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=t[r+1],a=t[r+2],128==(192&i)&&128==(192&a)&&(c=(15&l)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=t[r+1],a=t[r+2],s=t[r+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),r+=h}return M(o)}n.Buffer=c,n.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return h(null,t,e,n)},c.allocUnsafe=function(t){return p(null,t)},c.allocUnsafeSlow=function(t){return p(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,r=0,i=Math.min(n,o);r<i;++r)if(t[r]!==e[r]){n=t[r],o=e[r];break}return n<o?-1:o<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,r),r+=a.length}return o},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,o,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),e<0||n>t.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&e>=n)return 0;if(o>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(r>>>=0)-(o>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),l=this.slice(o,r),u=t.slice(e,n),h=0;h<s;++h)if(l[h]!==u[h]){i=l[h],a=u[h];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return C(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return C(this,t,e,n,!1)},c.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i=!1;;)switch(o){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return I(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function M(t){var e=t.length;if(e<=D)return String.fromCharCode.apply(String,t);for(var n="",o=0;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=D));return n}function R(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(127&t[r]);return o}function E(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(t[r]);return o}function B(t,e,n){var o,r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=(o=t[a])<16?"0"+o.toString(16):o.toString(16);return i}function F(t,e,n){for(var o=t.slice(e,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,o,r,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<i)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function G(t,e,n,o){e<0&&(e=65535+e+1);for(var r=0,i=Math.min(t.length-n,2);r<i;++r)t[n+r]=(e&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function U(t,e,n,o){e<0&&(e=4294967295+e+1);for(var r=0,i=Math.min(t.length-n,4);r<i;++r)t[n+r]=e>>>8*(o?r:3-r)&255}function k(t,e,n,o){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(t,e,n,o,i){return i||k(t,0,n,4),r.write(t,e,n,o,23,4),n+4}function W(t,e,n,o,i){return i||k(t,0,n,8),r.write(t,e,n,o,52,8),n+8}c.prototype.slice=function(t,e){var n,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var o=this[t+--e],r=1;e>0&&(r*=256);)o+=this[t+--e]*r;return o},c.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var o=e,r=1,i=this[t+--o];o>0&&(r*=256);)i+=this[t+--o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,o){t=+t,e|=0,n|=0,o||j(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,o){t=+t,e|=0,n|=0,o||j(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[e+r]=255&t;--r>=0&&(i*=256);)this[e+r]=t/i&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):G(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):G(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):G(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):G(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return H(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return H(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return W(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return W(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var r,i=o-n;if(this===t&&n<e&&e<o)for(r=i-1;r>=0;--r)t[r+e]=this[r+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=c.isBuffer(t)?t:X(new c(t,o).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function V(t){if((t=Y(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t,e){var n;e=e||1/0;for(var o=t.length,r=null,i=[],a=0;a<o;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===o){(e-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Z(t,e){for(var n,o,r,i=[],a=0;a<t.length&&!((e-=2)<0);++a)o=(n=t.charCodeAt(a))>>8,r=n%256,i.push(r),i.push(o);return i}function J(t){return o.toByteArray(V(t))}function K(t,e,n,o){for(var r=0;r<o&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],4:[function(t,e,n){n.read=function(t,e,n,o,r){var i,a,s=8*r-o-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?r-1:0,p=n?-1:1,f=t[e+h];for(h+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+t[e+h],h+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=o;u>0;a=256*a+t[e+h],h+=p,u-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,o),i-=l}return(f?-1:1)*a*Math.pow(2,i-o)},n.write=function(t,e,n,o,r,i){var a,s,c,l=8*i-r-1,u=(1<<l)-1,h=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=o?0:i-1,d=o?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*c-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&s,f+=d,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[n+f]=255&a,f+=d,a/=256,l-=8);t[n+f-d]|=128*g}},{}],DataManager:[function(t,e,n){"use strict";cc._RF.push(e,"8fa84j3BbNPpL1hUWIcuqxq","DataManager");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=[];function i(t,e){r.push(e)}var a=function(){function t(){this.signdays=0,this.signtime=0,this.share_count=0,this.share_count_total=0,this.watch_ad_count=0,this.watch_ad_count_total=0,this.savedatatime=0,this.signinfo={sign_index:0,sign_time:0,sign_beisu:0}}return t.Instance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.prototype.getUserData=function(){return Data.user},t.prototype.getUploadData=function(){for(var t={},e=0;e<r.length;++e)t[r[e]]=this[r[e]];return t},t.instance=null,o([i],t.prototype,"signdays",void 0),o([i],t.prototype,"signtime",void 0),o([i],t.prototype,"share_count",void 0),o([i],t.prototype,"savedatatime",void 0),o([i],t.prototype,"signinfo",void 0),t}();n.default=a,cc._RF.pop()},{}],DebugTools:[function(t,e,n){"use strict";cc._RF.push(e,"afc5a/e3ihDopuoBgs/d9wY","DebugTools");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Core"),s=t("../manager/Model"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){cc.sys.platform==cc.sys.DESKTOP_BROWSER&&(this.addBtn("\u4e0b\u4e00\u5173",function(){s.default.game.selectedLevel++,a.Core.winManager.removeAll(),a.Core.winManager.open("GameWin")}),this.addBtn("\u4e0a\u4e00\u5173",function(){s.default.game.selectedLevel--,a.Core.winManager.removeAll(),a.Core.winManager.open("GameWin")}),this.addBtn("2\u500d\u6570",function(){cc.kSpeed(2)}))},e.prototype.addBtn=function(t,e){var n=document.getElementsByClassName("toolbar")[0];if(n){var o=document.createElement("div");o.className="item",o.innerHTML="<button id='"+t+"'>"+t+"</button>",n.appendChild(o),document.getElementById(t).onclick=function(){e()}}},i([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../Core":"Core","../manager/Model":"Model"}],Dispatcher:[function(t,e,n){"use strict";cc._RF.push(e,"0c1f0kq+0JAIqBoSZqDLOoC","Dispatcher");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(){function t(){this.dict=new Object}return t.prototype.on=function(t,e,n){var o=this.dict[t];if(o){if(-1!=this.getIndex(o,e,n))return}else o=new Array,this.dict[t]=o;o.push({callback:e,thisObj:n})},t.prototype.getIndex=function(t,e,n){for(var o=0;o<t.length;o++){var r=t[o];if(r.callback==e&&r.thisObj==n)return o}return-1},t.prototype.off=function(t,e,n){if(this.dict[t]){var o=this.dict[t];if(o){var r=this.getIndex(o,e,n);-1!=r&&o.splice(r,1),o.length<=0&&delete this.dict[t]}}},t.prototype.offByTarget=function(t){for(var e in this.dict)for(var n=this.dict[e],o=0;o<n.length;o++)n[o].thisObj==t&&(n.splice(o,1),o--)},t.prototype.execute=function(t,e){void 0===e&&(e=null);var n=this.dict[t];if(null!=n)for(var o=0;o<n.length;o++){var r=n[o],i=r.callback,a=r.thisObj;i.apply(a,e)}},o([i],t)}());n.default=a,cc._RF.pop()},{}],EffectHelper:[function(t,e,n){"use strict";cc._RF.push(e,"a0f87X/GyVJ0Kgh0KZ8UIki","EffectHelper"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/common/GameConst"),r=t("../../core/component/FrameAnimation"),i=t("../../core/utils/Utils"),a=function(){function t(){}return t.createBlastEffect=function(t,e,n,i){var a=new cc.Node;a.addComponent(cc.Sprite);var s=a.addComponent(r.FrameAnimation);a.x=e,a.y=n,a.parent=t,a.on(r.FrameAnimation.COMPLETE,function(){a.destroy()},this),s.play(1,"blastEffect",1),a.color=o.default.FontColor[i]},t.createBombEffect=function(t,e,n){var o=new cc.Node;o.addComponent(cc.Sprite);var i=o.addComponent(r.FrameAnimation);o.x=e,o.y=n,o.parent=t,o.on(r.FrameAnimation.COMPLETE,function(){o.destroy()},this),i.play(1,"bombAni",1)},t.createPropTipEffect=function(t,e,n,r,a){var s="";e==o.default.PROP.BACK?s="effect/backani":e==o.default.PROP.PAUSE?s="effect/pauseani":e==o.default.PROP.SLOW&&(s="effect/slowani");var c=new cc.Node;c.parent=t;var l=c.addComponent(cc.Sprite);c.x=n,c.y=r,i.default.setSpriteFrame(l,s,"texture"),c.zIndex=1006,c.color=o.default.FontColor[a],cc.tween(c).to(3,{y:r+100}).call(function(){c.destroy()}).start()},t}();n.default=a,cc._RF.pop()},{"../../core/common/GameConst":"GameConst","../../core/component/FrameAnimation":"FrameAnimation","../../core/utils/Utils":"Utils"}],EventType:[function(t,e,n){"use strict";cc._RF.push(e,"cbc34SI4+5Do7kJo/CYRJvo","EventType"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.GETIPHONID_COMPLETE="GETIPHONID_COMPLETE",t.IOS_CANCEL="IOS_CANCEL",t.IOS_OPEN="IOS_OPEN",t.GETWX_COMPLETE="GETWX_COMPLETE",t.AD_COMPLETE="AD_COMPLETE",t.WUJIANG_SET="WUJIANG_SET",t}();n.default=o,cc._RF.pop()},{}],FailedWin:[function(t,e,n){"use strict";cc._RF.push(e,"157477XpChGB6koLLgFXhHc","FailedWin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=t("../../../core/component/BasePanel"),c=t("../../../core/manager/WXTTUtils"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){c.default.showBanner(),c.default.showInterstitialAd()},e.prototype.onMenuClick=function(){a.Core.soundManager.playSFX("sound/button"),a.Core.winManager.removeAll(),a.Core.winManager.open("LevelWin")},e.prototype.onShareClick=function(){a.Core.soundManager.playSFX("sound/button"),c.default.share()},e.prototype.onRetryClick=function(){a.Core.soundManager.playSFX("sound/button"),a.Core.winManager.removeAll(),a.Core.winManager.open("GameWin")},e.prototype.onDestroy=function(){c.default.destroyBanner()},i([u],e)}(s.default));n.default=h,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/component/BasePanel":"BasePanel","../../../core/manager/WXTTUtils":"WXTTUtils"}],FrameAnimation:[function(t,e,n){"use strict";cc._RF.push(e,"a40a383lKpHsa9b4+45xybM","FrameAnimation");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.FrameAnimation=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._frameRate=60,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){this.image=this.node.getComponent(cc.Sprite)},e.createAnimation=function(t,e){this.cacheAnimations[e]=t},e.prototype.play=function(t,e,o){if(void 0===o&&(o=-1),this._isPlaying=!0,this.textures=n.cacheAnimations[e],null==this.textures)return cc.warn("\u627e\u4e0d\u5230\u52a8\u753b"+e),void(this._isPlaying=!1);this._currentFrame=this._startFrame=t,this._totalFrames=this.textures.length,this._loops=o,this._loopCount=0,this.animate(),this.unscheduleAllCallbacks(),console.error("1 / this._frameRate:",1/this._frameRate),this.schedule(this.onTimer.bind(this),1/this._frameRate)},e.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this.unscheduleAllCallbacks(),this._loopCount=0)},e.prototype.gotoAndStop=function(t){this.goto(t),this.stop()},e.prototype.goto=function(t){t<this._startFrame?t=this._startFrame:t>this._endFrame&&(t=this._endFrame),this._currentFrame=t,this.animate()},e.prototype.animate=function(){this.textures&&this.image&&this.image.spriteFrame!=this.textures[this._currentFrame-1]&&(this.image.spriteFrame=this.textures[this._currentFrame-1],this.node.emit(n.UPDATE))},e.prototype.nextFrame=function(){this.stop(),this.goto(this._currentFrame+1)},e.prototype.prevFrame=function(){this.stop(),this.goto(this._currentFrame-1)},e.prototype.onTimer=function(){if(this._currentFrame++,this._currentFrame>this._totalFrames){if(this._loopCount++,this._loopCount==this._loops&&this._loops>0)return this.node.emit(n.COMPLETE),void this.stop();this._currentFrame=this._startFrame}this.animate()},e.prototype.isPlaying=function(){return this._isPlaying},Object.defineProperty(e.prototype,"frameRate",{get:function(){return this._frameRate},set:function(t){t>0&&(this._frameRate=t)},enumerable:!1,configurable:!0}),e.UPDATE="update",e.COMPLETE="complete",e.cacheAnimations={},i([c()],e.prototype,"frameRate",null),n=i([s],e)}(cc.Component);n.FrameAnimation=l,cc._RF.pop()},{}],Frog:[function(t,e,n){"use strict";cc._RF.push(e,"d91e2bTp7tADZfs5bf+MD7P","Frog");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=t("../../../core/common/GameConst"),c=t("../../../core/component/FrameAnimation"),l=t("../../../core/utils/Utils"),u=t("./Ball"),h=t("../../../core/utils/Queue"),p=cc._decorator,f=p.ccclass,d=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ballPrefab=null,e.fireArrow=null,e.clearAni=null,e.lightAni=null,e.currentBall=null,e.nextBall=null,e.frog=null,e.aim=null,e.clickArea=null,e}return r(e,t),e.prototype.setBalls=function(t,e,n){this.balls1=t,this.balls2=e,this.shootBalls=new h.default;for(var o=0;o<n.length;o++)this.shootBalls.push(n[o]+1)},e.prototype.start=function(){this.currentBall=this.createBall(),this.currentBall.node.x=0,this.currentBall.node.y=-36,this.nextBall=this.createBall(),this.nextBall.node.x=0,this.nextBall.node.y=0,this.setDepth(),this.currentBall.play(),this.nextBall.stop()},e.prototype.getBall=function(){var t=this.currentBall;return this.createNext(),this.updateAim(),t},e.prototype.createNext=function(){this.currentBall=this.nextBall,this.currentBall.node.x=0,this.currentBall.node.y=-38,this.nextBall=this.createBall(),this.nextBall.node.x=0,this.nextBall.node.y=0,this.setDepth(),this.currentBall.play(),this.nextBall.stop()},e.prototype.shoot=function(){l.default.setSpriteFrame(this.frog,"game/frog1","texture"),a.Core.timer.register(.1,this,this.changeShoot,1),this.check()},e.prototype.changeShoot=function(){l.default.setSpriteFrame(this.frog,"game/frog","texture")},e.prototype.showAim=function(t){this.aim.active=!0,this.aim.color=s.default.FontColor[t]},e.prototype.hideAim=function(){this.aim.active=!1},e.prototype.hasAim=function(){return this.aim.active},e.prototype.updateAim=function(){this.aim.active&&this.currentBall&&this.showAim(this.currentBall.code)},e.prototype.showFireArrow=function(t){t?(this.clearSpecialProp(),this.fireArrow.node.active=!0,this.fireArrow.frameRate=12,this.fireArrow.play(1,"fireArrow"),this.currentBall.node.active=!1):(this.currentBall.node.active=!0,this.fireArrow.node.active=!1,this.fireArrow.stop())},e.prototype.showClearAni=function(t){t?(this.clearSpecialProp(),this.clearAni.node.active=!0,this.clearAni.frameRate=12,this.clearAni.play(1,"clearAni"),this.currentBall.node.active=!1):(this.currentBall.node.active=!0,this.clearAni.node.active=!1,this.clearAni.stop())},e.prototype.showLightAni=function(t){t?(this.clearSpecialProp(),this.lightAni.node.active=!0,this.lightAni.frameRate=12,this.lightAni.play(1,"lightAni"),this.currentBall.node.active=!1):(this.currentBall.node.active=!0,this.lightAni.node.active=!1,this.lightAni.stop())},e.prototype.isSpecialBall=function(){return this.fireArrow.node.active||this.clearAni.node.active||this.lightAni.node.active},e.prototype.getSpecialCode=function(){return this.fireArrow.node.active?s.default.PROP.ARROW:this.clearAni.node.active?s.default.PROP.CLEAR:this.lightAni.node.active?s.default.PROP.LIGHT:0},e.prototype.getClickArea=function(){return{x:this.node.x-.5*this.clickArea.width,y:this.node.y-.5*this.clickArea.height,w:this.clickArea.width,h:this.clickArea.height}},e.prototype.onSwapClick=function(){if(console.log("swap"),!this.isSpecialBall()){var t=this.currentBall;this.currentBall=this.nextBall,this.nextBall=t,cc.tween(this.currentBall.node).to(.1,{y:-38}).start(),cc.tween(this.nextBall.node).to(.1,{y:0}).start(),a.Core.soundManager.playSFX("sound/change"),this.shoot(),this.setDepth(),this.currentBall.play(),this.nextBall.stop(),this.updateAim()}},e.prototype.check=function(){for(var t=[],e=this.balls1.concat(this.balls2),n=0,o=e;n<o.length;n++){var r=o[n];t.push(r.code)}if(0!=e.length){var i=t.indexOf(this.currentBall.code);-1==i&&(this.currentBall.code=t[Math.floor(Math.random()*t.length)],this.currentBall.play(),this.nextBall.stop()),-1==(i=t.indexOf(this.nextBall.code))&&(this.nextBall.code=t[Math.floor(Math.random()*t.length)]),this.updateAim()}},e.prototype.createBall=function(){for(var t=[],e=this.balls1.concat(this.balls2),n=0,o=e;n<o.length;n++){var r=o[n];t.push(r.code)}var i=1;this.shootBalls.size()>0?i=this.shootBalls.pop():0!=e.length&&(i=t[Math.floor(Math.random()*t.length)]);var a=cc.instantiate(this.ballPrefab);return a.parent=this.node,a.getComponent(u.default).code=i,a.getComponent(u.default)},e.prototype.clearSpecialProp=function(){this.lightAni.node.active=!1,this.lightAni.stop(),this.fireArrow.node.active=!1,this.fireArrow.stop(),this.clearAni.node.active=!1,this.clearAni.stop()},e.prototype.setDepth=function(){this.nextBall.node.zIndex=0,this.frog.node.zIndex=1,this.currentBall.node.zIndex=2,this.fireArrow.node.zIndex=2,this.clearAni.node.zIndex=2,this.lightAni.node.zIndex=2,this.clickArea.zIndex=2},e.prototype.onDisable=function(){},i([d(cc.Prefab)],e.prototype,"ballPrefab",void 0),i([d(c.FrameAnimation)],e.prototype,"fireArrow",void 0),i([d(c.FrameAnimation)],e.prototype,"clearAni",void 0),i([d(c.FrameAnimation)],e.prototype,"lightAni",void 0),i([d(cc.Sprite)],e.prototype,"frog",void 0),i([d(cc.Node)],e.prototype,"aim",void 0),i([d(cc.Node)],e.prototype,"clickArea",void 0),i([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/common/GameConst":"GameConst","../../../core/component/FrameAnimation":"FrameAnimation","../../../core/utils/Queue":"Queue","../../../core/utils/Utils":"Utils","./Ball":"Ball"}],GameConstCfg:[function(t,e,n){"use strict";cc._RF.push(e,"7dcf9yFDGNI35lU3i2Nau/o","GameConstCfg");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GameConstCfgReader=n.GameConstCfgDefine=void 0;var i=t("./CfgReaderBase");n.GameConstCfgDefine={initBallCount:1,makeupBallCount:2,shootSpeed:3,shootSpeedSp:4,ballSpeed:5,initBallSpeed:6,nearDestBallSpeed:7,gameOverBallSpeed:8,ballAbsorbBallSpeed:9,rollBackBallSpeed:10,reviveBallSpeed:11,slowdownDis:12,makeupBallCountdown:13,makeupBallSpeed:14,reviveBallRollbackDis:15};var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="GameConst",e}return r(e,t),e}(i.CfgReaderBase);n.GameConstCfgReader=a,cc._RF.pop()},{"./CfgReaderBase":"CfgReaderBase"}],GameConst:[function(t,e,n){"use strict";cc._RF.push(e,"a4ae7xUK6FKFqoHk7jv+EfP","GameConst"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.LocalDataKey="cc-studio-zuma",t.PROP_SHOW_EFFECT=[null,"effect/arrow","effect/aim","effect/pause","effect/light","effect/slow","effect/back","effect/clear","effect/arrow","effect/bomb"],t.PROP={ARROW:1,AIM:2,PAUSE:3,LIGHT:4,SLOW:5,BACK:6,CLEAR:7,COLOR:8,BOMB:9},t.WIN_LAYER={SCENE:10,POPUP:20,GUIDE:30,TIP:40,ERROR:50,VIDEO:60},t.WIN_TYPE={NORMAL:1,FULLSCREEN:2,PERMANENT:3},t.WinPath={MenuWin:"prefab/menu/MenuWin",GameWin:"prefab/game/GameWin",LoadingWin:"prefab/loading/LoadingWin",PauseWin:"prefab/game/PauseWin",VictoryWin:"prefab/game/VictoryWin",FailedWin:"prefab/game/FailedWin",LevelWin:"prefab/level/LevelWin",HelpWin:"prefab/help/HelpWin",ReviveWin:"prefab/game/ReviveWin"},t.EVENT={},t.FontColor=[null,cc.color(45,116,245),cc.color(134,255,61),cc.color(227,44,84),cc.color(170,45,244),cc.color(79,255,249)],t}();n.default=o,cc._RF.pop()},{}],GameEntry:[function(t,e,n){"use strict";cc._RF.push(e,"1aeb6ndH+ZOAqUbCVhNvEWo","GameEntry");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core/Core"),s=t("./core/manager/Model"),c=cc._decorator,l=c.ccclass,u=c.property;cc.dynamicAtlasManager.enabled=!0,cc.macro.CLEANUP_IMAGE_CACHE=!1;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e}return r(e,t),e.prototype.onLoad=function(){a.Core.init(this.node),s.default.loadData(),a.Core.soundManager.loadSounds(),a.Core.winManager.register(this.container)},e.prototype.start=function(){a.Core.winManager.open("LoadingWin")},i([u(cc.Node)],e.prototype,"container",void 0),i([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"./core/Core":"Core","./core/manager/Model":"Model"}],GameEvent:[function(t,e,n){"use strict";cc._RF.push(e,"7698aOBsGFKDogqTQs289dG","GameEvent");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventHash={},e.ower=null,e.type=null,e.callback=null,e}return r(e,t),e.prototype.clearAll=function(){this.eventHash={}},e.prototype.register=function(t,e,n){var o={};o.ower=t,o.type=e,o.callback=n,this.eventHash.hasOwnProperty(e)||(this.eventHash[e]=[]),this.eventHash[e].push(o)},e.prototype.unregister=function(t,e){var n=this.eventHash[e];n&&n.length>0&&n.forEach(function(o,r){o.ower===t&&o.type===e&&n.splice(r,1)})},e.prototype.dispatch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this.eventHash[t];if(o&&o.length>0)for(var r in o){var i=o[r];i.callback&&i.callback.apply(i,e)}},e}(t("../manager/Singleton").default);n.default=i,cc._RF.pop()},{"../manager/Singleton":"Singleton"}],GameHudUI:[function(t,e,n){"use strict";cc._RF.push(e,"5baf7d5g01FPpAiAcQ5jm/r","GameHudUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=t("../../../core/manager/Model"),c=t("./GameWin"),l=cc._decorator,u=l.ccclass,h=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score_txt=null,e.level_txt=null,e.highScore_txt=null,e.progress=null,e}return r(e,t),e.prototype.onLoad=function(){this.level_txt.string=s.default.game.selectedLevel+"",this.score_txt.string="0",-1==s.default.game.scores[s.default.game.selectedLevel-1]?this.highScore_txt.string="0":this.highScore_txt.string=s.default.game.scores[s.default.game.selectedLevel-1]+""},e.prototype.setProgress=function(t){this.progress.progress=t},e.prototype.updateScore=function(t){this.score_txt.string=t+""},e.prototype.onPauseClick=function(){a.Core.soundManager.playSFX("sound/button"),a.Core.timer.pause(),a.Core.winManager.open("PauseWin"),this.node.parent.getComponent(c.default).pause=!0},i([h(cc.Label)],e.prototype,"score_txt",void 0),i([h(cc.Label)],e.prototype,"level_txt",void 0),i([h(cc.Label)],e.prototype,"highScore_txt",void 0),i([h(cc.ProgressBar)],e.prototype,"progress",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/manager/Model":"Model","./GameWin":"GameWin"}],GameMgr:[function(t,e,n){"use strict";cc._RF.push(e,"7af420p3wRHxYIylGOAJRYq","GameMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../framework/core/common/SingleClass"),a=t("../framework/core/notify/Notifier"),s=t("../framework/define/NotifyID"),c=t("../framework/config/Cfg"),l=t("../framework/core/Load/Load"),u=t("./lang/LangMgr"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stopList={},e}return r(e,t),e.prototype.onGameEnter=function(){l.default.init(""),this.initLoad(),cc.game.on(cc.game.EVENT_HIDE,this.onAppHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onAppShow,this)},e.prototype.onAppHide=function(){a.Notifier.send(s.NotifyID.Game_onHide)},e.prototype.onAppShow=function(){a.Notifier.send(s.NotifyID.Game_onShow)},e.prototype.initLoad=function(){for(var t=[[c.Cfg.initByMergeJsonLocal(),100]],e=0;e<t.length;e++)t[e][1];var n=new Array,o=function(e){var o=t[e];n.push(o[0].then(function(){o[1]}))};for(e=0;e<t.length;e++)o(e);Promise.all(n).then(function(){u.LangMgr.getInstance().init()})},Object.defineProperty(e.prototype,"isGameStop",{get:function(){for(var t in this._stopList)if(this._stopList[t])return!0;return!1},enumerable:!1,configurable:!0}),e}(i.default);n.default=h,cc._RF.pop()},{"../framework/config/Cfg":"Cfg","../framework/core/Load/Load":"Load","../framework/core/common/SingleClass":"SingleClass","../framework/core/notify/Notifier":"Notifier","../framework/define/NotifyID":"NotifyID","./lang/LangMgr":"LangMgr"}],GameModel:[function(t,e,n){"use strict";cc._RF.push(e,"029c1JxELFHY6E1FMMvbEzW","GameModel");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=[];function i(t,e){r.push(e)}var a=cc._decorator,s=a.ccclass,c=(a.property,function(){function t(){this.adventureLevel=1,this.selectedLevel=1,this.score=0,this.highscore=0,this.scores=[0],this.maxCombo=0}return t.prototype.getUploadData=function(){for(var t={},e=0;e<r.length;++e)t[r[e]]=this[r[e]];return t},t.prototype.setData=function(t){if(t)for(var e=0;e<r.length;++e){var n=t[r[e]];if(null!=n||null!=n)if("[object Object]"==Object.prototype.toString.call(n))for(var o in n)this[r[e]][o]=n[o];else this[r[e]]=n}},o([i],t.prototype,"adventureLevel",void 0),o([i],t.prototype,"scores",void 0),o([s],t)}());n.default=c,cc._RF.pop()},{}],GamePath:[function(t,e,n){"use strict";cc._RF.push(e,"cfd492t8m5DgplgPFghO2Lw","GamePath"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/manager/GameSettings"),r=t("../../core/utils/BezierUtil"),i=t("../../core/utils/Utils"),a=function(){function t(){}return t.getStepData=function(t){for(var e=i.default.copy(t),n=0;n<e.length;n++){var o=e[n][0],a=e[n][1];e[n]=cc.v2(o,a)}for(var s=[],c=0;c<e.length-2;++c)for(var l=0==c?new cc.Vec2(e[0].x,e[0].y):new cc.Vec2((e[c].x+e[c+1].x)/2,(e[c].y+e[c+1].y)/2),u=new cc.Vec2(e[c+1].x,e[c+1].y),h=c<=e.length-4?new cc.Vec2((e[c+1].x+e[c+2].x)/2,(e[c+1].y+e[c+2].y)/2):new cc.Vec2(e[c+2].x,e[c+2].y),p=r.default.init(l,u,h,.5),f=1;f<=p;++f){var d=r.default.getAnchorPoint(f);s.push(d)}return s},t.drawLine=function(t,e){if(o.default.IS_DEBUG)for(var n=1;n<=e.pathCount;n++){for(var r=e.paths[n-1],a=i.default.copy(r),s=0;s<a.length;s++){var c=a[s][0],l=a[s][1];a[s]=cc.v2(c,l)}t.moveTo(a[0].x,a[0].y);var u=0;for(u=1;u<a.length-2;u++){var h=(a[u].x+a[u+1].x)/2,p=(a[u].y+a[u+1].y)/2;t.quadraticCurveTo(a[u].x,a[u].y,h,p)}t.quadraticCurveTo(a[u].x,a[u].y,a[u+1].x,a[u+1].y),t.stroke()}},t}();n.default=a,cc._RF.pop()},{"../../core/manager/GameSettings":"GameSettings","../../core/utils/BezierUtil":"BezierUtil","../../core/utils/Utils":"Utils"}],GameSettings:[function(t,e,n){"use strict";cc._RF.push(e,"6b543/nVxBLzbq0i4pu/e/w","GameSettings"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.IS_DEBUG=!0,t}();n.default=o,cc._RF.pop()},{}],GameUtils:[function(t,e,n){"use strict";cc._RF.push(e,"4f1f1zkKjRPjJOIkY6vQKuu","GameUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./md5"),r=function(){function t(){}return t.getUrlParmas=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);if(n)return unescape(n[2])},t.getBezierCutAngle=function(e,n,o,r){var i=2*(e.x*(r-1)+n.x*(1-2*r)+o.x*r),a=2*(e.y*(r-1)+n.y*(1-2*r)+o.y*r);return Math.atan2(a,i)*t.rad2angle},t.getRadianTwoPoint=function(t,e){var n=Math.abs(Math.atan2(t.x,t.y)),o=Math.abs(Math.atan2(e.x,e.y));return Math.abs(n-o)},t.getRadianBySlope=function(t){return Math.atan(t)},t.getAngleBySlope=function(e){return Math.atan(e)*t.rad2angle},t.getPointAngle=function(t,e){return 90-180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},t.getDistance=function(t,e){var n=e.x-t.x,o=e.y-t.y,r=Math.pow(n,2)+Math.pow(o,2);return Math.sqrt(r)},t.getTwoTargetDegree=function(e,n,o,r){var i=e*r-o*n;i=0!=i&&i<0?-1:1;var a=(e*o+n*r)/(Math.sqrt(e*e+n*n)*Math.sqrt(o*o+r*r));return Math.acos(Math.min(a,1))*t.rad2angle*i},t.getDistantToLine=function(t,e,n){var o=e.y-t.y,r=t.x-e.x,i=e.x*t.y-t.x*e.y;return Math.abs(o*n.x+r*n.y+i)/Math.sqrt(o*o+r*r)},t.obj2ReqStr=function(t){if(null!=t){var e="";for(var n in t){var o=typeof t[n];"undefined"!=o&&(e.length>0&&(e+="&"),e+="object"==o?n+"="+JSON.stringify(t[n]):n+"="+t[n])}if(0!=e.length)return e}},t.isHitRand=function(t,e){return e||(e=100),!(Math.floor(Math.random()*(e+1))>t)},t.isEmptyValue=function(t){return null==t||void 0===t},t.isEmptyObject=function(t){for(var e in t)return!1;return!0},t.random=function(t,e){return e<=t?t:Math.random()*(e-t)+t},t.copy=function(t){if(null===t||"object"!=typeof t)return t;var e=Array.isArray(t)?[]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},t.deepCopy=function(t,e){var n=this;if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var o,r=(o=function(e){return e.original===t},e.filter(o)[0]);if(r)return r.copy;var i=Array.isArray(t)?[]:{};return e.push({original:t,copy:i}),Object.keys(t).forEach(function(o){i[o]=n.deepCopy(t[o],e)}),i},t.getWeightRandom=function(t,e,n,o){for(var r=Math.random(),i=0,a=0;a<t.length;a++)i+=(s=t[a])[e];for(r*=i,i=0,a=0;a<t.length;a++){var s;if(r<(i+=(s=t[a])[e])&&(null==n||o==s[n]))return a}return t.length-1},t.getWeightRandomNum=function(t){for(var e=Math.random(),n=0,o=0;o<t.length;o++)n+=t[o].weight;for(e*=n,n=0,o=0;o<t.length;o++)if(e<(n+=t[o].weight))return t[o];return t[t.length-1]},t.getDifferentRandom=function(t,e){var n=[];if(e<=0)return n;if(e>t.length)return t.concat();for(var o=0;o<e;){var r=t[Math.floor(Math.random()*t.length)];-1==n.indexOf(r)&&(n.push(r),o++)}return n},t.objToArray=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var o=0;o<n;o++){var r=parseInt(t[o]),i=parseInt(e[o]);if(r>i)return 1;if(r<i)return-1}return 0},t.upset=function(t){for(var e,n,o=t.length-1;o>=0;o--)e=Math.random()*o|0,n=t[o],t[o]=t[e],t[e]=n},t.lerp=function(t,e,n){return n>=1?e:t+(e-t)*n},t.findObjByArry=function(t,e,n){for(var o=t.length;o--;)if(t[o][e]===n)return o;return null},t.getTypeof=function(t){return"object"==typeof t?null==t.length?"object":"number"==typeof t.length?"array":"object":typeof t},t.checkPointLinePos=function(t,e,n,o,r,i){var a=(t-r)*(o-i)-(e-i)*(n-r);return a>0?1:0==a?0:-1},t.bezier=function(t,e,n){if(!(t.length<2)){n||(n={x:0,y:0}),n.x=n.y=0;var o=t.length,r=[];r[0]=r[1]=1;for(var i=3;i<=o;i++){for(var a=[],s=0;s<i-1;s++)a[s]=r[s];for(r[0]=r[i-1]=1,s=0;s<i-2;s++)r[s+1]=a[s]+a[s+1]}for(i=0;i<o;i++){var c=t[i],l=Math.pow(1-e,o-i-1)*Math.pow(e,i)*r[i];n.x+=l*c.x,n.y+=l*c.y}return n}},t.copyVector3=function(t,e){e.x=t.x,e.y=t.y,e.z=t.z},t.angleLerp=function(t,e,n){var o=e-t;return o>180?o-=360:o<-180&&(o+=360),(o=t+o*n)>360?o-=360:o<-360&&(o+=360),o},t.getAngleAdd=function(t,e){var n=e-t;return n>180?n-=360:n<-180&&(n+=360),n},t.randomInt=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.showOverTime=function(e){if(e<0)return"00:00:00";var n=Math.floor(e/3600);e-=3600*n;var o=Math.floor(e/60);return e-=60*o,t.prefixInt(n,2)+":"+t.prefixInt(o,2)+":"+t.prefixInt(e,2)},t.prefixInt=function(t,e){return(Array(e).join("0")+t).slice(-e)},t.groupSpanTx=function(t,e,n){return null==e&&(e="#ffffff"),null==n&&(n=50),"<span style='color:"+e+"; font:"+n+"px Arial;'>"+t+"</span>"},t.showMSTime=function(t){var e=Math.floor(t),n=Math.floor(e/60),o=Math.floor(t-60*n),r=100*(t-e);r=Math.floor(r);var i=n.toString(),a=o.toString(),s=r.toString();return n<10&&(i="0"+n),o<10&&(a="0"+o),r<10&&(s="0"+r),i+":"+a+":"+s},t.getRandom=function(t,e,n,o){for(var r=Math.random(),i=0,a=0;a<t.length;a++)i+=(s=t[a])[e];for(r*=i,i=0,a=0;a<t.length;a++){var s;if(r<(i+=(s=t[a])[e])&&(null==n||o==s[n]))return a}return t.length-1},t.getTimeDayText=function(t){var e=Math.floor(t/86400),n=Math.ceil((t-86400*e)/3600),o=n.toString();return n<10&&(o="0"+n),e+"\u5929"+o+"\u5c0f\u65f6"},t.str2Obj=function(t){return t&&"string"==typeof t?JSON.parse(t):t},t.getRandItemInArr=function(e,n){if(0!=e.length){var o=t.randomInt(0,e.length-1);return n?e.splice(o,1)[0]:e[o]}},t.seedRandom=function(t,e,n){return(e=e||0)+(9301*t+49297)%233280/233280*((n=n||1)-e)},t.clamp=function(t,e,n){return t<e?e:t>n?n:t},t.idEncode=function(t){return 13*t+123456},t.idDecode=function(t){return(t-123456)/13},t.getStrLength=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].charCodeAt(n)<=255?1:2;return e},t.signParams=function(t){var e=Object.keys(t);e.sort();for(var n="",r=0;r<e.length;r++){var i=e[r];n+=i+"="+t[i]+"|"}return n+="extra-sign",o.hex_md5(n)},t.int64ToString=function(t,e){var n=e&&t.length>0&&t[0]>=128,o=[];return t.forEach(function(e,r){n&&(e=256-(r==t.length-1?0:1)-e);for(var i=0;e>0||i<o.length;i++)e+=256*(o[i]||0),o[i]=e%10,e=(e-o[i])/10}),(n?"-":"")+o.reverse().join("")},t.getRandomArrayElements=function(t,e){var n=new Array(e),o=t.length,r=new Array(o);if(e>o)throw new RangeError("getRandomArrayElements: more elements taken than available");for(;e--;){var i=Math.floor(Math.random()*o);n[e]=t[i in r?r[i]:i],r[i]=--o in r?r[o]:o}return n},t.OneDayMS=864e5,t.rad2angle=180/Math.PI,t.angle2rad=Math.PI/180,t}();n.default=r,cc._RF.pop()},{"./md5":"md5"}],GameWin:[function(t,e,n){"use strict";cc._RF.push(e,"2bf2ckFhiVDqZF+WeZTnXBr","GameWin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=t("../../../core/common/GameConst"),c=t("../../../core/component/BasePanel"),l=t("../../../core/manager/Model"),u=t("../../../core/utils/Utils"),h=t("../Ball/Ball"),p=t("../Ball/Frog"),f=t("../Ball/SpecialBall"),d=t("../EffectHelper"),g=t("../GamePath"),y=t("../PathLine"),m=t("../Tip/BonusScore"),_=t("../Tip/ChainTip"),v=t("../Tip/ComboTip"),b=t("../Tip/ScoreTip"),C=t("./GameHudUI"),L=t("../Ball/BallGenerator"),w=t("../../../framework/config/Cfg"),S=t("../../../framework/config/GameConstCfg"),T=t("../../../framework/core/common/CallbackHandler"),I=cc._decorator,O=I.ccclass,A=I.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ballPrefab=null,e.speciallBallPrefab=null,e.frogPrefab=null,e.scoreTipPrefab=null,e.comboPrefab=null,e.chainPrefab=null,e.bonusPrefab=null,e.pathStarPrefab=null,e.bg=null,e.draw=null,e.balls=[],e.balls1=[],e.balls2=[],e.specialBalls=[],e._createdIndex=0,e.container=null,e.shootX=0,e.shootY=0,e.comboCount=0,e.chainCount=0,e.gapCount=0,e.lock=!1,e.pause=!1,e.endPosIndex1=0,e.endPosIndex2=0,e.endPosIndex3=0,e.moveDelay=1,e.moveDelayCount=0,e.randomPropDelay=0,e.randomPropDelayCount=0,e.bufferTime=[0,0,0,0,0,0,0,0,0],e.bufferAidTime=[0,0,0,0,0,0,0,0,0],e.bufferEffect=[0,0,0,0,0,0,0,0,0],e.warningDis=[1,2,3,4,6,8,10,12],e.entryList=[],e.decoratList=[],e.hud=null,e.ballGenerator=null,e.INIT_BALL_COUNT=18,e.MAKEUP_BALL_COUNT=18,e.SHOOT_SPEED=15,e.SHOOT_SPEED_SP=30,e.BALL_SPEED=2,e.BALL_SPEED_INIT=12,e.BALL_SPEED_NEAR_DEST=1,e.BALL_SPEED_GAMEOVER=32,e.BALL_SPEED_ABSORB=12,e.BALL_SPEED_ROLLBACK=-2,e.BALL_SPEED_REVIVE=-32,e.MAKEUP_BALL_COUNTDOWN=6,e.BALL_SPEED_MAKEUP=12,e.SLOW_DOWN_DIS=15,e.REVIVE_BALL_ROLLBACK_DIS=30,e.m_speedUpAddBallState=!1,e.m_reviveCountDown=0,e.m_isRevive=!1,e.bounceCout=0,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.lock=!0,this.container=this.GetGameObject("container"),this.effectLayer=this.GetGameObject("effectLayer"),u.default.getJson("json/Level_"+l.default.game.selectedLevel,function(e){console.log("\u5173\u5361\u6570\u636e",e.json),t.currentLevelData=e.json,t.ballGenerator=new L.default(t.currentLevelData),t.initLevelData(),t.initMap(),t.showPath(),t.initShoot()}),a.Core.soundManager.playBGM("sound/zuma")},e.prototype.initLevelData=function(){for(var t=1;t<=this.currentLevelData.pathCount;t++)this.currentLevelData["created"+t]=0;this.INIT_BALL_COUNT=w.Cfg.GameConst.get(S.GameConstCfgDefine.initBallCount).paramInt,this.MAKEUP_BALL_COUNT=w.Cfg.GameConst.get(S.GameConstCfgDefine.makeupBallCount).paramInt,this.SHOOT_SPEED=w.Cfg.GameConst.get(S.GameConstCfgDefine.shootSpeed).paramInt,this.SHOOT_SPEED_SP=w.Cfg.GameConst.get(S.GameConstCfgDefine.shootSpeedSp).paramInt,this.BALL_SPEED=w.Cfg.GameConst.get(S.GameConstCfgDefine.ballSpeed).paramInt,this.BALL_SPEED_INIT=w.Cfg.GameConst.get(S.GameConstCfgDefine.initBallSpeed).paramInt,this.BALL_SPEED_NEAR_DEST=w.Cfg.GameConst.get(S.GameConstCfgDefine.nearDestBallSpeed).paramInt,this.BALL_SPEED_GAMEOVER=w.Cfg.GameConst.get(S.GameConstCfgDefine.gameOverBallSpeed).paramInt,this.BALL_SPEED_ABSORB=w.Cfg.GameConst.get(S.GameConstCfgDefine.ballAbsorbBallSpeed).paramInt,this.BALL_SPEED_ROLLBACK=w.Cfg.GameConst.get(S.GameConstCfgDefine.rollBackBallSpeed).paramInt,this.BALL_SPEED_MAKEUP=w.Cfg.GameConst.get(S.GameConstCfgDefine.makeupBallSpeed).paramInt,this.MAKEUP_BALL_COUNTDOWN=w.Cfg.GameConst.get(S.GameConstCfgDefine.makeupBallCountdown).paramInt,this.SLOW_DOWN_DIS=w.Cfg.GameConst.get(S.GameConstCfgDefine.slowdownDis).paramInt,this.BALL_SPEED_REVIVE=w.Cfg.GameConst.get(S.GameConstCfgDefine.reviveBallSpeed).paramInt,this.REVIVE_BALL_ROLLBACK_DIS=w.Cfg.GameConst.get(S.GameConstCfgDefine.reviveBallRollbackDis).paramInt},e.prototype.initMap=function(){g.default.drawLine(this.draw,this.currentLevelData),u.default.setSpriteFrame(this.bg,"m"+l.default.game.selectedLevel,"map");for(var t=1;t<=this.currentLevelData.pathCount;t++)this.currentLevelData["stepData"+t]=g.default.getStepData(this.currentLevelData.paths[t-1]),this.createEntry(this.currentLevelData.paths[t-1],this.currentLevelData["stepData"+t]);this.createDecoration(),this.createEntryMask()},e.prototype.createDecoration=function(){for(var t=0;t<this.currentLevelData.decorationCount;t++){var e=new cc.Node;e.setAnchorPoint(cc.v2(0,1));var n=e.addComponent(cc.Sprite);u.default.setSpriteFrame(n,this.currentLevelData["decoration"+(t+1)][0],"texture"),e.x=this.currentLevelData["decoration"+(t+1)][1],e.y=this.currentLevelData["decoration"+(t+1)][2],this.container.addChild(e),e.zIndex=1,this.decoratList.push(n)}},e.prototype.createEntry=function(t,e){var n=new cc.Node,o=n.addComponent(cc.Sprite);u.default.setSpriteFrame(o,"game/dst0","texture"),this.container.addChild(n),n.x=t[t.length-1][0],n.y=t[t.length-1][1],n.angle=e[e.length-1][2];var r=new cc.Node,i=r.addComponent(cc.Sprite);u.default.setSpriteFrame(i,"game/dst1","texture"),this.node.addChild(r),r.x=n.x,r.y=n.y,r.angle=n.angle},e.prototype.createEntryMask=function(){for(var t=0;t<this.currentLevelData.entryCount;t++){var e=new cc.Node;e.setAnchorPoint(cc.v2(0,1));var n=e.addComponent(cc.Sprite);u.default.setSpriteFrame(n,this.currentLevelData["entryInfo"+(t+1)][0],"texture"),e.x=this.currentLevelData["entryInfo"+(t+1)][1],e.y=this.currentLevelData["entryInfo"+(t+1)][2],this.currentLevelData["entryInfo"+(t+1)].length>=3&&(e.angle=this.currentLevelData["entryInfo"+(t+1)][3]),this.entryList.push(e),this.container.addChild(e),e.zIndex=10}},e.prototype.showPath=function(){this.pathLineList=[];for(var t=0;t<this.currentLevelData.pathCount;t++){var e=new y.default(this.pathStarPrefab,this.container,this.currentLevelData["stepData"+(t+1)],this.currentLevelData.changeZorderIndex,this.currentLevelData.initBallZorder,this.currentLevelData.crossZorder);this.pathLineList.push(e)}a.Core.timer.register(.016,this,this.starsRollIn),a.Core.soundManager.playSFX("sound/pathhint")},e.prototype.starsRollIn=function(){if(!this.pause){for(var t=0,e=0,n=this.pathLineList;e<n.length;e++){var o=n[e];o.update(),o.finished&&t++}t==this.pathLineList.length&&(a.Core.timer.clear(this,this.starsRollIn),this.initBall())}},e.prototype.initBall=function(){for(var t=1;t<=this.currentLevelData.pathCount;t++){var e=this.createBall(t);e.posIndex=160,this["balls"+t].unshift(e),this.createdIndex++}this.crushedBalls=[],this.attractedBalls=[],l.default.game.maxCombo=0,a.Core.soundManager.playSFX("sound/rolling"),a.Core.timer.register(.016,this,this.ballRollIn)},Object.defineProperty(e.prototype,"createdIndex",{get:function(){return this._createdIndex},set:function(t){this._createdIndex=t;for(var e=0,n=0;n<this.currentLevelData.ballsCount.length;n++)e+=this.currentLevelData.ballsCount[n];this.hud.setProgress(this._createdIndex/e)},enumerable:!1,configurable:!0}),e.prototype.initShoot=function(){var t=this.currentLevelData.shooterPos;this.shootX=t[0][0],this.shootY=t[0][1],this.shootBall=null;var e=cc.instantiate(this.frogPrefab);this.shooter=e.getComponent(p.default),this.shooter.setBalls(this.balls1,this.balls2,this.currentLevelData.shootBalls),e.x=this.shootX,e.y=this.shootY,this.node.addChild(e),this.node.on(cc.Node.EventType.TOUCH_START,this.onStageDown,this),1==this.currentLevelData.shooterPosType&&2==this.currentLevelData.shooterPos.length&&this.showShooterPos()},e.prototype.showShooterPos=function(){var t=this,e=this.currentLevelData.shooterPos[0],n=this.currentLevelData.shooterPos[1],o=cc.tween().to(.5,{x:e[0],y:e[1]}).to(.5,{x:n[0],y:n[1]});cc.tween(this.shooter.node).then(o).repeat(3).call(function(){t.shooter.node.x=e[0],t.shooter.node.y=e[1]}).start()},e.prototype.createBall=function(t){var e=this.ballGenerator.createBall(t-1),n=cc.instantiate(this.ballPrefab);this.container.addChild(n);var o=n.getComponent(h.default);return o.code=e,o.stepData=this.currentLevelData["stepData"+t],n.zIndex=this.currentLevelData.initBallZorder,o.pathID=t,o},e.prototype.createBallByCode=function(t){var e=cc.instantiate(this.ballPrefab);return this.container.addChild(e),e.getComponent(h.default).code=t,e.getComponent(h.default)},e.prototype.randomProp=function(){if(this.randomPropDelayCount+=16,this.randomPropDelayCount>this.randomPropDelay){this.randomPropDelay=1e3*(10*Math.random()+12),this.randomPropDelayCount=0;for(var t=[],e=1;e<=this.currentLevelData.pathCount;e++)for(var n=0,o=this["balls"+e];n<o.length;n++){var r=o[n];0==r.prop&&t.push(r)}var i=t[Math.floor(Math.random()*t.length)],a=[1,2,3,4,5,6,7,9];i.node.zIndex=this.container.childrenCount-1,i.prop=a[Math.floor(Math.random()*a.length)]}},e.prototype.ballRollIn=function(){if(!this.pause){for(var t=0,e=1;e<=this.currentLevelData.pathCount;e++){var n=this["balls"+e];if(n.length<this.INIT_BALL_COUNT/this.currentLevelData.pathCount){for(var o=0;o<n.length;o++)n[o].posIndex+=this.BALL_SPEED_INIT,0!=this.currentLevelData.changeZorderIndex&&n[o].posIndex>=this.currentLevelData.changeZorderIndex&&n[o].node.zIndex!=this.currentLevelData.crossZorder&&(n[o].node.zIndex=this.currentLevelData.crossZorder);if(232==n[0].posIndex){var r=this.createBall(e);r.posIndex=160,n.unshift(r),null==this.currentLevelData["created"+e]&&(this.currentLevelData["created"+e]=0),this.currentLevelData["created"+e]++,this.createdIndex++}}else t++}t==this.currentLevelData.pathCount&&(this.lock=!1,a.Core.soundManager.stopSFX("sound/rolling"),this.randomPropDelay=1e3*(10*Math.random()+10),a.Core.timer.clearAll(this),a.Core.timer.register(.016,this,this.updateGame))}},e.prototype.updateGame=function(){this.pause||(this.createLeftBalls(),this.updateShootBall(),this.updateBallMove(),this.updateBallPropTime(),this.updateBuffer(),this.updateSpeicalBall(),this.randomProp(),this.updateWarning())},e.prototype.onStageDown=function(t){var e=t.getLocation(),n=this.container.convertToNodeSpaceAR(e),o=this.shooter.getClickArea(),r=n.x,i=n.y;if(!(r>o.x&&r<o.x+o.w&&i>o.y&&i<o.y+o.h)){if(1==this.currentLevelData.shooterPosType&&2==this.currentLevelData.shooterPos.length){var a=this.currentLevelData.shooterPos[0],s=this.currentLevelData.shooterPos[1];if(this.getDis(r,i,a[0],a[1])<=50)return this.shooter.node.x=a[0],this.shooter.node.y=a[1],this.shootX=a[0],void(this.shootY=a[1]);if(this.getDis(r,i,s[0],s[1])<=50)return this.shooter.node.x=s[0],this.shooter.node.y=s[1],this.shootX=s[0],void(this.shootY=s[1])}2==this.currentLevelData.shooterPosType&&(a=[(a=this.currentLevelData.shooterPos[0])[0],a[1]],s=[(s=this.currentLevelData.shooterPos[1])[0],s[1]],r>=a[0]&&r<=s[0]&&(this.shooter.node.x=r,this.shootX=r)),this.onStageMove(t),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onStageMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onStageUp,this)}},e.prototype.onStageMove=function(t){var e=t.getLocation(),n=this.container.convertToNodeSpaceAR(e),o=this.shooter.getClickArea(),r=n.x,i=n.y;if(!(r>o.x&&r<o.x+o.w&&i>o.y&&i<o.y+o.h)){var a=r-this.shootX,s=i-this.shootY,c=(Math.sqrt(a*a+s*s),180*Math.atan2(s,a)/Math.PI);this.shooter.node.angle=c+90}},e.prototype.onStageUp=function(t){if(!this.lock){var e=t.getLocation(),n=this.container.convertToNodeSpaceAR(e),o=n.x,r=n.y;if(!(o>360&&r<66)){var i=this.shooter.getClickArea();o>i.x&&o<i.x+i.w&&r>i.y&&r<i.y+i.h||(this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onStageMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onStageUp,this),null==this.shootBall&&this.shoot(o,r))}}},e.prototype.shoot=function(t,e){var n=t-this.shootX,o=e-this.shootY,r=Math.sqrt(n*n+o*o),i=Math.atan2(o,n);if(this.shooter.isSpecialBall()){var c=cc.instantiate(this.speciallBallPrefab),l=c.getComponent(f.default);l.code=this.shooter.getSpecialCode(),l.node.x=this.shootX+36*Math.cos(i),l.node.y=this.shootY+36*Math.sin(i);var u=this.SHOOT_SPEED;this.shooter.hasAim()&&(u=this.SHOOT_SPEED_SP),l.vx=n/r*u,l.vy=o/r*u,l.radians=i,l.node.angle=180*i/Math.PI+90,this.node.addChild(c),this.specialBalls.push(l),l.code==s.default.PROP.LIGHT&&(l.vx=l.vy=0),c.zIndex=100,0!=this.bufferEffect[4]?(this.bufferEffect[4]--,0==this.bufferEffect[4]&&this.shooter.showFireArrow(!1)):0!=this.bufferEffect[5]?(this.bufferEffect[5]--,0==this.bufferEffect[5]&&this.shooter.showClearAni(!1)):0!=this.bufferEffect[6]&&(this.bufferEffect[6]--,0==this.bufferEffect[6]&&this.shooter.showLightAni(!1))}else{var h=this.shooter.getBall();h.node.parent=this.container,h.stop(),h.node.x=this.shootX+36*Math.cos(i),h.node.y=this.shootY+36*Math.sin(i),u=this.SHOOT_SPEED,this.shooter.hasAim()&&(u=this.SHOOT_SPEED_SP),h.vx=n/r*u,h.vy=o/r*u,h.radians=i,this.shootBall=h,h.node.zIndex=100}this.comboCount=0,this.chainCount++,a.Core.soundManager.playSFX("sound/shoot"),this.shooter.shoot(),0!=this.bufferEffect[3]&&(this.bufferEffect[3]--,0==this.bufferEffect[3]&&this.shooter.hideAim())},e.prototype.createLeftBalls=function(){for(var t=1;t<=this.currentLevelData.pathCount;t++){var e=this["balls"+t];if(this.currentLevelData["created"+t]<this.currentLevelData.ballsCount[t-1]-1&&(e.length>0&&e[0].posIndex>=232||0==e.length)){var n=this.createBall(t);n.posIndex=160,e.unshift(n),this.currentLevelData["created"+t]++,this.createdIndex++}}},e.prototype.updateBallMove=function(){for(var t=!0,e=1;e<=this.currentLevelData.pathCount;e++)if(0!=this["balls"+e].length){t=!1;break}if(t)this.showBonusEffect();else if(this.m_isRevive){for(e=1;e<=this.currentLevelData.pathCount;e++)this.pushBall(this["balls"+e],0,this.BALL_SPEED_REVIVE);this.m_reviveCountDown--,this.m_reviveCountDown<=0&&(this.m_isRevive=!1)}else if(this.moveDelayCount>=this.moveDelay*(1+this.bufferEffect[1]))if(this.moveDelayCount=0,0!=this.bufferTime[2])for(e=1;e<=this.currentLevelData.pathCount;e++)this.pushBall(this["balls"+e],0,this.BALL_SPEED+this.bufferEffect[2],!0);else if(0!=this.bufferTime[0]);else for(e=1;e<=this.currentLevelData.pathCount;e++){var n=this.BALL_SPEED,o=this["balls"+e];if(o.length>0){var r=o[o.length-1];this.currentLevelData["stepData"+r.pathID].length-r.posIndex<=72*this.SLOW_DOWN_DIS&&(n=this.BALL_SPEED_NEAR_DEST)}o.length<this.MAKEUP_BALL_COUNTDOWN&&(this.m_speedUpAddBallState=!0),(o.length>=this.MAKEUP_BALL_COUNT||this.currentLevelData["created"+e]>=this.currentLevelData.ballsCount[e-1]-1)&&(this.m_speedUpAddBallState=!1),this.m_speedUpAddBallState&&(n=this.BALL_SPEED_MAKEUP),this.pushBall(o,0,n)}else this.moveDelayCount++},e.prototype.updateBallPropTime=function(){for(var t=1;t<=this.currentLevelData.pathCount;t++)for(var e=0,n=this["balls"+t];e<n.length;e++){var o=n[e];0!=this.currentLevelData.changeZorderIndex&&o.posIndex>=this.currentLevelData.changeZorderIndex&&o.node.zIndex!=this.currentLevelData.crossZorder&&(o.node.zIndex=this.currentLevelData.crossZorder),o.prop>0&&(o.liveTime+=16,o.liveTime>=3e4&&(o.prop=0))}},e.prototype.updateBuffer=function(){for(var t=0;t<this.bufferTime.length;t++)0!=this.bufferTime[t]&&(this.bufferAidTime[t]=this.bufferAidTime[t]+16,this.bufferAidTime[t]>=this.bufferTime[t]&&(this.bufferTime[t]=0,this.bufferEffect[t]=0,this.bufferAidTime[t]=0))},e.prototype.updateShootBall=function(){if(this.shootBall){var t=this.shootBall;if(t.node.x+=t.vx,t.node.y+=t.vy,t.node.x<-240||t.node.x>240||t.node.y<-400||t.node.y>400)t.node.destroy(),this.shootBall=null;else{var e=this.checkCollision(t),n=e[0],o=e[1];if(-1!=o){var r=this["balls"+n],i=this.currentLevelData["stepData"+n],a=r[o];t.node.x-=Math.cos(t.radians)*(36-e[2]),t.node.y-=Math.sin(t.radians)*(36-e[2]);var s=i[a.posIndex-72][0],c=i[a.posIndex-72][1],l=this.getDis(t.node.x,t.node.y,s,c),u=i[a.posIndex+72][0],h=i[a.posIndex+72][1],p=l<this.getDis(t.node.x,t.node.y,u,h)?1:0;this.insertBall(t,n,o,p),this.shootBall=null}}}},e.prototype.updateSpeicalBall=function(){for(var t=this.specialBalls.length-1;t>=0;t--){var e=this.specialBalls[t];if(e.node.x+=e.vx,e.node.y+=e.vy,e.node.x<-240||e.node.x>240||e.node.y<-400||e.node.y>400)e.node.destroy(),this.specialBalls.splice(t,1);else if(e.code==s.default.PROP.LIGHT){var n=(this.shooter.node.angle-90)*Math.PI/180;if(e.finished){e.node.destroy(),this.specialBalls.splice(t,1);var o=this.getLineBalls(n);o.length>0&&this.removeBalls(o)}}else{var r=this.checkCollision(e),i=r[0],c=r[1];if(-1!=c){var l=this["balls"+i][c];if(e.code==s.default.PROP.ARROW)a.Core.soundManager.playSFX("sound/arrow"),this.removeBalls([l]);else if(e.code==s.default.PROP.CLEAR){a.Core.soundManager.playSFX("sound/clear");var u=this.getSameColorBalls(l);this.removeBalls(u)}e.node.destroy(),this.specialBalls.splice(t,1)}}}},e.prototype.updateWarning=function(){for(var t=1;t<=this.currentLevelData.pathCount;t++){var e=this["balls"+t];if(e.length>0)for(var n=e[e.length-1],o=this.currentLevelData["stepData"+n.pathID],r=0;r<this.warningDis.length;r++)if(o.length-n.posIndex==72*this.warningDis[r]){a.Core.soundManager.playSFX("sound/warning1");break}}},e.prototype.insertBall=function(t,e,n,o){var r=this,i=0,s=this["balls"+e],c=s[n];0==o?(i=s[n].posIndex+72,s[n+1]&&s[n+1].posIndex-s[n].posIndex<144&&(this.crushedBalls.push([t,s[n+1],e]),a.Core.timer.register(.016,this,this.checkPushCollision))):s[n-1]&&s[n].posIndex-s[n-1].posIndex<144?(i=s[n-1].posIndex+72,this.crushedBalls.push([t,s[n],e]),a.Core.timer.register(.016,this,this.checkPushCollision)):i=c.posIndex-72;var l=this.currentLevelData["stepData"+e],u=l[i][0],h=l[i][1];t.pathID=e,cc.tween(t.node).to(.15,{x:u,y:h}).call(function(){r.onMoveEnd(t,i)}).start()},e.prototype.pushBall=function(t,e,n,o){if(void 0===o&&(o=!1),0!=t.length){var r=[];if(0==o){r.push(t[e]);for(var i=e;i<t.length-1&&t[i+1].posIndex-t[i].posIndex<=72;++i)t[i+1].posIndex-t[i].posIndex<72&&(t[i+1].posIndex=t[i].posIndex+72),r.push(t[i+1])}else for(r.push(t[e]),i=e;i<t.length-1;++i)t[i+1].posIndex-t[i].posIndex<=72&&t[i+1].posIndex-t[i].posIndex<72&&(t[i+1].posIndex=t[i].posIndex+72),r.push(t[i+1]);if(this.m_isRevive)for(var s=r.length-1;s>=0;--s){r[s].posIndex+=n;var c=this.currentLevelData["stepData"+r[s].pathID];r[s].posIndex<=72&&(this.currentLevelData["created"+r[s].pathID]--,this.ballGenerator.pushBall(r[s].code),this.deleteBall(r[s]))}else for(s=0;s<r.length;++s)if(r[s].posIndex+=n,c=this.currentLevelData["stepData"+r[s].pathID],r[s].posIndex==c.length-1){console.log("\u5230\u8fbe\u7ec8\u70b9\u4e86"),a.Core.winManager.open("ReviveWin",T.default.create(this,this.onReviveClick,null,!0),!1),a.Core.timer.clear(this,this.updateGame);break}}},e.prototype.deleteBall=function(t){for(var e=1;e<=this.currentLevelData.pathCount;e++)for(var n=this["balls"+e],o=0;o<n.length-1;o++)if(n[o].uid==t.uid){t.node.destroy(),n.splice(o,1);break}},e.prototype.onReviveClick=function(t){t?(this.m_isRevive=!0,this.m_reviveCountDown=Math.abs(Math.floor(this.REVIVE_BALL_ROLLBACK_DIS/this.BALL_SPEED_REVIVE)),a.Core.timer.register(.016,this,this.updateGame)):(this.lock=!0,this.ballMoveFast())},e.prototype.fixPos=function(t){for(var e=0;e<t.length-1;++e)t[e+1].posIndex-t[e].posIndex<=72&&t[e+1].posIndex-t[e].posIndex<72&&(t[e+1].posIndex=t[e].posIndex+72)},e.prototype.ballMoveFast=function(){a.Core.timer.register(.016,this,this.onMoveFastTimer),a.Core.timer.clear(this,this.updateGame),this.scheduleOnce(function(){a.Core.soundManager.playSFX("sound/rolling")},.02)},e.prototype.onMoveFastTimer=function(){if(!this.pause){for(var t=!0,e=1;e<=this.currentLevelData.pathCount;e++){for(var n=this["balls"+e],o=this.currentLevelData["stepData"+e],r=0;r<n.length;r++){var i=n[r];i.posIndex+=this.BALL_SPEED_GAMEOVER,i.posIndex==o.length-1&&(i.node.destroy(),n.splice(r,1),r--)}0!=n.length&&(t=!1)}t&&(console.log("\u6e38\u620fOVER"),a.Core.winManager.open("FailedWin"),a.Core.timer.clear(this,this.onMoveFastTimer),a.Core.soundManager.stopSFX("sound/rolling"))}},e.prototype.bounceBalls=function(t,e){for(var n=this["balls"+t],o=[n[e]],r=e-1;r>=0&&n[r+1].posIndex-n[r].posIndex<=73;r--)o.push(n[r]);for(var i=e+1;i<n.length&&n[i].posIndex-n[i-1].posIndex<=73;i++)o.push(n[i]);a.Core.timer.clear(this,this.updateBounce),this.bounceCout=30,a.Core.timer.register(.016,this,this.updateBounce,-1,o)},e.prototype.updateBounce=function(t){if(!this.pause){var e=3;this.bounceCout<=10?e=1:this.bounceCout<=20&&(e=2);for(var n=1,o=0,r=t;o<r.length;o++){var i=r[o],s=this["balls"+i.pathID];n=i.pathID,-1!=s.indexOf(i)&&(i.posIndex-=e)}this.fixPos(this["balls"+n]),this.bounceCout--,this.bounceCout<=0&&a.Core.timer.clear(this,this.updateBounce)}},e.prototype.addBallToAttractedList=function(t){this.attractedBalls.push(t),a.Core.timer.register(.15,this,this.startMoveAttractedList,1)},e.prototype.addBallsToAttractedList=function(t){this.attractedBalls=this.attractedBalls.concat(t),a.Core.timer.register(.15,this,this.startMoveAttractedList,1)},e.prototype.startMoveAttractedList=function(){a.Core.timer.register(.016,this,this.updateAttract)},e.prototype.updateAttract=function(){if(!this.pause)if(0!=this.attractedBalls.length)for(var t=0;t<this.attractedBalls.length;t++){var e=this.attractedBalls[t],n=this["balls"+e.pathID],o=n.indexOf(e);if(-1!=o&&n[o-1]){if(e.code==n[o-1].code){var r=e.posIndex-n[o-1].posIndex>72+this.BALL_SPEED_ABSORB?this.BALL_SPEED_ABSORB:e.posIndex-n[o-1].posIndex-72;this.pushBall(n,o,-r),e.posIndex-n[o-1].posIndex<=72&&(this.attractedBalls.splice(t,1),t--,this.bounceBalls(e.pathID,o),a.Core.soundManager.playSFX("sound/collision"),0==this.attractedBalls.length&&a.Core.timer.clear(this,this.updateAttract),this.clearMatch(e.pathID,o-1))}}else this.attractedBalls.splice(t,1),t--}else a.Core.timer.clear(this,this.updateAttract)},e.prototype.removeBallFromCrushedBalls=function(t){for(var e=0;e<this.crushedBalls.length;e++)if(this.crushedBalls[e][0]==t){this.crushedBalls.splice(e,1);break}},e.prototype.onMoveEnd=function(t,e){for(var n,o=this["balls"+t.pathID],r=0;r<o.length;++r){if(o[r].posIndex>e){n=r;break}r==o.length-1&&(n=r+1)}this.removeBallFromCrushedBalls(t),t.stepData=this.currentLevelData["stepData"+t.pathID],t.posIndex=e,o.splice(n,0,t),t.node.zIndex=this.currentLevelData.initBallZorder,o[n+1]&&o[n+1].posIndex-t.posIndex<119.52&&(t.posIndex=o[n+1].posIndex-72),o[n-1]&&o[n-1].code==o[n].code&&o[n].posIndex-o[n-1].posIndex>73&&this.addBallToAttractedList(o[n]),o[n+1]&&o[n+1].code==o[n].code&&o[n+1].posIndex-o[n].posIndex>73&&this.addBallToAttractedList(o[n+1]),a.Core.soundManager.playSFX("sound/collision"),this.clearMatch(t.pathID,n)||(this.chainCount=0)},e.prototype.clearMatch=function(t,e){for(var n=this["balls"+t],o=n[e].code,r=[n[e]],i=e-1;n[i]&&n[i].code==o&&n[i+1].posIndex-n[i].posIndex<=73;)r.push(n[i]),i--;for(var a=e+1;n[a]&&n[a].code==o&&n[a].posIndex-n[a-1].posIndex<=73;)r.push(n[a]),a++;return r.length>=3&&(this.removeBalls(r),!0)},e.prototype.removeBalls=function(t){for(var e=[],n=0,o=t;n<o.length;n++)for(var r=o[n],i=0,c=this.searchAllAffectBalls(r);i<c.length;i++){var u=c[i];-1==e.indexOf(u)&&e.push(u)}var h=[],p=0,f=1,g=this.getCenterPoint(e),y=10*e.length;this.comboCount>0?(this.showComboTip(this.comboCount,y*(1+this.comboCount),g.x,g.y,e[0].code),a.Core.soundManager.playSFX("sound/combo"),l.default.game.score+=y*(1+this.comboCount)):(this.chainCount>2?(this.showChainTip(this.chainCount,y+10*(this.chainCount-1),g.x,g.y,e[0].code),l.default.game.score+=y+10*(this.chainCount-1)):(this.showScoreTip(y+10*(this.chainCount-1),g.x,g.y,e[0].code),l.default.game.score+=y+10*(this.chainCount-1)),a.Core.soundManager.playSFX("sound/blast")),this.hud.updateScore(l.default.game.score);for(var m=0;m<e.length;m++){var _=this["balls"+(r=e[m]).pathID],v=_.indexOf(r);-1!=v&&(f=r.pathID,d.default.createBlastEffect(this.effectLayer,r.node.x,r.node.y,r.code),r.posIndex>p&&(p=r.posIndex),r.prop==s.default.PROP.PAUSE?(this.bufferTime[0]+=5e3,d.default.createPropTipEffect(this.effectLayer,r.prop,r.node.x,r.node.y,r.code)):r.prop==s.default.PROP.SLOW?(this.bufferTime[1]+=5e3,this.bufferEffect[1]=2,a.Core.soundManager.playSFX("sound/slow"),d.default.createPropTipEffect(this.effectLayer,r.prop,r.node.x,r.node.y,r.code)):r.prop==s.default.PROP.BACK?(this.bufferTime[2]+=5e3,this.bufferEffect[2]=this.BALL_SPEED_ROLLBACK,a.Core.soundManager.playSFX("sound/back"),d.default.createPropTipEffect(this.effectLayer,r.prop,r.node.x,r.node.y,r.code)):r.prop==s.default.PROP.AIM?(this.bufferEffect[3]+=6,this.shooter.showAim(r.code)):r.prop==s.default.PROP.ARROW?(this.bufferEffect[4]=this.bufferEffect[5]=this.bufferEffect[6]=0,this.bufferEffect[4]+=6,this.shooter.showFireArrow(!0)):r.prop==s.default.PROP.CLEAR?(this.bufferEffect[4]=this.bufferEffect[5]=this.bufferEffect[6]=0,this.bufferEffect[5]=1,this.shooter.showClearAni(!0)):r.prop==s.default.PROP.LIGHT?(this.bufferEffect[4]=this.bufferEffect[5]=this.bufferEffect[6]=0,this.bufferEffect[6]=1,this.shooter.showLightAni(!0)):r.prop==s.default.PROP.BOMB&&(d.default.createBombEffect(this.effectLayer,r.node.x,r.node.y),a.Core.soundManager.playSFX("sound/bomb")),v-1>=0&&_[v-1]&&v+1<_.length&&_[v+1]&&h.push([_[v-1],_[v+1]]),r.node.destroy(),_.splice(v,1))}this.comboCount++,this.comboCount>l.default.game.maxCombo&&(l.default.game.maxCombo=this.comboCount),this["endPosIndex"+f]=p;for(var b=[],C=0,L=h;C<L.length;C++){var w=(u=L[C])[0],S=u[1];-1!=_.indexOf(w)&&-1!=_.indexOf(S)&&w.code==S.code&&S.posIndex-w.posIndex>73&&b.push(S)}this.addBallsToAttractedList(b),this.shooter.check()},e.prototype.searchAllAffectBalls=function(t){var e=[],n=[];for(e.push(t);e.length>0;){var o=e.shift();if(n.push(o),null!=o&&o.prop>0)for(var r=0,i=this.getRelativeBallsByProp(o);r<i.length;r++){var a=i[r];a!=o&&(null!=a&&a.prop>0?-1==n.indexOf(a)&&-1==e.indexOf(a)&&e.push(a):-1==n.indexOf(a)&&n.push(a))}}return n},e.prototype.getRelativeBallsByProp=function(t){if(t.prop==s.default.PROP.BOMB){for(var e=[t],n=0,o=this["balls"+t.pathID];n<o.length;n++){var r=o[n];this.getDis(t.node.x,t.node.y,r.node.x,r.node.y)<=216&&-1==e.indexOf(r)&&e.push(r)}return e}return[t]},e.prototype.getSameColorBalls=function(t){for(var e=[],n=1;n<=this.currentLevelData.pathCount;n++)for(var o=0,r=this["balls"+n];o<r.length;o++){var i=r[o];i.node.active&&i.code==t.code&&e.push(i)}return e},e.prototype.getLineBalls=function(t){for(var e=[],n=10;;){var o=this.shooter.node.x+Math.cos(t)*n,r=this.shooter.node.y+Math.sin(t)*n;if(n+=10,o<-240||o>240||r<-400||r>400)break;for(var i=1;i<=this.currentLevelData.pathCount;i++)for(var a=0,s=this["balls"+i];a<s.length;a++){var c=s[a];this.getDis(o,r,c.node.x,c.node.y)<144&&-1==e.indexOf(c)&&e.push(c)}}return e},e.prototype.getDis=function(t,e,n,o){var r=n-t,i=o-e;return Math.sqrt(r*r+i*i)},e.prototype.getCenterPoint=function(t){for(var e=0,n=0,o=0,r=t;o<r.length;o++){var i=r[o];e+=i.node.x,n+=i.node.y}return cc.v2(e/t.length,n/t.length)},e.prototype.showScoreTip=function(t,e,n,o){var r=a.Core.pool.get("ScoreTip",this.scoreTipPrefab);r.getComponent(b.default).setData(t,e,n,e,n+80,o),this.node.addChild(r)},e.prototype.showComboTip=function(t,e,n,o,r){var i=a.Core.pool.get("ComboTip",this.comboPrefab);i.getComponent(v.default).setData(t,e,n,o,r),this.node.addChild(i)},e.prototype.showChainTip=function(t,e,n,o,r){var i=a.Core.pool.get("ChainTip",this.chainPrefab);i.getComponent(_.default).setData(t,e,n,o,r),this.node.addChild(i)},e.prototype.checkCollision=function(t){if(this.inEntry(t))return[-1,-1,0];for(var e=1;e<=this.currentLevelData.pathCount;e++)for(var n=this["balls"+e],o=0;o<n.length;o++){var r=n[o];if(0!=r.node.active&&!this.inDecorate(r)){var i=r.node.x-t.node.x,a=r.node.y-t.node.y,s=Math.sqrt(i*i+a*a);if(s<36)return[e,o,s]}}return[-1,-1,0]},e.prototype.inEntry=function(t){for(var e=0;e<this.entryList.length;e++){var n=this.entryList[e],o=n.getComponent(cc.Sprite).spriteFrame.getRect();if(o.x+=n.x,o.y+=n.y,o.contains(cc.v2(t.node.x,t.node.y)))return!0}return!1},e.prototype.inDecorate=function(t){for(var e=0;e<this.decoratList.length;e++){var n=this.decoratList[e],o=n.getComponent(cc.Sprite).spriteFrame.getRect();if(o.x+=n.x,o.y+=n.y,o.contains(cc.v2(t.node.x,t.node.y))&&t.node.zIndex<n.zIndex)return!0}return!1},e.prototype.checkPushCollision=function(){if(0!=this.crushedBalls.length)for(var t=0;t<this.crushedBalls.length;t++){for(var e,n=this.crushedBalls[t][0],o=this.crushedBalls[t][1],r=this.crushedBalls[t][2],i=this["balls"+r],s=this.currentLevelData["stepData"+r],c=this.getDis(o.node.x,o.node.y,n.node.x,n.node.y),l=c<36,u=0;l;){++u;var h=s[o.posIndex+u][0],p=s[o.posIndex+u][1];l=(c=this.getDis(n.node.x,n.node.y,h,p))<36}-1!=(e=i.indexOf(o))&&this.pushBall(this["balls"+o.pathID],e,u)}else a.Core.timer.clear(this,this.checkPushCollision)},e.prototype.showBonusEffect=function(){a.Core.timer.clearAll(this),this.lock=!0;for(var t=1;t<=this.currentLevelData.pathCount;t++){var e=this.currentLevelData["stepData"+t];if(this["endPosIndex"+t]<e.length){for(var n=(e.length-this["endPosIndex"+t])/216,o=0;o<n;o++){var r=a.Core.pool.get("bonusScore",this.bonusPrefab);r.x=e[this["endPosIndex"+t]+216*o][0],r.y=e[this["endPosIndex"+t]+216*o][1],this.container.addChild(r),r.getComponent(m.default).setData(100,.1*o+.1),l.default.game.score+=100}a.Core.timer.register(.1*n+1,this,this.gameVictory,1)}}this.hud.updateScore(l.default.game.score),l.default.game.selectedLevel==l.default.game.adventureLevel?(l.default.game.scores[l.default.game.selectedLevel-1]=l.default.game.score,l.default.game.scores[l.default.game.selectedLevel]=-1,l.default.game.selectedLevel++,l.default.game.adventureLevel=l.default.game.selectedLevel,l.default.save()):(l.default.game.score>l.default.game.scores[l.default.game.selectedLevel-1]&&(l.default.game.scores[l.default.game.selectedLevel-1]=l.default.game.score,l.default.save()),l.default.game.selectedLevel++)},e.prototype.gameVictory=function(){a.Core.winManager.open("VictoryWin"),a.Core.soundManager.playSFX("sound/chant2")},e.prototype.onPauseClose=function(){this.pause=!1},e.prototype.onDestroy=function(){a.Core.timer.clearAll(this)},i([A(cc.Prefab)],e.prototype,"ballPrefab",void 0),i([A(cc.Prefab)],e.prototype,"speciallBallPrefab",void 0),i([A(cc.Prefab)],e.prototype,"frogPrefab",void 0),i([A(cc.Prefab)],e.prototype,"scoreTipPrefab",void 0),i([A(cc.Prefab)],e.prototype,"comboPrefab",void 0),i([A(cc.Prefab)],e.prototype,"chainPrefab",void 0),i([A(cc.Prefab)],e.prototype,"bonusPrefab",void 0),i([A(cc.Prefab)],e.prototype,"pathStarPrefab",void 0),i([A(cc.Sprite)],e.prototype,"bg",void 0),i([A(cc.Graphics)],e.prototype,"draw",void 0),i([A(C.default)],e.prototype,"hud",void 0),i([O],e)}(c.default);n.default=P,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/common/GameConst":"GameConst","../../../core/component/BasePanel":"BasePanel","../../../core/manager/Model":"Model","../../../core/utils/Utils":"Utils","../../../framework/config/Cfg":"Cfg","../../../framework/config/GameConstCfg":"GameConstCfg","../../../framework/core/common/CallbackHandler":"CallbackHandler","../Ball/Ball":"Ball","../Ball/BallGenerator":"BallGenerator","../Ball/Frog":"Frog","../Ball/SpecialBall":"SpecialBall","../EffectHelper":"EffectHelper","../GamePath":"GamePath","../PathLine":"PathLine","../Tip/BonusScore":"BonusScore","../Tip/ChainTip":"ChainTip","../Tip/ComboTip":"ComboTip","../Tip/ScoreTip":"ScoreTip","./GameHudUI":"GameHudUI"}],GroupReaderBase:[function(t,e,n){"use strict";cc._RF.push(e,"d9b94eYRidB/piWU2ZzZehP","GroupReaderBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.GroupReaderBase=void 0;var o=function(){function t(t){this._data={},this._readerType=t}return t.prototype.initByMap=function(t){for(var e in t){var n=t[e],o=new this._readerType;o.initByMap(n),this._data[e]=o}},t.prototype.getReader=function(t){return this._data[t]},t.prototype.getAllReader=function(){return this._data},t}();n.GroupReaderBase=o,cc._RF.pop()},{}],HTTP:[function(t,e,n){"use strict";cc._RF.push(e,"67bbbOsI39IGox3ery2aUUG","HTTP"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../manager/BusyLoadingManager"),r=cc._decorator,i=(r.ccclass,r.property,function(){function t(){}return t.sendRequest=function(e,n,o,r,i){void 0===r&&(r=null),void 0===i&&(i=null);var a=new XMLHttpRequest,s="?";for(var c in n)"?"!=s&&(s+="&"),s+=c+"="+n[c];null==r&&(r=t.url);var l=r+e;return n&&(l+=encodeURI(s)),console.log(l),a.open("GET",l,!0),a.timeout=1e4,a.onload=function(){if(a.status>=200&&a.status<300||304==a.status){var t=JSON.parse(a.responseText);o&&o(t)}else a.abort()},a.ontimeout=function(t){cc.log(t),i&&i()},a.onabort=function(t){cc.log(t),i&&i()},a.onerror=function(t){cc.log(t),i&&i()},a.send(),a},t.post=function(e,n,r,i,a){void 0===i&&(i=null),void 0===a&&(a=null);var s=new XMLHttpRequest;null==i&&(i=t.url);var c=i+e;return s.open("POST",c),console.log(n),s.timeout=1e4,s.setRequestHeader("Access-Control-Allow-Origin","*"),s.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),s.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type"),s.setRequestHeader("Content-Type","application/json"),s.onload=function(){if(s.status>=200&&s.status<300||304==s.status){console.log(s.responseText);var t=JSON.parse(s.responseText);r&&r(t)}else s.abort()},s.ontimeout=function(t){cc.log(t),o.default.ins.removeBusy(o.BUSY_TYPE.RES),a&&a()},s.onabort=function(t){cc.log(t),a&&a()},s.onerror=function(t){cc.log(t),o.default.ins.removeBusy(o.BUSY_TYPE.RES),a&&a()},s.send(JSON.stringify(n)),s},t.url="https://www.mfxczz.cn/api/user/",t}());n.default=i,cc._RF.pop()},{"../manager/BusyLoadingManager":"BusyLoadingManager"}],HelpWin:[function(t,e,n){"use strict";cc._RF.push(e,"97ac49W3MhMvYSkBoEHMxdl","HelpWin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../core/common/GameConst"),s=t("../../core/component/BasePanel"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.onLoad=function(){this.winType=a.default.WIN_TYPE.FULLSCREEN},e.prototype.start=function(){},i([u(cc.Label)],e.prototype,"label",void 0),i([u],e.prototype,"text",void 0),i([l],e)}(s.default);n.default=h,cc._RF.pop()},{"../../core/common/GameConst":"GameConst","../../core/component/BasePanel":"BasePanel"}],HttpHelper:[function(t,e,n){"use strict";cc._RF.push(e,"75d53L7ErpK7bhYqKp4f9bT","HttpHelper"),Object.defineProperty(n,"__esModule",{value:!0}),n.NetMethod=void 0;var o,r=t("../common/md5"),i=t("../log/LogUtil");(function(t){t.POST="POST",t.GET="GET",t.DELETE="DELETE",t.PATCH="PATCH"})(o=n.NetMethod||(n.NetMethod={}));var a=function(){function t(){}return t.obj2ReqStr=function(t){if(null!=t){var e="";for(var n in t){var o=typeof t[n];"undefined"!=o&&(e.length>0&&(e+="&"),e+="object"==o?n+"="+JSON.stringify(t[n]):n+"="+t[n])}if(0!=e.length)return e}},t.signParams=function(t){var e=Object.keys(t);e.sort();for(var n="",o=0;o<e.length;o++){var i=e[o];n+=i+"="+t[i]+"|"}return n+="extra-sign",r.hex_md5(n)},t.toPost=function(e,n,o,r,i){n||(n={});var a=t.signParams(n);n.sign=a;var s={url:e,netData:n,onComplete:function(t){o&&o(t)},onError:r};this.post(s,i)},t.toGet=function(e,n,o,r,i){void 0===n&&(n=null),n||(n={});var a=t.signParams(n);n.sign=a;var s={url:e,netData:n,onComplete:function(t){o&&o(t)},onError:r};this.get(s,i)},t.get=function(t,e){this.http(o.GET,t,e)},t.post=function(t,e){this.http(o.POST,t,e)},t.http=function(e,n,r){try{var a=void 0,s=n.netData,c=n.url,l=n.onComplete,u=n.onError,h=r||n.headers,p=new XMLHttpRequest;if(p.onreadystatechange=function(){if(4===p.readyState){var t=JSON.parse(p.responseText);p.status<200||p.status>=300?u&&u((null==t?void 0:t.message)||"request error"):(i.default.d("http "+c+" "+e+" response: "+p.response),l&&l(t))}},p.ontimeout=function(){i.default.e("http "+c+" "+e+" ontimeout:",p.responseURL),u&&u("time out")},p.onerror=function(){i.default.e("http "+c+" "+e+" onerror:",p.responseURL),u&&u("network error")},e!=o.GET&&e!=o.DELETE||s&&(a=t.obj2ReqStr(s))&&(c=c+"?"+a),p.open(e,c,!0),p.timeout=2e4,p.setRequestHeader("Content-Type","application/json"),h)for(var f=0;f<Math.floor(h.length/2);f++){var d=h[2*f],g=h[2*f+1];p.setRequestHeader(d,g)}e==o.GET||e==o.DELETE?p.send():("string"!=typeof n.netData&&(s=JSON.stringify(s)),p.send(s))}catch(y){i.default.e("http "+n.url+" "+e+" error:"+y)}},t}();n.default=a,cc._RF.pop()},{"../common/md5":"md5","../log/LogUtil":"LogUtil"}],ISubpackInfo:[function(t,e,n){"use strict";cc._RF.push(e,"46a0bzQfMZLw6hMPUYpem7/","ISubpackInfo"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],JList:[function(t,e,n){"use strict";cc._RF.push(e,"c8013+iI75DIbqwANlZsjbC","JList"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){},r=function(){function t(){}return Object.defineProperty(t,"Inst",{get:function(){return this._inst},enumerable:!1,configurable:!0}),t.prototype.push=function(t){t.next=this.head,this.head=t,t.data=null,t.pre=null},t.prototype.pop=function(){if(this.head){var t=this.head;return this.head=t.next,t.next=null,t}return new o},t._inst=new t,t}(),i=function(){function t(){this.length=0}return t.prototype.hPush=function(t){var e=r.Inst.pop();e.data=t,e.next=this.head,this.head&&(this.head.pre=e),null==this.tail&&(this.tail=e),this.head=e,this.length++},t.prototype.hPop=function(){if(null==this.head)return null;var t=this.head;this.head=t.next,this.head?this.head.pre=null:this.tail=null,this.length--;var e=t.data;return r.Inst.push(t),e},t.prototype.tPush=function(t){var e=r.Inst.pop();e.data=t,e.pre=this.tail,this.tail&&(this.tail.next=e),null==this.head&&(this.head=e),this.length++,this.tail=e},t.prototype.tPop=function(){if(null==this.tail)return null;var t=this.tail;this.tail=t.pre,this.tail?this.tail.next=null:this.head=null,this.length--;var e=t.data;return r.Inst.push(t),e},t.prototype.clear=function(){for(;this.head;)this.hPop()},t.prototype.foreach=function(t,e){for(var n=this.head,o=0;o<this.length;o++)t.call(e,n.data),n=n.next},t.prototype.foreachWhile=function(t,e){for(var n=this.head,o=0;o<this.length;o++){if(!t.call(e,n.data))return;n=n.next}},t.prototype.find=function(t,e){for(var n=this.head,o=0;o<this.length;o++){if(t.call(e,n.data))return n.data;n=n.next}},t.prototype.getout=function(t,e){for(var n=this.head,o=null,i=0;i<this.length;i++){if(t.call(e,n.data)){var a=n.next;o?o.next=a:this.head=a,a?a.pre=o:this.tail=o,n.next=null,n.pre=null;var s=n.data;return r.Inst.push(n),this.length--,s}o=n,n=n.next}},t}();n.default=i,cc._RF.pop()},{}],LAssetInfo:[function(t,e,n){"use strict";cc._RF.push(e,"cc37cWoaTZESphVv5wdUQ0V","LAssetInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.LAssetInfo=void 0;var o=t("../../../game/lib/Pool"),r=t("../log/LogUtil"),i=t("./LHandler"),a=t("./LState"),s=function(){function t(){this.state=a.LState.Destroy,this.uses=[],this.waits=[]}return t.pop=function(e,n,o){var r=t.pool.pop();return r.init(e,n,o),r},t.prototype.init=function(t,e,n){this.state!=a.LState.Destroy&&r.default.e("LAssetInfo init state != LState.Destroy",this),(this.uses.length||this.waits.length)&&r.default.e("LAssetInfo init use length > 0",this),this.state=a.LState.Init,this.path=t,this.type=e,this.asset=null,this.bundle=n},t.prototype.canDestroy=function(){return this.state!=a.LState.Doing&&0==this.waits.length&&0==this.uses.length},t.prototype.destroy=function(){this.state!=a.LState.Destroy?(this.state=a.LState.Destroy,this.asset&&(this.asset=null),this.bundle=null,this.stopWaitTimer(),t.pool.push(this)):r.default.e("LAssetInfo init state == LState.Destroy",this)},t.prototype.start=function(){var t=this;if(this.state==a.LState.Init){this.state=a.LState.Doing;var e=this.bundle;e.asset?e.asset.load(this.path,this.type,function(e,n){e&&r.default.e("LAssetInfo load res error",t,e),t.state=a.LState.Done,t.asset=n,t.wait2Use()}):(this.state=a.LState.Done,this.startWaitTimer())}else r.default.e("LBundleInfo start state != LState.Destroy",this)},t.prototype.startWaitTimer=function(){var t=this;this.waitTimerId||(this.waitTimerId=setTimeout(function(){t.waitTimerId=null,t.wait2Use()},1))},t.prototype.stopWaitTimer=function(){this.waitTimerId&&(clearTimeout(this.waitTimerId),this.waitTimerId=null)},t.prototype.wait2Use=function(){for(var t=this.waits,e=this.uses,n=this.asset,o=0;o<t.length;o++){var r=t[o];e.push(r),i.lTmpList.push(t[o])}for(t.splice(0,t.length),o=0;o<i.lTmpList.length;o++)i.lTmpList[o].onLoaded(n);i.lTmpList.splice(0,i.lTmpList.length)},t.prototype.use=function(t){switch(this.waits.push(t),this.state){case a.LState.Init:this.bundle.state==a.LState.Done&&this.start();break;case a.LState.Done:this.startWaitTimer()}},t.prototype.unuse=function(t){var e=t.state==a.LState.Done?this.uses:this.waits,n=e.indexOf(t);n<0?r.default.e("LAssetInfo unUse index < 0",t,this):(e.splice(n,1),this.waits==e&&0==e.length&&this.stopWaitTimer())},t.pool=new o.default(t),t}();n.LAssetInfo=s,cc._RF.pop()},{"../../../game/lib/Pool":"Pool","../log/LogUtil":"LogUtil","./LHandler":"LHandler","./LState":"LState"}],LBundleInfo:[function(t,e,n){"use strict";cc._RF.push(e,"c69c8FKOApHg6+Nso7uQCoy","LBundleInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.LBundleInfo=void 0;var o=t("../../../game/lib/Pool"),r=t("../log/LogUtil"),i=t("./LAssetInfo"),a=t("./LHandler"),s=t("./Load"),c=t("./LState"),l=function(){function t(){this.state=c.LState.Destroy,this.uses=[],this.waits=[],this.assets={},this.assetCount=0}return t.get=function(e){var n=t.bundles[e];return n||(n=t.pool.pop(),t.bundles[e]=n,n.init(e)),n},t.checkDestroy=function(){var t=this.bundles;for(var e in t){var n=t[e];n.canDestroy()&&(n.destroy(),delete t[e])}},t.prototype.init=function(t){this.state!=c.LState.Destroy&&r.default.e("LBundleInfo init state != LState.Destroy",this),this.assets.length&&r.default.e("LBundleInfo init this.assets.length > 0",this),this.state=c.LState.Init,this.name=t,this.start()},t.prototype.destroy=function(){var e;this.state!=c.LState.Destroy?(this.state=c.LState.Destroy,null===(e=this.asset)||void 0===e||e.releaseAll(),this.asset=null,this.stopWaitTimer(),t.pool.push(this),delete t.bundles[this.name]):r.default.e("LAssetInfo init state == LState.Destroy",this)},t.prototype.canDestroy=function(){var t=this.assets;for(var e in t){var n=t[e];n.canDestroy()&&(n.destroy(),delete t[e],this.assetCount--)}return 0==this.assetCount&&0==this.uses.length&&0==this.waits.length&&this.state!=c.LState.Doing&&!this.scene},t.prototype.start=function(){var t=this;this.state==c.LState.Init?(this.state=c.LState.Doing,cc.assetManager.loadBundle(s.default.cdnUrl+this.name,function(e,n){e&&r.default.e("LBundleInfo loadBundle error",t,e),t.state=c.LState.Done,t.asset=n,t.wait2Use(),t.scene&&t.loadScene();var o=t.assets;for(var i in o)o[i].start()})):r.default.e("LBundleInfo start state != LState.Destroy",this)},t.prototype.startWaitTimer=function(){var t=this;this.waitTimerId||(this.waitTimerId=setTimeout(function(){t.waitTimerId=null,t.wait2Use()},1))},t.prototype.stopWaitTimer=function(){this.waitTimerId&&(clearTimeout(this.waitTimerId),this.waitTimerId=null)},t.prototype.wait2Use=function(){for(var t=this.waits,e=this.uses,n=this.asset,o=0;o<t.length;o++){var r=t[o];e.push(r),a.lTmpList.push(t[o])}for(t.splice(0,t.length),o=0;o<a.lTmpList.length;o++)a.lTmpList[o].onLoaded(n);a.lTmpList.splice(0,a.lTmpList.length)},t.prototype.use=function(t){switch(this.waits.push(t),this.state){case c.LState.Done:this.startWaitTimer()}},t.prototype.unuse=function(t){var e=t.state==c.LState.Done?this.uses:this.waits,n=e.indexOf(t);n<0?r.default.e("LAssetInfo unUse index < 0",t,this):(e.splice(n,1),this.waits==e&&0==e.length&&this.stopWaitTimer())},t.prototype.loadScene=function(){var t=this,e=this.scene;this.asset?this.asset.loadScene(e.path,function(n,o){e==t.scene?cc.director.runScene(o,null,function(){e==t.scene?e.onLoaded(o.scene):r.default.w("LBundleInfo loadScene runScene scene != this.scene",e,t)}):r.default.w("LBundleInfo loadScene scene != this.scene",e,t)}):e.onLoaded(null)},t.prototype.useScene=function(t){switch(this.scene&&this.scene.state!=c.LState.Destroy&&this.scene.unuse(),this.scene=t,this.state){case c.LState.Done:this.loadScene()}},t.prototype.unUseScene=function(t){t==this.scene?this.scene=null:r.default.e("LBundleInfo unUseScene handler != this.scene",t,this)},t.prototype.getAssetInfo=function(t,e){var n=this.assets[t.path];return n||(n=i.LAssetInfo.pop(t.path,e,this),this.assets[t.path]=n,this.assetCount++),n},t.pool=new o.default(t),t.bundles={},t}();n.LBundleInfo=l,cc._RF.pop()},{"../../../game/lib/Pool":"Pool","../log/LogUtil":"LogUtil","./LAssetInfo":"LAssetInfo","./LHandler":"LHandler","./LState":"LState","./Load":"Load"}],LHandler:[function(t,e,n){"use strict";cc._RF.push(e,"5906bqz5HxHH6PkdH+YGiA0","LHandler");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.LSceneHandle=n.LBundleHandler=n.LAssetHandler=n.LHandler=n.lTmpList=void 0;var i=t("../../../game/lib/Pool"),a=t("../log/LogUtil"),s=t("./LState");n.lTmpList=[];var c=function(){function t(){}return t.prototype.init=function(t,e,n,o){this.path=t,this.onComplete=e,this.args=o,this.caller=n,this.state=s.LState.Init},t.prototype.use=function(t,e){this.bundleInfo=t,this.state=s.LState.Doing,this.doUse(e)},t.prototype.unuse=function(){this.state!=s.LState.Destroy?(this.doUnuse(),this.state=s.LState.Destroy,this.bundleInfo=null,this.asset=null):a.default.e("LHandler release state == LState.Destroy",this)},t.prototype.onLoaded=function(t){var e;this.state=s.LState.Done,this.asset=t,null===(e=this.onComplete)||void 0===e||e.call(this.caller,t,this,this.args)},t}();n.LHandler=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.pop=function(t,n,o,r){var i=e.pool.pop();return i.init(t,n,o,r),i},e.prototype.doUse=function(t){this.assetInfo=this.bundleInfo.getAssetInfo(this,t),this.assetInfo.use(this)},e.prototype.doUnuse=function(){var t;null===(t=this.assetInfo)||void 0===t||t.unuse(this),this.assetInfo=null,e.pool.push(this)},e.pool=new i.default(e),e}(c);n.LAssetHandler=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.pop=function(t,n,o,r){var i=e.pool.pop();return i.init(t,n,o,r),i},e.prototype.doUse=function(){this.bundleInfo.use(this)},e.prototype.doUnuse=function(){this.bundleInfo.unuse(this),e.pool.push(this)},e.pool=new i.default(e),e}(c);n.LBundleHandler=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.pop=function(t,n,o,r){var i=new e;return i.init(t,n,o,r),i},e.prototype.doUse=function(){this.bundleInfo.useScene(this)},e.prototype.doUnuse=function(){this.bundleInfo.unUseScene(this)},e}(c);n.LSceneHandle=h,cc._RF.pop()},{"../../../game/lib/Pool":"Pool","../log/LogUtil":"LogUtil","./LState":"LState"}],LState:[function(t,e,n){"use strict";cc._RF.push(e,"d64b2NgiK1Fh7wQWsS1Pm6D","LState"),Object.defineProperty(n,"__esModule",{value:!0}),n.LState=void 0,function(t){t[t.Init=0]="Init",t[t.Doing=1]="Doing",t[t.Done=2]="Done",t[t.Destroy=3]="Destroy"}(n.LState||(n.LState={})),cc._RF.pop()},{}],LangLabel:[function(t,e,n){"use strict";cc._RF.push(e,"64966qBN0ZI3Zk4iPc//Usa","LangLabel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.LangLabel=void 0;var a=t("../../framework/config/Cfg"),s=t("../../framework/core/common/StringUtil"),c=t("../../framework/core/notify/Notifier"),l=t("../../framework/define/NotifyID"),u=t("./LangMgr"),h=cc._decorator,p=h.ccclass,f=h.property,d=h.menu,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txDefine=u.LangMgr.EmptyStr,e._textInfo=null,e}return r(e,t),Object.defineProperty(e.prototype,"textInfo",{set:function(t){this._textInfo=t,this._formatArg=null,this.txDefine=null,this.refreshTx()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textGetter",{set:function(t){this._textGetter=t,this.refreshTx()},enumerable:!1,configurable:!0}),e.prototype.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._textInfo=t,this._formatArg=e,this.txDefine=null,this.refreshTx()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),cc.sys.platform!=cc.sys.EDITOR_PAGE&&cc.sys.platform!=cc.sys.EDITOR_CORE&&(this.refreshTx(),c.Notifier.addListener(l.NotifyID.LangChange,this.onLangChange,this))},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),cc.sys.platform!=cc.sys.EDITOR_PAGE&&cc.sys.platform!=cc.sys.EDITOR_CORE&&this.refreshTx()},e.prototype.onLangChange=function(){this.refreshTx()},e.prototype.refreshTx=function(){if(this._textGetter){var t=this._textGetter.run();this.string=t||u.LangMgr.EmptyStr}else if(this._textInfo){var e=this._textInfo[u.LangMgr.getInstance().langCode];this.string=e?s.StringUtil.formatByArr(e,this._formatArg):u.LangMgr.EmptyStr}else if(this.txDefine){var n=u.LangMgr.getInstance().define2id(this.txDefine),o=a.Cfg.Text.get(n);o?this.textInfo=o.text:this.string=u.LangMgr.EmptyStr}else this.string=u.LangMgr.EmptyStr},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this._textGetter&&(this._textGetter.recover(),this._textGetter=null),c.Notifier.delListener(l.NotifyID.LangChange,this.onLangChange,this)},i([f],e.prototype,"txDefine",void 0),i([f],e.prototype,"_textInfo",void 0),i([p,d("Lang/LangLabel")],e)}(cc.Label);n.LangLabel=g,cc._RF.pop()},{"../../framework/config/Cfg":"Cfg","../../framework/core/common/StringUtil":"StringUtil","../../framework/core/notify/Notifier":"Notifier","../../framework/define/NotifyID":"NotifyID","./LangMgr":"LangMgr"}],LangMgr:[function(t,e,n){"use strict";cc._RF.push(e,"96f1ef7mxBFNo+DX30G43Oq","LangMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.LangMgr=void 0;var i=t("../../framework/config/Cfg"),a=t("../../framework/config/LanguageCfg"),s=t("../../framework/config/TextCfg"),c=t("../../framework/core/common/SingleClass"),l=t("../../framework/core/notify/Notifier"),u=t("../../framework/define/NotifyID"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._langType=1,e}return r(e,t),Object.defineProperty(e.prototype,"langInfo",{get:function(){return this._langInfo||(this._langInfo=i.Cfg.Language.get(this._langType)),this._langInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"langCode",{get:function(){return this.langInfo.code},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"langType",{get:function(){return this._langType},set:function(t){this._langType!=t&&(this._langType=t,this._langInfo=i.Cfg.Language.get(this._langType),l.Notifier.send(u.NotifyID.LangChange),cc.sys.localStorage.setItem(e.LANGEUAGE_SAVE_KEY,this._langType))},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=cc.sys.localStorage.getItem(e.LANGEUAGE_SAVE_KEY);if(t){var n=i.Cfg.Language.get(t);n&&n.isopen&&(this.langType=n.id)}},e.prototype.define2id=function(t){return s.TextCfgDefine[t]||-1},e.prototype.getTextByInfo=function(t){return t&&(t[this.langCode]||t[i.Cfg.Language.get(a.LanguageCfgDefine.en).code])||e.EmptyStr},e.prototype.getText=function(t){var e=i.Cfg.Text.get(t);return this.getTextByInfo(e.text)},e.prototype.format=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!t)return e.EmptyStr;var r=this.getTextByInfo(t);if(!n||!n.length)return r;var i=typeof n[0];for(var a in n="string"==i||"number"==i?n:n[0])r=r.replace(RegExp("\\{"+a+"\\}","gi"),n[a]);return r},e.EmptyStr="",e.LANGEUAGE_SAVE_KEY="LANGEUAGE",e}(c.default);n.LangMgr=h,cc._RF.pop()},{"../../framework/config/Cfg":"Cfg","../../framework/config/LanguageCfg":"LanguageCfg","../../framework/config/TextCfg":"TextCfg","../../framework/core/common/SingleClass":"SingleClass","../../framework/core/notify/Notifier":"Notifier","../../framework/define/NotifyID":"NotifyID"}],LanguageCfg:[function(t,e,n){"use strict";cc._RF.push(e,"149ebeDfB9K9LCkxW5DDLYj","LanguageCfg");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageCfgReader=n.LanguageCfgDefine=void 0;var i=t("./CfgReaderBase");n.LanguageCfgDefine={en:1,hk:2,cn:3};var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="Language",e}return r(e,t),e}(i.CfgReaderBase);n.LanguageCfgReader=a,cc._RF.pop()},{"./CfgReaderBase":"CfgReaderBase"}],LevelData:[function(t,e,n){"use strict";cc._RF.push(e,"bac7b9OI3FHgJ6wKNXrwxk1","LevelData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.level=1,this.pathCount=1,this.colorLimit=6,this.isLoop=new Array,this.ballCount=80,this.shooterPosType=1,this.entryCount=0,this.decorationCount=0,this.changeZorderIndex=0,this.initBallZorder=2,this.crossZorder=0,this.colorCount=4},cc._RF.pop()},{}],LevelItem:[function(t,e,n){"use strict";cc._RF.push(e,"52f00jPCfxK+4PjdZm0T6nI","LevelItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../core/Core"),s=t("../../core/manager/Model"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.star1=null,e.star2=null,e.star3=null,e.label_lv=null,e.lock=null,e.id=1,e}return r(e,t),e.prototype.start=function(){},e.prototype.setData=function(t){if(this.label_lv.string=t+"",this.id=t,t<=s.default.game.adventureLevel){this.lock.active=!1;var e=10*(2*(t-1)+70);this.star1.active=s.default.game.scores[t-1]>=e,this.star2.active=s.default.game.scores[t-1]>=2*e,this.star3.active=s.default.game.scores[t-1]>=3*e}else this.lock.active=!0},e.prototype.onItemClick=function(){this.lock.active||(a.Core.soundManager.playSFX("sound/button"),s.default.game.selectedLevel=this.id,a.Core.winManager.open("GameWin",null,!0))},i([u(cc.Node)],e.prototype,"star1",void 0),i([u(cc.Node)],e.prototype,"star2",void 0),i([u(cc.Node)],e.prototype,"star3",void 0),i([u(cc.Label)],e.prototype,"label_lv",void 0),i([u(cc.Node)],e.prototype,"lock",void 0),i([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../core/Core":"Core","../../core/manager/Model":"Model"}],LevelWin:[function(t,e,n){"use strict";cc._RF.push(e,"06098Y2VfJI+owCNy3tIKwY","LevelWin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../core/component/BasePanel"),s=t("../../core/Core"),c=t("../../core/manager/Model"),l=t("./LevelItem"),u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelItemPrefab=null,e.content=null,e.txt_page=null,e.items=[],e._page=1,e}return r(e,t),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(t){this._page=t,t<1?t=1:t>10&&(t=10),this._page=t,this.txt_page.string=t+"/10";for(var e=12*t,n=0,o=12*(t-1)+1;o<=e;o++)this.items[n].getComponent(l.default).setData(o),n++},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);for(var e=0;e<12;e++){var n=cc.instantiate(this.levelItemPrefab);this.content.addChild(n),this.items.push(n)}},e.prototype.start=function(){this.page=Math.ceil(c.default.game.adventureLevel/12)},e.prototype.onNextClick=function(){s.Core.soundManager.playSFX("sound/button"),this.page++},e.prototype.onPrevClick=function(){s.Core.soundManager.playSFX("sound/button"),this.page--},e.prototype.onbackClick=function(){s.Core.winManager.open("MenuWin"),this.close()},i([p(cc.Prefab)],e.prototype,"levelItemPrefab",void 0),i([p(cc.Node)],e.prototype,"content",void 0),i([p(cc.Label)],e.prototype,"txt_page",void 0),i([h],e)}(a.default);n.default=f,cc._RF.pop()},{"../../core/Core":"Core","../../core/component/BasePanel":"BasePanel","../../core/manager/Model":"Model","./LevelItem":"LevelItem"}],ListItem:[function(t,e,n){"use strict";cc._RF.push(e,"66c9a84a69BcLUb4nTwbgy6","ListItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,l=s.property,u=s.disallowMultiple,h=s.menu,p=s.executionOrder;(function(t){t[t.NONE=0]="NONE",t[t.TOGGLE=1]="TOGGLE",t[t.SWITCH=2]="SWITCH"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.selectedMode=a.NONE,e.selectedFlag=null,e.selectedSpriteFrame=null,e._unselectedSpriteFrame=null,e._selected=!1,e._eventReg=!1,e}return r(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case a.TOGGLE:this.selectedFlag.active=t;break;case a.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this._btnCom=this.node.getComponent(cc.Button),this._btnCom||(this.selectedMode,a.NONE),this.selectedMode==a.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=t.spriteFrame}},e.prototype._registerEvent=function(){if(this._btnCom&&this.list.selectedMode>0&&!this._eventReg){var t=new cc.Component.EventHandler;t.target=this.node,t.component="ListItem",t.handler="onClickThis",this._btnCom.clickEvents.unshift(t),this._eventReg=!0}},e.prototype.showAni=function(t,e,n){var o,r=this;switch(t){case 0:o=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,2*this.node.height)];break;case 1:o=[cc.scaleTo(.2,.7),cc.moveBy(.3,2*this.node.width,0)];break;case 2:o=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,-2*this.node.height)];break;case 3:o=[cc.scaleTo(.2,.7),cc.moveBy(.3,-2*this.node.width,0)];break;default:o=[cc.scaleTo(.3,.1)]}(e||n)&&o.push(cc.callFunc(function(){if(n){r.list._delSingleItem(r.node);for(var t=r.list.displayData.length-1;t>=0;t--)if(r.list.displayData[t].id==r.listId){r.list.displayData.splice(t,1);break}}e()})),this.node.runAction(cc.sequence(o))},e.prototype.onClickThis=function(){this.list.selectedId=this.listId},i([l({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),i([l({type:cc.Node,tooltip:!1})],e.prototype,"title",void 0),i([l({type:cc.Enum(a),tooltip:!1})],e.prototype,"selectedMode",void 0),i([l({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>a.NONE}})],e.prototype,"selectedFlag",void 0),i([l({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==a.SWITCH}})],e.prototype,"selectedSpriteFrame",void 0),i([c,u(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),p(-5001)],e)}(cc.Component);n.default=f,cc._RF.pop()},{}],List:[function(t,e,n){"use strict";cc._RF.push(e,"747f8Ttu9JGQrJfzFDk8XpT","List");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s,c,l=cc._decorator,u=l.ccclass,h=l.property,p=l.disallowMultiple,f=l.menu,d=l.executionOrder,g=t("./ListItem");(function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"})(a||(a={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(c||(c={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=a.NODE,e.tmpNode=null,e.tmpPrefab=null,e._slideMode=s.NORMAL,e.pageDistance=.3,e.pageChangeEvent=new cc.Component.EventHandler,e._virtual=!0,e.lackCenter=!1,e._updateRate=2,e.frameByFrameRenderNum=0,e.renderEvent=new cc.Component.EventHandler,e.selectedMode=c.NONE,e.selectedEvent=null,e._selectedId=-1,e._forceUpdate=!1,e._updateDone=!0,e._numItems=0,e._inited=!1,e._aniDelRuning=!1,e._doneAfterUpdate=!1,e.adhering=!1,e._adheringBarrier=!1,e.curPageNum=0,e}return r(e,t),Object.defineProperty(e.prototype,"slideModel",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling(null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,n=this;if(n.selectedMode!=c.SINGLE||t!=n._selectedId)switch(n.selectedMode){case c.SINGLE:if(t==n._selectedId)return;if(!(e=n.getItemByListId(t))&&t>=0)return;var o=void 0;if(n._selectedId>=0?n._lastSelectedId=n._selectedId:n._lastSelectedId=null,n._selectedId=t,e&&((o=e.getComponent(g.default)).selected=!0),n._lastSelectedId>=0){var r=n.getItemByListId(n._lastSelectedId);r&&(r.getComponent(g.default).selected=!1)}n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t,n._lastSelectedId);break;case c.MULT:if(!(e=n.getItemByListId(t)))return;o=e.getComponent(g.default),n._selectedId>=0&&(n._lastSelectedId=n._selectedId),n._selectedId=t;var i=!o.selected;o.selected=i;var a=n.multSelected.indexOf(t);i&&a<0?n.multSelected.push(t):!i&&a>=0&&n.multSelected.splice(a,1),n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t,n._lastSelectedId,i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._numItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e._onScrolling(null);else{var n=e.content.getComponent(cc.Layout);if(n&&(n.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var o=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,r=0;r<o;r++)e._createOrUpdateItem2(r);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(r=0;r<t;r++)e._createOrUpdateItem2(r);e.actualNumItems=t}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init()},e.prototype.start=function(){this._init()},e.prototype.onEnable=function(){this._registerEvent(),this._init()},e.prototype.onDisable=function(){this._unregisterEvent()},e.prototype._registerEvent=function(){var t=this;t.node.on("touch-up",t._onScrollTouchUp,t),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0)},e.prototype._unregisterEvent=function(){var t=this;t.node.off("touch-up",t._onScrollTouchUp,t),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0)},e.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t._scrollView)if(t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(t.templateType==a.PREFAB?t.tmpPrefab.data:t.tmpNode),t._slideMode!=s.ADHERING&&t._slideMode!=s.PAGE||(t._scrollView.inertia=!1),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!");else cc.error(t.node.name+" no assembly cc.ScrollView!")},e.prototype.setTemplateItem=function(t){if(t){var e=this;switch(e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(e._itemTmp.width,e._itemTmp.height),e.selectedMode==c.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=e.content.width-e._leftGap-e._rightGap;for(e._colLineNum=1;;){if(n-(e._colLineNum*e._itemSize.width+(e._colLineNum-1)*e._columnGap)<0){e._colLineNum--;break}e._colLineNum++}e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var o=e.content.height-e._topGap-e._bottomGap;for(e._colLineNum=1;;){if(o-(e._colLineNum*e._itemSize.height+(e._colLineNum-1)*e._lineGap)<0){e._colLineNum--;break}e._colLineNum++}e._sizeType=!1}}}},e.prototype.checkInited=function(t){var e=t||!0;return!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},e.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e.customSize){var n=e._getFixedSize(null);t=e._leftGap+n.val+e._itemSize.width*(e._numItems-n.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:e.customSize?(n=e._getFixedSize(null),t=e._topGap+n.val+e._itemSize.height*(e._numItems-n.count)+e._lineGap*(e._numItems-1)+e._bottomGap):t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*o+e._lineGap*(o-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var r=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*r+e._columnGap*(r-1)+e._rightGap}}var i,a=e.content.getComponent(cc.Layout);a&&(a.enabled=!1),e._allItemSize=t,e._sizeType?((i=t<e.node.height?e.node.height-.1:t)<0&&(i=0),e._lackSize=e.lackCenter?i:null,e._allItemSizeNoBorder=e._allItemSize-e._topGap-e._bottomGap,e.content.height=i):((i=t<e.node.width?e.node.width-.1:t)<0&&(i=0),e._lackSize=e.lackCenter?i:null,e._allItemSizeNoBorder=e._allItemSize-e._leftGap-e._rightGap,e.content.width=i)},e.prototype._onScrolling=function(t){if(null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning&&(this._calcViewPos(),this._virtual)){this.displayData=[];var e=void 0,n=0,o=this._numItems-1;if(this.customSize)for(var r=!1;n<=o&&!r;n++)switch(e=this._calcItemPos(n),this._align){case cc.Layout.Type.HORIZONTAL:e.right>=this.viewLeft&&e.left<=this.viewRight?this.displayData.push(e):0!=n&&this.displayData.length>0&&(r=!0);break;case cc.Layout.Type.VERTICAL:e.bottom<=this.viewTop&&e.top>=this.viewBottom?this.displayData.push(e):0!=n&&this.displayData.length>0&&(r=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:e.bottom<=this.viewTop&&e.top>=this.viewBottom?this.displayData.push(e):0!=n&&this.displayData.length>0&&(r=!0);break;case cc.Layout.AxisDirection.VERTICAL:e.right>=this.viewLeft&&e.left<=this.viewRight?this.displayData.push(e):0!=n&&this.displayData.length>0&&(r=!0)}}else{var i=this._itemSize.width+this._columnGap,a=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:n=(this.viewLeft+this._leftGap)/i,o=(this.viewRight+this._rightGap)/i;break;case 2:n=(-this.viewRight-this._rightGap)/i,o=(-this.viewLeft-this._leftGap)/i;break;case 3:n=(-this.viewTop-this._topGap)/a,o=(-this.viewBottom-this._bottomGap)/a;break;case 4:n=(this.viewBottom+this._bottomGap)/a,o=(this.viewTop+this._topGap)/a}for(n=Math.floor(n)*this._colLineNum,o=Math.ceil(o)*this._colLineNum,n<0&&(n=0),--o>=this._numItems&&(o=this._numItems-1);n<=o;n++)this.displayData.push(this._calcItemPos(n))}if(this.displayData.length<=0||!this._numItems)return void this._delRedundantItem();this.firstListId=this.displayData[0].id,this.actualNumItems=this.displayData.length;var s=this._lastDisplayData.length;if(this._forceUpdate||this.actualNumItems!=s||this.firstListId!=this._lastDisplayData[0]||this.displayData[this.actualNumItems-1].id!=this._lastDisplayData[s-1])if(this._lastDisplayData=[],this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._delRedundantItem(),this._updateCounter=0,this._updateDone=!0);else{for(var c=0;c<this.actualNumItems;c++)this._createOrUpdateItem(this.displayData[c]);this._delRedundantItem(),this._forceUpdate=!1}this._calcNearestItem()}},e.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},e.prototype._calcItemPos=function(t){var e,n,o,r,i,a,s,c;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this.customSize){var l=this._getFixedSize(t);i=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count),e=(u=this.customSize[t])>0?u:this._itemSize.width}else i=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;return a=i+e,this.lackCenter&&this._lackSize>=0&&(i+=h=this.content.width/2-this._allItemSizeNoBorder/2,a+=h),{id:t,left:i,right:a,x:i+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this.customSize?(l=this._getFixedSize(t),a=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-l.count)-(l.val+this._columnGap*l.count),e=(u=this.customSize[t])>0?u:this._itemSize.width):(a=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width),i=a-e,this.lackCenter&&this._lackSize>=0&&(i-=h=this.content.width/2-this._allItemSizeNoBorder/2,a-=h),{id:t,right:a,left:i,x:i+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this.customSize?(l=this._getFixedSize(t),o=-this._topGap-(this._itemSize.height+this._lineGap)*(t-l.count)-(l.val+this._lineGap*l.count),n=(u=this.customSize[t])>0?u:this._itemSize.height):(o=-this._topGap-(this._itemSize.height+this._lineGap)*t,n=this._itemSize.height),r=o-n,this.lackCenter&&this._lackSize>=0&&(o-=h=this.content.height/2-this._allItemSizeNoBorder/2,r-=h),{id:t,top:o,bottom:r,x:this._itemTmp.x,y:r+this._itemTmp.anchorY*n};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var u,h;if(this.customSize)l=this._getFixedSize(t),r=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-l.count)+(l.val+this._lineGap*l.count),n=(u=this.customSize[t])>0?u:this._itemSize.height;else r=this._bottomGap+(this._itemSize.height+this._lineGap)*t,n=this._itemSize.height;return o=r+n,this.lackCenter&&this._lackSize>=0&&(o+=h=this.content.height/2-this._allItemSizeNoBorder/2,r+=h),{id:t,top:o,bottom:r,x:this._itemTmp.x,y:r+this._itemTmp.anchorY*n}}case cc.Layout.Type.GRID:var p=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(r=(o=-this._topGap-(this._itemSize.height+this._lineGap)*p)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:o=(r=this._bottomGap+(this._itemSize.height+this._lineGap)*p)+this._itemSize.height,c=r+this._itemTmp.anchorY*this._itemSize.height}switch(s=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s+=this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s+=(1-this._itemTmp.anchorX)*this._itemSize.width,s-=(1-this.content.anchorX)*this.content.width,s*=-1}return{id:t,top:o,bottom:r,x:s,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a=(i=this._leftGap+(this._itemSize.width+this._columnGap)*p)+this._itemSize.width,s=i+this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s=(i=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*p)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,s+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:t,left:i,right:a,x:s,y:c}}}},e.prototype._getFixedSize=function(t){if(!this.customSize)return null;null==t&&(t=this._numItems);var e=0,n=0;for(var o in this.customSize)parseInt(o)<t&&(e+=this.customSize[o],n++);return{val:e,count:n}},e.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},e.prototype._onScrollEnded=function(){var t=this;if(null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&e.runAction(cc.sequence(cc.scaleTo(.1,1.06),cc.scaleTo(.1,1)))}t._onScrolling(null),t._slideMode!=s.ADHERING||t.adhering?t._slideMode==s.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()):t.adhere()},e.prototype._onScrollTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==s.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==s.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere())},e.prototype._pageAdhere=function(){var t=this;if(!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,n=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>n)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},e.prototype.adhere=function(){var t=this;if(!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},e.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.actualNumItems?this.actualNumItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var n=this.displayData[e];n&&this._createOrUpdateItem(n)}this._updateCounter>=this.actualNumItems-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._scrollView.isScrolling()||(this._doneAfterUpdate=!1)):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem()):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem()},e.prototype._createOrUpdateItem=function(t){var e,n=this.getItemByListId(t.id);n?this._forceUpdate&&this.renderEvent&&(n.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(n),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t.id)):((n=this._pool.size()?this._pool.get():cc.instantiate(this._itemTmp)).setPosition(cc.v2(t.x,t.y)),this._resetItemSize(n),this.content.addChild(n),n.setSiblingIndex(this.content.childrenCount-1),(e=n.getComponent(g.default)).listId=t.id,e.list=this,e._registerEvent(),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t.id)),this._resetItemSize(n),this._updateListItem(e),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},e.prototype._createOrUpdateItem2=function(t){var e,n=this.content.children[t];n?this._forceUpdate&&this.renderEvent&&((e=n.getComponent(g.default)).listId=t,this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t)):(n=cc.instantiate(this._itemTmp),this.content.addChild(n),(e=n.getComponent(g.default)).listId=t,e.list=this,e._registerEvent(),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},e.prototype._updateListItem=function(t){if(t&&this.selectedMode>c.NONE)switch(this.selectedMode){case c.SINGLE:t.selected=this.selectedId==t.listId;break;case c.MULT:t.selected=this.multSelected.indexOf(t.listId)>=0}},e.prototype._resetItemSize=function(t){var e=t.getComponent(g.default);if(this.customSize&&this.customSize[e.listId]){var n=this.customSize[e.listId];this._align==cc.Layout.Type.HORIZONTAL?t.width=n:this._align==cc.Layout.Type.VERTICAL&&(t.height=n)}else t.setContentSize(this._itemSize)},e.prototype.setMultSelected=function(t,e){var n=this;if(Array.isArray(t)||(t=[t]),null==e)n.multSelected=null,n.multSelected=t;else{var o=void 0,r=void 0;if(e)for(var i=t.length-1;i>=0;i--)o=t[i],(r=n.multSelected.indexOf(o))<0&&n.multSelected.push(o);else for(i=t.length-1;i>=0;i--)o=t[i],(r=n.multSelected.indexOf(o))>=0&&n.multSelected.splice(r,1)}n._forceUpdate=!0,n._onScrolling(null)},e.prototype.updateAppointed=function(t){Array.isArray(t)||(t=[t]);for(var e=t.length,n=0;n<e;n++){var o=t[n],r=this.getItemByListId(o);r&&cc.Component.EventHandler.emitEvents([this.renderEvent],r,o)}},e.prototype.getItemByListId=function(t){for(var e=this.content.childrenCount-1;e>=0;e--)if(this.content.children[e].getComponent(g.default).listId==t)return this.content.children[e];return null},e.prototype._getOutsideItem=function(){for(var t,e,n=[],o=this.content.childrenCount-1;o>=0;o--){if(t=this.content.children[o],e=!0)for(var r=this.actualNumItems-1;r>=0;r--)if(this.displayData[r]){var i=this.displayData[r].id;if(t.getComponent(g.default).listId==i){e=!1;break}}e&&n.push(t)}return n},e.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--)this._pool.put(t[e]);else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},e.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},e.prototype.aniDelItem=function(t,e,n){var o,r=this,i=r.getItemByListId(t);if(!r._aniDelRuning&&r._virtual)if(i){o=i.getComponent(g.default),r._aniDelRuning=!0;var a=r.displayData[r.displayData.length-1].id,s=o.selected;o.showAni(n,function(){var n,o,l;if(a<r._numItems-2&&(n=a+1),null!=n){var u=r._calcItemPos(n);r.displayData.push(u),r._virtual?r._createOrUpdateItem(u):r._createOrUpdateItem2(n)}else r._numItems--;if(r.selectedMode==c.SINGLE)s?r._selectedId=-1:r._selectedId-1>=0&&r._selectedId--;else if(r.selectedMode==c.MULT&&r.multSelected.length){var h=r.multSelected.indexOf(t);h>=0&&r.multSelected.splice(h,1);for(var p=r.multSelected.length-1;p>=0;p--)(g=r.multSelected[p])>=t&&r.multSelected[p]--}if(r.customSize){r.customSize[t]&&delete r.customSize[t];var f={},d=void 0;for(var g in r.customSize){d=r.customSize[g];var y=parseInt(g);f[y-(y>=t?1:0)]=d}r.customSize=f}for(p=null!=n?n:a;p>=t+1;p--)if(i=r.getItemByListId(p)){var m=r._calcItemPos(p-1);o=[cc.moveTo(.2333,cc.v2(m.x,m.y))],p<=t+1&&(l=!0,o.push(cc.callFunc(function(){r._aniDelRuning=!1,e(t)}))),o.length>1?i.runAction(cc.sequence(o)):i.runAction(o[0])}l||(r._aniDelRuning=!1,e(t))},!0)}else e(t)},e.prototype.scrollTo=function(t,e,n,o){void 0===e&&(e=.5),void 0===n&&(n=null),void 0===o&&(o=!1);var r=this;if(r.checkInited(!1)){r._scrollView.stopAutoScroll(),null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=r._numItems&&(t=r._numItems-1);var i,a,s=r._calcItemPos(t);switch(r._alignCalcType){case 1:i=s.left,i-=null!=n?r.node.width*n:r._leftGap,s=cc.v2(i,0);break;case 2:i=s.right-r.node.width,i+=null!=n?r.node.width*n:r._rightGap,s=cc.v2(i+r.content.width,0);break;case 3:a=s.top,a+=null!=n?r.node.height*n:r._topGap,s=cc.v2(0,-a);break;case 4:a=s.bottom+r.node.height,a-=null!=n?r.node.height*n:r._bottomGap,s=cc.v2(0,-a+r.content.height)}var c=r.content.getPosition();c=Math.abs(r._sizeType?c.y:c.x);var l=r._sizeType?s.y:s.x,u=Math.abs((null!=r._scrollPos?r._scrollPos:c)-l)>.5;r._scrollView.stopAutoScroll(),u&&(r._scrollView.scrollToOffset(s,e),r.scheduleOnce(function(){if(r._adheringBarrier||(r.adhering=r._adheringBarrier=!1),o){var e=r.getItemByListId(t);e&&e.runAction(cc.sequence(cc.scaleTo(.1,1.05),cc.scaleTo(.1,1)))}},e+.1),e<=0&&r._onScrolling(null))}},e.prototype._calcNearestItem=function(){var t,e;this.nearestListId=null,this._virtual&&this._calcViewPos();for(var n=!1,o=0;o<this.content.childrenCount&&!n;o+=this._colLineNum)switch(t=this._virtual?this.displayData[o]:this._calcExistItemPos(o),e=this._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,this._alignCalcType){case 1:t.right>=this.viewLeft&&(this.nearestListId=t.id,this.viewLeft>e&&(this.nearestListId+=this._colLineNum),n=!0);break;case 2:t.left<=this.viewRight&&(this.nearestListId=t.id,this.viewRight<e&&(this.nearestListId+=this._colLineNum),n=!0);break;case 3:t.bottom<=this.viewTop&&(this.nearestListId=t.id,this.viewTop<e&&(this.nearestListId+=this._colLineNum),n=!0);break;case 4:t.top>=this.viewBottom&&(this.nearestListId=t.id,this.viewBottom>e&&(this.nearestListId+=this._colLineNum),n=!0)}if((t=this._virtual?this.displayData[this.actualNumItems-1]:this._calcExistItemPos(this._numItems-1))&&t.id==this._numItems-1)switch(e=this._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,this._alignCalcType){case 1:this.viewRight>e&&(this.nearestListId=t.id);break;case 2:this.viewLeft<e&&(this.nearestListId=t.id);break;case 3:this.viewBottom<e&&(this.nearestListId=t.id);break;case 4:this.viewTop>e&&(this.nearestListId=t.id)}},e.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var n={id:t,x:e.x,y:e.y};return this._sizeType?(n.top=e.y+e.height*(1-e.anchorY),n.bottom=e.y-e.height*e.anchorY):(n.left=e.x-e.width*e.anchorX,n.right=e.x+e.width*(1-e.anchorX)),n},e.prototype.prePage=function(t){void 0===t&&(t=.5),this.skipPage(this.curPageNum-1,t)},e.prototype.nextPage=function(t){void 0===t&&(t=.5),this.skipPage(this.curPageNum+1,t)},e.prototype.skipPage=function(t,e){var n=this;if(n._slideMode!=s.PAGE)return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");t<0||t>=n._numItems||n.curPageNum!=t&&(n.curPageNum=t,n.pageChangeEvent&&cc.Component.EventHandler.emitEvents([n.pageChangeEvent],t),n.scrollTo(t,e))},e.prototype.calcCustomSize=function(t){var e=this;if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e.customSize={};var n=cc.instantiate(e._itemTmp);e.content.addChild(n);for(var o=0;o<t;o++)cc.Component.EventHandler.emitEvents([e.renderEvent],n,o),n.height==e._itemSize.height&&n.width==e._itemSize.width||(e.customSize[o]=e._sizeType?n.height:n.width);return Object.keys(e.customSize).length||(e.customSize=null),n.removeFromParent(),n.destroy&&n.destroy(),e.customSize},i([h({type:cc.Enum(a),tooltip:!1})],e.prototype,"templateType",void 0),i([h({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==a.NODE}})],e.prototype,"tmpNode",void 0),i([h({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==a.PREFAB}})],e.prototype,"tmpPrefab",void 0),i([h()],e.prototype,"_slideMode",void 0),i([h({type:cc.Enum(s),tooltip:!1})],e.prototype,"slideModel",null),i([h({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageDistance",void 0),i([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageChangeEvent",void 0),i([h()],e.prototype,"_virtual",void 0),i([h({type:cc.Boolean,tooltip:!1})],e.prototype,"virtual",null),i([h({tooltip:!1,visible:function(){return this.virtual}})],e.prototype,"lackCenter",void 0),i([h({type:cc.Integer})],e.prototype,"_updateRate",void 0),i([h({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],e.prototype,"updateRate",null),i([h({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],e.prototype,"frameByFrameRenderNum",void 0),i([h({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"renderEvent",void 0),i([h({type:cc.Enum(c),tooltip:!1})],e.prototype,"selectedMode",void 0),i([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],e.prototype,"selectedEvent",void 0),i([h({serializable:!1})],e.prototype,"_numItems",void 0),i([u,p(),f("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),d(-5e3)],e)}(cc.Component);n.default=y,cc._RF.pop()},{"./ListItem":"ListItem"}],LoadingWin:[function(t,e,n){"use strict";cc._RF.push(e,"9f10dyTsGpEI6QwsTSxLPUK","LoadingWin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../core/component/BasePanel"),s=t("../../core/Core"),c=t("../../core/manager/WXTTUtils"),l=t("../../game/GameMgr"),u=t("../game/AnimationHelper"),h=cc._decorator,p=h.ccclass,f=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),cc.debug.setDisplayStats(!1),cc.game.setFrameRate(60),this.preLoadBundle()},e.prototype.preLoadBundle=function(){var t=this;this.SetText("txt_loading","\u52a0\u8f7d\u5b50\u5305,\u8bf7\u7a0d\u7b49...");for(var e=0,n=["map","texture","pack_config"],o=0;o<n.length;o++)cc.assetManager.loadBundle(n[o],function(){++e==n.length&&t.preLoadPlist()});c.default.showShareMenu()},e.prototype.preLoadPlist=function(){var t=this;cc.resources.preloadDir("sound"),c.default.initInterstitialAd(),this.SetText("txt_loading","\u52a0\u8f7d\u8d44\u6e90\u4e2d\u8bf7\u7a0d\u7b49...");for(var e=[{path:"atlas/arrow",type:cc.SpriteAtlas},{path:"atlas/blast",type:cc.SpriteAtlas},{path:"atlas/bomb",type:cc.SpriteAtlas},{path:"atlas/light",type:cc.SpriteAtlas},{path:"atlas/lightball",type:cc.SpriteAtlas},{path:"atlas/specialBall",type:cc.SpriteAtlas},{path:"atlas/ball1",type:cc.Texture2D},{path:"atlas/ball2",type:cc.Texture2D},{path:"atlas/ball3",type:cc.Texture2D},{path:"atlas/ball4",type:cc.Texture2D},{path:"atlas/ball5",type:cc.Texture2D},{path:"atlas/ball6",type:cc.Texture2D}],n=0,o=0;o<e.length;o++)cc.assetManager.getBundle("texture").load(e[o].path,e[o].type,function(o){if(o)cc.log(o);else{n++;var r=Math.floor(n/e.length*100)+"%";t.SetText("txt_loading","\u52a0\u8f7d\u8d44\u6e90\u4e2d\u8bf7\u7a0d\u7b49..."+r),cc.log(n,e.length),n==e.length&&t.onLoadCOmplete()}})},e.prototype.onLoadCOmplete=function(){cc.log("complete"),u.default.initAnimation(),l.default.getInstance().onGameEnter(),s.Core.winManager.open("MenuWin",null,!0)},i([p],e)}(a.default));n.default=f,cc._RF.pop()},{"../../core/Core":"Core","../../core/component/BasePanel":"BasePanel","../../core/manager/WXTTUtils":"WXTTUtils","../../game/GameMgr":"GameMgr","../game/AnimationHelper":"AnimationHelper"}],Load:[function(t,e,n){"use strict";cc._RF.push(e,"bc9d9HFYeJKbrFHkeovxnZ3","Load"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../log/LogUtil"),r=t("./LBundleInfo"),i=t("./LHandler"),a=t("./LState"),s=function(){function t(){}return t.init=function(e){t.cdnUrl=e,setInterval(function(){Date.now(),r.LBundleInfo.checkDestroy()},3e3)},t.loadAsset=function(t,e,n,a,s){var c=t.indexOf("/");if(!(c<0)){var l=t.substring(0,c);t=t.substring(c+1);var u=i.LAssetHandler.pop(t,n,a,s);return u.use(r.LBundleInfo.get(l),e),u}o.default.e("Load getBundleName name == null",t)},t.loadBundleAsset=function(t,e,n,o,a,s){var c=i.LAssetHandler.pop(e,o,a,s);return c.use(r.LBundleInfo.get(t),n),c},t.loadBundle=function(t,e,n,o){var a=i.LBundleHandler.pop(t,e,n,o);return a.use(r.LBundleInfo.get(t)),a},t.loadScene=function(e,n,s,c){var l=e.indexOf("/");if(!(l<0)){t.scene&&t.scene.state!=a.LState.Destroy&&t.scene.unuse();var u=e.substring(0,l);e=e.substring(l+1);var h=i.LSceneHandle.pop(e,n,s,c);return h.use(r.LBundleInfo.get(u)),t.scene=h,h}o.default.e("Load getBundleName name == null",e)},t}();n.default=s,cc._RF.pop()},{"../log/LogUtil":"LogUtil","./LBundleInfo":"LBundleInfo","./LHandler":"LHandler","./LState":"LState"}],LogLevel:[function(t,e,n){"use strict";var o;cc._RF.push(e,"b3523SciaxM2aAZgDn3vfl9","LogLevel"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.None=0]="None",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR"}(o||(o={})),n.default=o,cc._RF.pop()},{}],LogModel:[function(t,e,n){"use strict";cc._RF.push(e,"5960fkNMGZLdqryeCFKhLQq","LogModel");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./LogUtil"),i=function(){function t(t){this._m="",this._m=t}return t.prototype.d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.default.d.apply(r.default,o([this._m],t))},t.prototype.i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.default.i.apply(r.default,o([this._m],t))},t.prototype.w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.default.w.apply(r.default,o([this._m],t))},t.prototype.e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.default.e.apply(r.default,o([this._m],t))},t}();n.default=i,cc._RF.pop()},{"./LogUtil":"LogUtil"}],LogUtil:[function(t,e,n){"use strict";cc._RF.push(e,"10405qi5O9CnbbTad3N8fse","LogUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./LogLevel"),r=new(function(){function t(){this._lv=o.default.ERROR}return t.prototype.setLevel=function(t){this._lv=t},t.prototype.d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.default.DEBUG<this._lv||console.log.apply(console,t)},t.prototype.i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.default.INFO<this._lv||console.info.apply(console,t)},t.prototype.w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.default.WARN<this._lv||console.warn.apply(console,t)},t.prototype.e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.default.ERROR<this._lv||console.error.apply(console,t)},t.prototype.getStr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",o=0,r=t.length;o<r;o++){var i=void 0;i=null===t[o]?"null":void 0===t[o]?"undefined":"object"==typeof t[o]?JSON.stringify(t[o]):t[o].toString(),n+=o==r-1?i:i+" "}return"[g]"+n},t}());n.default=r,cc._RF.pop()},{"./LogLevel":"LogLevel"}],LongTouchComponent:[function(t,e,n){"use strict";cc._RF.push(e,"e00b9OAUdVJhbS0BUI7M5px","LongTouchComponent");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchInterval=.1,e.enableMultiTouching=!1,e.longTouchEvents=[],e._touchCounter=0,e._isTouching=!1,e}return r(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.unschedule(this._touchCounterCallback)},e.prototype.clear=function(){this._isTouching=!1,this.unschedule(this._touchCounterCallback)},e.prototype._onTouchStart=function(t){var e=this;if(!this.enableMultiTouching){if(this._isTouching)return;this.node.getBoundingBoxToWorld().contains(t.getLocation())?this._isTouching=!0:this._isTouching=!1,this._isTouching&&(this.publishOneTouch(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e._isTouching&&(e.unschedule(e._touchCounterCallback),e.schedule(e._touchCounterCallback,e.touchInterval))}))))}},e.prototype._onTouchEnd=function(){this._isTouching=!1,this._touchCounter=0,this.unschedule(this._touchCounterCallback)},e.prototype._onTouchCancel=function(){this._isTouching=!1,this._touchCounter=0,this.unschedule(this._touchCounterCallback)},e.prototype._touchCounterCallback=function(){this._isTouching?this.publishOneTouch():this.unschedule(this._touchCounterCallback)},e.prototype.publishOneTouch=function(){var t=this;this._isTouching&&(this.node.runAction(cc.sequence(cc.scaleTo(this.touchInterval/2,.8),cc.scaleTo(this.touchInterval/2,1))),this._touchCounter++,this.longTouchEvents.forEach(function(e){e.emit([t.node])}))},i([c({tooltip:"\u89e6\u6478\u56de\u8c03\u95f4\u9694\uff08\u79d2\uff09\u3002\u5047\u5982\u4e3a0.1\uff0c\u90a3\u4e481\u79d2\u5185\u4f1a\u56de\u8c0310\u6b21 ${longTouchEvents} \u4e8b\u4ef6\u6570\u7ec4"})],e.prototype,"touchInterval",void 0),i([c({readonly:!0,tooltip:"\u662f\u5426\u652f\u6301\u591a\u70b9\u89e6\u63a7\uff08\u5f53\u524d\u8fd8\u4e0d\u652f\u6301\uff09"})],e.prototype,"enableMultiTouching",void 0),i([c({type:[cc.Component.EventHandler],tooltip:"\u56de\u8c03\u4e8b\u4ef6\u6570\u7ec4\uff0c\u6bcf\u95f4\u9694 ${toucheInterval}s \u56de\u8c03\u4e00\u6b21"})],e.prototype,"longTouchEvents",void 0),i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],MenuWin:[function(t,e,n){"use strict";cc._RF.push(e,"f6540cO/SNMl64MUIwOsw2a","MenuWin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../core/component/BasePanel"),s=t("../../core/Core"),c=t("../../core/manager/Model"),l=t("../../core/manager/WXTTUtils"),u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_adv=null,e.btn_challenge=null,e.btn_help=null,e.btn_more=null,e.btn_share=null,e.btn_soundoff=null,e.btn_soundon=null,e.btn_musicoff=null,e.btn_musicon=null,e}return r(e,t),e.prototype.onLoad=function(){this.btn_soundoff.active=0==s.Core.soundManager.sfxVolume,this.btn_soundon.active=0!=s.Core.soundManager.sfxVolume,this.btn_musicoff.active=0==s.Core.soundManager.bgmVolume,this.btn_musicon.active=0!=s.Core.soundManager.bgmVolume,l.default.showBanner(),s.Core.soundManager.pauseBGM(),cc.log("\u52a8\u6001\u5408\u56fe",cc.dynamicAtlasManager.enabled)},e.prototype.onAdvClick=function(){s.Core.winManager.open("LevelWin",null,!0),s.Core.soundManager.playSFX("sound/button")},e.prototype.onChallengeClick=function(){s.Core.soundManager.playSFX("sound/button")},e.prototype.onMoreClick=function(){s.Core.soundManager.playSFX("sound/button")},e.prototype.onHelpClick=function(){s.Core.soundManager.playSFX("sound/button"),s.Core.winManager.open("HelpWin")},e.prototype.onShareClick=function(){l.default.share(),l.default.share(),s.Core.soundManager.playSFX("sound/button")},e.prototype.onSoundonClick=function(){s.Core.soundManager.playSFX("sound/button"),this.btn_soundon.active=!1,this.btn_soundoff.active=!0,s.Core.soundManager.setSFXVolume(0),cc.sys.localStorage.setItem("sfxVolume",0)},e.prototype.onSoundoffClick=function(){this.btn_soundon.active=!0,this.btn_soundoff.active=!1,s.Core.soundManager.setSFXVolume(1),cc.sys.localStorage.setItem("sfxVolume",1),s.Core.soundManager.playSFX("sound/button")},e.prototype.onMusiconClick=function(){s.Core.soundManager.playSFX("sound/button"),this.btn_musicon.active=!1,this.btn_musicoff.active=!0,s.Core.soundManager.setBGMVolume(0),cc.sys.localStorage.setItem("bgmVolume",0)},e.prototype.onMusicoffClick=function(){this.btn_musicon.active=!0,this.btn_musicoff.active=!1,s.Core.soundManager.setBGMVolume(1),cc.sys.localStorage.setItem("bgmVolume",1),s.Core.soundManager.playSFX("sound/button")},e.prototype.onDestroy=function(){c.default.save(),l.default.destroyBanner()},i([p(cc.Node)],e.prototype,"btn_adv",void 0),i([p(cc.Node)],e.prototype,"btn_challenge",void 0),i([p(cc.Node)],e.prototype,"btn_help",void 0),i([p(cc.Node)],e.prototype,"btn_more",void 0),i([p(cc.Node)],e.prototype,"btn_share",void 0),i([p(cc.Node)],e.prototype,"btn_soundoff",void 0),i([p(cc.Node)],e.prototype,"btn_soundon",void 0),i([p(cc.Node)],e.prototype,"btn_musicoff",void 0),i([p(cc.Node)],e.prototype,"btn_musicon",void 0),i([h],e)}(a.default);n.default=f,cc._RF.pop()},{"../../core/Core":"Core","../../core/component/BasePanel":"BasePanel","../../core/manager/Model":"Model","../../core/manager/WXTTUtils":"WXTTUtils"}],Model:[function(t,e,n){"use strict";cc._RF.push(e,"23434eATX5GepHqEWNMrMv7","Model"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../modules/game/GameModel"),r=t("../common/GameConst"),i=t("../utils/AudioMgr"),a=t("../utils/Utils"),s=function(){function t(){}return t.save=function(e){void 0===e&&(e=!1);var n={};n.game=t.game.getUploadData(),t.savedata(n,e)},t.getGameData=function(){return cc.sys.localStorage.getItem(r.default.LocalDataKey)},t.getorigin=function(){return window.wx||window.tt||window.qq?"minigame":"test"},t.loadData=function(){var e=cc.sys.localStorage.getItem(r.default.LocalDataKey);e?(e=JSON.parse(e),console.log("\u672c\u5730\u6570\u636e",e),t.game.setData(e.game)):(cc.sys.localStorage.setItem("bgmVolume",i.default.DEFAULT_VOLUME),cc.sys.localStorage.setItem("sfxVolume",i.default.DEFAULT_VOLUME),i.default.Instance().sfxVolume=i.default.DEFAULT_VOLUME,i.default.Instance().bgmVolume=i.default.DEFAULT_VOLUME)},t.savedata=function(t,e){if(void 0===e&&(e=!1),cc.sys.localStorage.setItem("savedatatime",a.default.getServerTime()),cc.sys.platform==cc.sys.WECHAT_GAME){var n=JSON.stringify(t);cc.sys.localStorage.setItem(r.default.LocalDataKey,n),t.game={},(a.default.getServerTime()-this.savedatatime>18e4||e)&&(this.savedatatime=a.default.getServerTime())}else n=JSON.stringify(t),cc.sys.localStorage.setItem(r.default.LocalDataKey,n),t.game={},(a.default.getServerTime()-this.savedatatime>18e4||e)&&(this.savedatatime=a.default.getServerTime())},t.game=new o.default,t.savedatatime=0,t}();n.default=s,cc._RF.pop()},{"../../modules/game/GameModel":"GameModel","../common/GameConst":"GameConst","../utils/AudioMgr":"AudioMgr","../utils/Utils":"Utils"}],MoveState:[function(t,e,n){"use strict";cc._RF.push(e,"df98epqJq9GqovturjtG4M0","MoveState"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.start=function(){},t.prototype.stop=function(){},t}();n.default=o,cc._RF.pop()},{}],MsgBox:[function(t,e,n){"use strict";cc._RF.push(e,"48bfcsIztdDFa7xVRVrjx0i","MsgBox");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../utils/Utils"),l=t("./BaseUI"),u=t("../utils/AudioMgr"),h=cc._decorator,p=h.ccclass,f=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.init=function(){null==n._instance&&cc.director.getScene().getChildByName("Canvas").addComponent("MsgBox")},e.findMsgBoxByName=function(t){return cc.director.getScene().getChildByName("Canvas").getChildByName(t)},e.showOnly=function(t,e,o,r,i){void 0===t&&(t=""),void 0===e&&(e=null),void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===i&&(i=3),n.findMsgBoxByName(t)||n.show(t,e,o,r,i,null,!1,t)},e.show=function(t,e,o,r,i,l,u,h){return void 0===t&&(t=""),void 0===e&&(e=null),void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===i&&(i=3),void 0===l&&(l=null),void 0===u&&(u=!1),void 0===h&&(h=""),a(this,void 0,void 0,function(){var a,p,f,d,g,y;return s(this,function(s){switch(s.label){case 0:return null==n._instance&&cc.director.getScene().getChildByName("Canvas").addComponent("MsgBox"),null==l&&(l="prefab:common/alertWnd"),[4,c.default.loadRes(l,cc.Prefab)];case 1:return a=s.sent(),p=cc.instantiate(a),h&&(p.name=h),p.parent=cc.director.getScene().getChildByName("Canvas"),cc.find("main/bg/tips",p).getComponent(cc.Label).string=t,f=cc.find("btns/btn_ok1",p),d=cc.find("btns/btn_ok2",p),g=cc.find("btns/btn_cancel",p),y=cc.find("main/btn_close",p),f.active=!1,d.active=!1,g.active=!1,y&&(y.active=!1),f.callback=e,d.callback=e,g.callback=e,o?(d.active=!0,g.active=!0):f.active=!0,y&&(y.active=u),c.default.addClickEvent(f,n._instance.node,"MsgBox","onBtnClicked",f),c.default.addClickEvent(d,n._instance.node,"MsgBox","onBtnClicked",d),c.default.addClickEvent(g,n._instance.node,"MsgBox","onBtnClicked",g),y&&c.default.addClickEvent(y,n._instance.node,"MsgBox","onBtnClicked",y),r&&p.runAction(cc.sequence(cc.delayTime(i||2),cc.callFunc(function(){cc.isValid(p)&&(e&&e(n.Status.OK),p.destroy())}))),[2]}})})},e.prototype.onLoad=function(){n._instance=this,cc.resources.load("prefab:common/alertWnd")},e.prototype.onDestroy=function(){n._instance=null},e.prototype.onBtnClicked=function(t,e){u.default.Instance().playSFX("sfx_UI_click"),e.callback&&("btn_ok1"==t.target.name||"btn_ok2"==t.target.name?e.callback(n.Status.OK):e.callback(n.Status.CANCLE)),cc.isValid(e)&&(e.parent.parent.stopAllActions(),e.parent.parent.destroy())},e.Status=cc.Enum({OK:0,CANCLE:1}),e._instance=null,n=i([p],e)}(l.default));n.default=f,cc._RF.pop()},{"../utils/AudioMgr":"AudioMgr","../utils/Utils":"Utils","./BaseUI":"BaseUI"}],MsgHints:[function(t,e,n){"use strict";cc._RF.push(e,"922a144cLRCbrDv5hv5JyP8","MsgHints");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../utils/Utils"),s=t("../manager/PoolManager"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.show=function(t){if(""!=t)if(null!=n._prefab){if(0!=s.default.Instance().pools["PoolType.MSGHINTS"].size()){var e=s.default.Instance().get("PoolType.MSGHINTS");e.scaleY=0,e.parent=cc.find("Canvas"),e.zIndex=999,e.getChildByName("label").getComponent(cc.Label).string=t,e.getComponent(cc.Animation).play("msghints",0),e.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){s.default.Instance().put("PoolType.MSGHINTS",e)})))}}else a.default.loadRes("prefab:common/msg_hints",cc.Prefab,function(e,o){e||(n._prefab=o,s.default.Instance().initPool("PoolType.MSGHINTS",n._prefab,20),n.show(t))})},e._prefab=null,n=i([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../manager/PoolManager":"PoolManager","../utils/Utils":"Utils"}],NodeUtils:[function(t,e,n){"use strict";cc._RF.push(e,"91d6aKfYMZDLr18YnBnZmIi","NodeUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.NodeUtils=void 0;var o=function(){function t(){}return t.changeNodeGroup=function(t,e){if(e=e||0,t.groupIndex=e,t.childrenCount)for(var n=0,o=t.children.length;n<o;n++)this.changeNodeGroup(t.children[n],e)},t}();n.NodeUtils=o,cc._RF.pop()},{}],Notifier:[function(t,e,n){"use strict";cc._RF.push(e,"cf72741DFFC9YJJtl5lonwY","Notifier"),Object.defineProperty(n,"__esModule",{value:!0}),n.Notifier=n.PriorHighest=n.PriorHigh=n.PriorMiddle=n.PriorLow=n.PriorLowest=void 0;var o=t("./NotifyListener"),r=t("./NotifyCaller");n.PriorLowest=-200,n.PriorLow=-100,n.PriorMiddle=0,n.PriorHigh=100,n.PriorHighest=200;var i=function(){function t(){}return t.addListener=function(t,e,o,r){void 0===r&&(r=n.PriorMiddle),this._listener.Register(t,e,o,r)},t.delListener=function(t,e,n){this._listener.Unregister(t,e,n)},t.changeListener=function(t,e,o,r,i){void 0===i&&(i=n.PriorMiddle),t?this.addListener(e,o,r,i):this.delListener(e,o,r)},t.send=function(t,e,n,o,r,i){this._listener.Send(t,e,n,o,r,i)},t.isExist=function(t){return this._listener.IsExist(t)},t.setListenNameHandler=function(t){this._listener.setIdToNameHandler(t)},t.setCall=function(t,e,n){return this._caller.Register(t,e,n)},t.delCall=function(t,e,n){return this._caller.Unregister(t,e,n)},t.changeCall=function(t,e,n,o){return t?this.setCall(e,n,o):this.delCall(e,n,o)},t.call=function(t,e,n,o,r){return this._caller.Call(t,e,n,o,r)},t.setCallNameHandler=function(t){this._caller.setIdToNameHandler(t)},t._listener=new o.NotifyListener,t._caller=new r.NotifyCaller,t}();n.Notifier=i,cc._RF.pop()},{"./NotifyCaller":"NotifyCaller","./NotifyListener":"NotifyListener"}],NotifyCaller:[function(t,e,n){"use strict";cc._RF.push(e,"041c6X5VXpAdLWMBBSdYnWd","NotifyCaller"),Object.defineProperty(n,"__esModule",{value:!0}),n.NotifyCaller=void 0;var o=t("../log/LogUtil"),r=function(){function t(){this._calls={}}return t.prototype.setIdToNameHandler=function(t){this._idToNameHandler=t},t.prototype.idToName=function(t){return null!=this._idToNameHandler?this._idToNameHandler(t):t.toString()},t.prototype.Register=function(t,e,n){if(null==e)return o.default.w("[NotifyCaller].Register:"+this.idToName(t)+" callback null"),!1;var r=this._calls[t];return null!=r?(o.default.w("[NotifyCaller].Register:"+this.idToName(t)+" multi times:"+r+" "+e),!1):(this._calls[t]={func:e,context:n},!0)},t.prototype.Unregister=function(t,e,n){var r=this._calls[t];return null==r||r.func!==e||r.context!=n?(o.default.w("[NotifyCaller].Unregister can't find:"+this.idToName(t)+" callback:"+r+" "+e),!1):(delete this._calls[t],!0)},t.prototype.Call=function(t,e,n,r,i){var a=this._calls[t];if(null!=a)return a.func.call(a.context,e,n,r,i);o.default.w("[NotifyCaller].Call can't find:"+this.idToName(t))},t}();n.NotifyCaller=r,cc._RF.pop()},{"../log/LogUtil":"LogUtil"}],NotifyID:[function(t,e,n){"use strict";cc._RF.push(e,"ce9dftYNrxF95WvJlAef7xw","NotifyID"),Object.defineProperty(n,"__esModule",{value:!0}),n.NotifyID=void 0,function(t){t[t.Game_onEnter=0]="Game_onEnter",t[t.Game_onReady=1]="Game_onReady",t[t.Game_onShow=2]="Game_onShow",t[t.Game_onHide=3]="Game_onHide",t[t.Game_Stop=4]="Game_Stop",t[t.Game_Resume=5]="Game_Resume",t[t.Loading_Update=6]="Loading_Update",t[t.Loading_End=7]="Loading_End",t[t.BannerShow=8]="BannerShow",t[t.BannerHide=9]="BannerHide",t[t.Tip=10]="Tip",t[t.Tip_Wait=11]="Tip_Wait",t[t.LangChange=12]="LangChange",t[t.MatchStateUpdate=13]="MatchStateUpdate",t[t.Agora_Joined=14]="Agora_Joined",t[t.Agora_Leave=15]="Agora_Leave",t[t.Agora_UserPublished=16]="Agora_UserPublished",t[t.Agora_UerUnpublished=17]="Agora_UerUnpublished",t[t.onActorDie=18]="onActorDie",t[t.onRoomInfoUpdate=19]="onRoomInfoUpdate",t[t.onPlayerInfoUpdate=20]="onPlayerInfoUpdate",t[t.onTaskUpdate=21]="onTaskUpdate",t[t.SubStateStart=22]="SubStateStart",t[t.SubStateEnd=23]="SubStateEnd",t[t.UpdateItems=24]="UpdateItems",t[t.UpdateGold=25]="UpdateGold",t[t.UpdateAvatar=26]="UpdateAvatar",t[t.UpdateActivityTest=27]="UpdateActivityTest",t[t.UpdateSign=28]="UpdateSign"}(n.NotifyID||(n.NotifyID={})),cc._RF.pop()},{}],NotifyListener_Interl:[function(t,e,n){"use strict";cc._RF.push(e,"f612fpBIutDL4DIRxBi6boP","NotifyListener_Interl"),Object.defineProperty(n,"__esModule",{value:!0}),n.ListenerManager=n.kWarningStackDepth=n.kMaxStackDepth=void 0,n.kMaxStackDepth=15,n.kWarningStackDepth=10;var o=function(){function t(t,e,n){this._prior=0,this._sendTimes=0,this._callback=t,this._context=e,this._prior=n}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"callback",{get:function(){return this._callback},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prior",{get:function(){return this._prior},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sendTimes",{get:function(){return this._sendTimes},enumerable:!1,configurable:!0}),t.prototype.SetSendTimes=function(t){this._sendTimes=t},t}(),r=function(){function t(t){this._sendTimes=0,this._id=0,this._id=t,this._handlers=new Array}return t.prototype.toString=function(){return"<ListenerManager id:"+this._id+", times:"+this._sendTimes+">"},t.prototype.IsExistHandler=function(t,e){if(this._handlers.length>0)for(var n=this._handlers.length-1;n>=0;n--){var o=this._handlers[n];if(o.callback===t&&o.context==e)return!0}return!1},t.prototype.AddHandler=function(t,e,n){var r=new o(t,e,n);if(this._handlers.length>0){for(var i=!1,a=this._handlers.length-1;a>=0;a--)if(r.prior>=this._handlers[a].prior){this._handlers.splice(a+1,0,r),i=!0;break}i||this._handlers.unshift(r)}else this._handlers.push(r);return!0},t.prototype.RemoveHandler=function(t,e){var n=-1;if(this._handlers.length>0)for(var o=this._handlers.length-1;o>=0;o--){var r=this._handlers[o];if(r.callback===t&&r.context==e){n=o;break}}return-1!=n&&(this._handlers.splice(n,1),!0)},t.prototype.Send=function(t,e,n,o,r){++this._sendTimes;for(var i=this._handlers.length-1;i>=0;i--){var a=this._handlers[i];a.sendTimes>=this._sendTimes||(a.SetSendTimes(this._sendTimes),a.callback.call(a.context,t,e,n,o,r))}},t}();n.ListenerManager=r,cc._RF.pop()},{}],NotifyListener:[function(t,e,n){"use strict";cc._RF.push(e,"8ba3cj+dStCXrCjc0HbgXsW","NotifyListener"),Object.defineProperty(n,"__esModule",{value:!0}),n.NotifyListener=void 0;var o=t("../log/LogUtil"),r=t("./NotifyListener_Interl"),i=function(){function t(){this._managers={},this._callStacks=[]}return t.prototype.getCellStackString=function(){for(var t="[",e=0,n=this._callStacks;e<n.length;e++){var o=n[e];t+=this.idToName(o)+","}return t+"]"},t.prototype.setIdToNameHandler=function(t){this._idToNameHandler=t},t.prototype.idToName=function(t){return null!=this._idToNameHandler?this._idToNameHandler(t):t.toString()},t.prototype.CheckAndPushCallStack=function(t){var e=this._callStacks.length;return!(e>=r.kMaxStackDepth||e>=r.kWarningStackDepth||(this._callStacks.push(t),0))},t.prototype.PopCallStack=function(){this._callStacks.pop()},t.prototype.Register=function(t,e,n,i){if(null!=e){var a=this._managers[t];if(null==a)a=new r.ListenerManager(t),this._managers[t]=a;else if(a.IsExistHandler(e,n))return void o.default.w("[NotifyListener].Register:"+this.idToName(t)+" callback repeat, skip",n);a.AddHandler(e,n,i)}else o.default.w("[NotifyListener].Register:"+this.idToName(t)+" callback null")},t.prototype.Unregister=function(e,n,o){var r=this._managers[e];null!=r&&r.RemoveHandler(n,o)||t.enableLog},t.prototype.Send=function(e,n,o,r,i,a){var s=this._managers[e];null!=s?this.CheckAndPushCallStack(e)&&(s.Send(n,o,r,i,a),this.PopCallStack()):t.enableLog},t.prototype.IsExist=function(t){return null!=this._managers[t]},t.enableLog=!0,t}();n.NotifyListener=i,cc._RF.pop()},{"../log/LogUtil":"LogUtil","./NotifyListener_Interl":"NotifyListener_Interl"}],NumberRoll:[function(t,e,n){"use strict";cc._RF.push(e,"7afd2vdphtCjKWi+cfBvmoW","NumberRoll");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../component/BaseUI"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._cur=0,e._target=0,e.prefix="",e._offset=0,e}return r(e,t),e.prototype.start=function(){this.label=this.node.getComponent(cc.Label)},Object.defineProperty(e.prototype,"vaule",{set:function(t){this._target=t,this._offset=Math.floor((this._target-this._cur)/Math.min(30,Math.abs(this._target-this._cur)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{set:function(t){this._cur=Number(t),this._target=Number(t),this.label.string=t},enumerable:!1,configurable:!0}),e.prototype.update=function(){this._cur!=this._target&&(this._cur+=this._offset,this._offset>0&&this._cur>this._target&&(this._cur=this._target),this._offset<0&&this._cur<this._target&&(this._cur=this._target)),this.label.string=this.prefix+this._cur+""},i([c],e)}(a.default));n.default=l,cc._RF.pop()},{"../component/BaseUI":"BaseUI"}],PathLine:[function(t,e,n){"use strict";cc._RF.push(e,"b8548lbxQ1LQq3B9Zd9iPu6","PathLine");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./PathStar"),i=cc._decorator,a=i.ccclass,s=(i.property,1),c=function(){function t(t,e,n,o,i,a){void 0===i&&(i=2),void 0===a&&(a=0),this.finished=!1,this.crossZOrder=0,this.container=e,this.stepData=n,this.changeZorderIndex=o,this.intostars=[],this.crossZOrder=a;for(var c=[0,1,2,3,4,5,5,4,3,2,1,0],l=0;l<c.length;l++){var u=cc.instantiate(t),h=u.getComponent(r.default);h.setData(c[l]),h.stepData=n,e.addChild(u),h.posIndex=36*l*s+30,this.intostars.push(h),u.zIndex=i}}return t.prototype.update=function(){for(var t=this.intostars.length-1;t>=0;t--){var e=this.intostars[t];e.posIndex+36*s>=this.stepData.length?(e.posIndex=this.stepData.length-1,e.node.destroy(),this.intostars.splice(t,1)):(e.posIndex+=36*s,0!=this.changeZorderIndex&&e.node.zIndex!=this.crossZOrder&&e.posIndex>=this.changeZorderIndex&&(e.node.zIndex=this.crossZOrder))}0==this.intostars.length&&(this.finished=!0)},o([a],t)}();n.default=c,cc._RF.pop()},{"./PathStar":"PathStar"}],PathStar:[function(t,e,n){"use strict";cc._RF.push(e,"01fa44dxh9BzqUB8Z9vEF9e","PathStar");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._posIndex=-1,e.frames=[],e}return r(e,t),Object.defineProperty(e.prototype,"stepData",{get:function(){return this._stepData},set:function(t){this._stepData=t},enumerable:!1,configurable:!0}),e.prototype.setData=function(t){this.id=t,this.getComponent(cc.Sprite).spriteFrame=this.frames[t]},Object.defineProperty(e.prototype,"posIndex",{get:function(){return this._posIndex},set:function(t){this._posIndex=t,this.node.x=this._stepData[t][0]-14,this.node.y=this._stepData[t][1]-14},enumerable:!1,configurable:!0}),i([c([cc.SpriteFrame])],e.prototype,"frames",void 0),i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],PauseWin:[function(t,e,n){"use strict";cc._RF.push(e,"1b484mZ04VGXYJWrTA25DYU","PauseWin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=t("../../../core/component/BasePanel"),c=t("../../../core/manager/WXTTUtils"),l=t("./GameWin"),u=cc._decorator,h=u.ccclass,p=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){c.default.showBanner(),c.default.showInterstitialAd()},e.prototype.onMenuClick=function(){a.Core.soundManager.playSFX("sound/button"),a.Core.timer.resume(),a.Core.winManager.open("LevelWin",null,!0)},e.prototype.onContinueClick=function(){a.Core.soundManager.playSFX("sound/button"),a.Core.timer.resume(),a.Core.winManager.getWin("GameWin").getComponent(l.default).pause=!1,this.close()},e.prototype.onRetryClick=function(){a.Core.soundManager.playSFX("sound/button"),a.Core.timer.resume(),a.Core.winManager.removeAll(),a.Core.winManager.open("GameWin")},e.prototype.onDestroy=function(){c.default.destroyBanner()},i([h],e)}(s.default));n.default=p,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/component/BasePanel":"BasePanel","../../../core/manager/WXTTUtils":"WXTTUtils","./GameWin":"GameWin"}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"27266lCXTdBGoV3qa1sOj+B","PoolManager");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(){function t(){this.pools={}}return t.prototype.get=function(t,e){return null==this.pools[t]&&(this.pools[t]=new cc.NodePool),this.pools[t].size()>0?this.pools[t].get():cc.instantiate(e)},t.prototype.recover=function(t,e){null==this.pools[t]&&(this.pools[t]=new cc.NodePool),this.pools[t].put(e)},o([i],t)}());n.default=a,cc._RF.pop()},{}],Pool:[function(t,e,n){"use strict";cc._RF.push(e,"c8abeipCHtBRbzNuQpjEHFP","Pool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===e&&(e=256),this.pool=[],this.maxCount=e,this.create=t}return t.prototype.pop=function(){return this.pool.pop()||new this.create},t.prototype.push=function(t){this.pool.length<this.maxCount?this.pool.push(t):this.dropCount++},t.prototype.clear=function(){this.pool.splice(0,this.pool.length),this.dropCount=0},Object.defineProperty(t.prototype,"count",{get:function(){return this.pool.length},enumerable:!1,configurable:!0}),t}();n.default=o,cc._RF.pop()},{}],Queue:[function(t,e,n){"use strict";cc._RF.push(e,"f3162mhbGFIta14CwAO45a4","Queue"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){this.elements=new Array,this._size=t}return t.prototype.push=function(t){return null!=t&&(null==this._size||isNaN(this._size)||this.elements.length==this._size&&this.pop(),this.elements.unshift(t),!0)},t.prototype.pop=function(){return this.elements.pop()},t.prototype.size=function(){return this.elements.length},t.prototype.empty=function(){return 0==this.size()},t.prototype.clear=function(){delete this.elements,this.elements=new Array},t}();n.default=o,cc._RF.pop()},{}],ReviveWin:[function(t,e,n){"use strict";cc._RF.push(e,"ba92apvurlIXIRINjRd3Z3t","ReviveWin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/component/BasePanel"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){},e.prototype.show=function(t){this.cb=t},e.prototype.onCloseClick=function(){var t;this.close(),null===(t=this.cb)||void 0===t||t.runWith(!1)},e.prototype.onRetryClick=function(){var t;this.close(),null===(t=this.cb)||void 0===t||t.runWith(!0)},e.prototype.onDestroy=function(){},i([c],e)}(a.default));n.default=l,cc._RF.pop()},{"../../../core/component/BasePanel":"BasePanel"}],ScoreTip:[function(t,e,n){"use strict";cc._RF.push(e,"3e03b44T+JJVIdvLCoIO8M0","ScoreTip");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=t("../../../core/common/GameConst"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=t.call(this)||this;return e.txt=null,e}return r(e,t),e.prototype.setData=function(t,e,n,o,r,i){var c=this;this.txt.node.color=s.default.FontColor[i],this.node.opacity=255,this.txt.string=t+"",this.node.x=e,this.node.y=n,cc.tween(this.node).to(.8,{x:o,y:r,scaleX:1,scaleY:1}).start(),cc.tween(this.node).to(1,{opacity:0}).call(function(){a.Core.pool.recover("ScoreTip",c.node)}).start()},i([u(cc.Label)],e.prototype,"txt",void 0),i([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/common/GameConst":"GameConst"}],Shake:[function(t,e,n){"use strict";cc._RF.push(e,"776856yN0hDUJ9tpRE0AmLJ","Shake");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Shake=void 0;var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}var n;return r(e,t),n=e,e.create=function(t,e,o){var r=new n;return r.initWithDuration(t,e,o),r},e.prototype.initWithDuration=function(t,e,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=n,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},n=i([s],e)}(cc.ActionInterval));n.Shake=c,cc._RF.pop()},{}],SingleClass:[function(t,e,n){"use strict";cc._RF.push(e,"8fcb4XwtYNERJ7UW2TKCrbD","SingleClass"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getInstance=function(){return this.instance||(this.instance=new this),this.instance},t.recycle=function(){this.instance=null},t}();n.default=o,cc._RF.pop()},{}],Singleton:[function(t,e,n){"use strict";cc._RF.push(e,"b3524d7zH9PiqxWDRneLvf8","Singleton"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.Instance=function(){return this.instance||(this.instance=new this),this.instance},t}();n.default=o,cc._RF.pop()},{}],SpecialBall:[function(t,e,n){"use strict";cc._RF.push(e,"a38f2i3Xx9A4a7BoDeLW6JN","SpecialBall");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=t("../../../core/common/GameConst"),c=t("../../../core/component/FrameAnimation"),l=cc._decorator,u=l.ccclass,h=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.code=0,e.vx=0,e.vy=0,e.radians=0,e.finished=!1,e}return r(e,t),e.prototype.onLoad=function(){this.code==s.default.PROP.ARROW?(this.ani.frameRate=12,this.ani.play(1,"fireArrow")):this.code==s.default.PROP.CLEAR?(this.ani.frameRate=12,this.ani.node.y=-36,this.ani.play(1,"clearAni")):this.code==s.default.PROP.LIGHT&&(this.ani.frameRate=25,this.ani.node.anchorX=0,this.ani.node.y=36,this.ani.node.angle=-90,this.ani.play(1,"lightAni",1),this.ani.node.on(c.FrameAnimation.COMPLETE,this.onLightEnd,this),a.Core.soundManager.playSFX("sound/lighting"))},e.prototype.onLightEnd=function(){this.finished=!0},i([h(c.FrameAnimation)],e.prototype,"ani",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/common/GameConst":"GameConst","../../../core/component/FrameAnimation":"FrameAnimation"}],StringUtil:[function(t,e,n){"use strict";cc._RF.push(e,"ab442M1zwJKapbOtI4LhzqC","StringUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.StringUtil=void 0;var o=function(){function t(){}return t.InsertStr=function(t,e,n){return""+(t.substring(0,n)+e+t.substring(n,t.length))},t.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!e||!e.length)return t;var o=typeof e[0];for(var r in e="string"==o||"number"==o?e:e[0])t=t.replace(RegExp("\\{"+r+"\\}","gi"),e[r]);return t},t.formatByArr=function(t,e){if(!e||!e.length)return t;var n=typeof e[0];for(var o in e="string"==n||"number"==n?e:e[0])t=t.replace(RegExp("\\{"+o+"\\}","gi"),e[o]);return t},t.str2Obj=function(t){return t&&"string"==typeof t?JSON.parse(t):t},t.cutAddressStr=function(e,n){return void 0===n&&(n=17),null==e||0==e.length?e:e.length<=n?e:t.format("{0}...{1}",e.substring(0,8),e.substring(e.length-8))},t.getLimitString=function(e,n){return void 0===n&&(n=20),null==e||0==e.length?e:e.length<=n?e:t.format("{0}...",e.substring(0,n))},t.cutStr=function(t,e){for(var n="",o=0,r=0;r<t.length&&(t.charCodeAt(r)>255?o+=2:o+=1,n=n.concat(t.charAt(r)),!(o>=e));r++);return n},t.getLen=function(t){for(var e=0,n=0;n<t.length;n++)t.charCodeAt(n)>255?e+=2:e++;return e},t.formatCurrency=function(t,e){return void 0===e&&(e=!1),e?t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):t.toFixed(0).replace(/\d(?=(\d{3})+$)/g,"$&,")},t.trim=function(t){t=(t=t.replace(/^\s*/g,"")).replace(/\s*$/g,"")},t}();n.StringUtil=o,cc._RF.pop()},{}],TextCfg:[function(t,e,n){"use strict";cc._RF.push(e,"5dcc1J/TsZGQ6l8iQ05QhDt","TextCfg");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.TextCfgReader=n.TextCfgDefine=void 0;var i=t("./CfgReaderBase");n.TextCfgDefine={main1:1};var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="Text",e}return r(e,t),e}(i.CfgReaderBase);n.TextCfgReader=a,cc._RF.pop()},{"./CfgReaderBase":"CfgReaderBase"}],TimeFixModule:[function(t,e,n){"use strict";cc._RF.push(e,"11c69I+FLdFpLu25lPO6IZK","TimeFixModule"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this._isRefeshServerTime=!1,this._deviceTimeSimulate=0,this._interID=-1}return Object.defineProperty(t,"inst",{get:function(){return t._inst||(t._inst=new t),t._inst},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBeenInit",{get:function(){return this._isBeenInit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return Date.now()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedMillisecond",{get:function(){return this._fixedMillisecond},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverTime",{get:function(){return this._serverTimeMs},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e){this._isBeenInit=!0,this.setServerTimeMs(t),this._serverTimeFunc=e},t.prototype.refreshServerTime=function(){var t=this;!this._isRefeshServerTime&&this._serverTimeFunc&&(this._isRefeshServerTime=!0,this._serverTimeFunc().then(function(e){t._isRefeshServerTime=!1,e.time&&t.setServerTimeMs(e.time)}).catch(function(e){t._isRefeshServerTime=!1,e&&e.time&&t.setServerTimeMs(e.time)}))},t.prototype.secondUpdate=function(){this._fixedMillisecond+=1e3,this._deviceTimeSimulate+=1e3;var e=Date.now()-this._deviceTimeSimulate;(e<0||e>t.TIME_CHECK_SPACE)&&this.refreshServerTime()},t.prototype.setServerTimeMs=function(t){if(this._isBeenInit&&!(t<this._serverTimeMs)){this._serverTimeMs=t,this._fixedMillisecond=t,this._deviceTimeSimulate=Date.now();var e=this;-1!=this._interID&&clearInterval(this._interID),this._interID=setInterval(function(){e.secondUpdate()},1e3)}},t.TIME_CHECK_SPACE=1e4,t}();n.default=o,cc._RF.pop()},{}],TimeUtil:[function(t,e,n){"use strict";cc._RF.push(e,"3fcf9lum0tHXYrUo53RKwez","TimeUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.TimeUtil=void 0;var o=t("../log/LogUtil"),r=function(){function t(){}return t.isToday=function(t){var e=new Date(this.getNewData()),n=e.getFullYear(),r=e.getMonth()+1>10?e.getMonth()+1:"0"+(e.getMonth()+1),i=e.getDate()>10?e.getDate():"0"+e.getDate(),a=new Date(this.getNewData());a.setTime(t);var s=a.getFullYear(),c=a.getMonth()+1>10?a.getMonth()+1:"0"+(a.getMonth()+1),l=a.getDate()>10?a.getDate():"0"+a.getDate();return n==s&&r==c&&i==l?(o.default.d("\u540c\u4e00\u5929"),!0):(o.default.d("\u4e0d\u662f\u540c\u4e00\u5929"),!1)},t.getNewData=function(){return(new Date).getTime()-this.mistiming},t.getStartTimeOfDay=function(t){var e=new Date(t);return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()},t.getWeekEndDate=function(t){var e=new Date(t.toString());return 1e3*(this.getLastTimeOfDay(e.getTime())+86400*(7-e.getDay()))/1e3},t.getLastTimeOfDay=function(t){var e=this.getStartTimeOfDay(t);return(this.MILLISECOND-(t-e))/1e3},t.isNextDay=function(t){return t=this.getStartTimeOfDay(t),this.getStartTimeOfDay(Date.now())>t},t.isThirdDay=function(t){return t=this.getStartTimeOfDay(t),this.getStartTimeOfDay(Date.now())-t>this.MILLISECOND},t.isNextWeek=function(t){t=this.getStartTimeOfDay(t);var e=this.getStartTimeOfDay(Date.now());return Math.floor((t+288e5)/this.MILLISECOND/7)<Math.floor((e+288e5)/this.MILLISECOND/7)},t.getLastTimeOfWeek=function(t){var e=this.getStartTimeOfDay(t),n=this.MILLISECOND-(t-e),o=new Date(t).getDay();return 0==o&&(o=7),(n+=(7-o)*this.MILLISECOND)/1e3},t.getDayOfWeek=function(){var t=new Date(Date.now()).getDay();return 0==t&&(t=7),t},t.isInTimesByWeek=function(t,e){var n=new Date(Date.now()),r=t.split(":");if(2!=r.length)return!1;var i=e.split(":");if(2!=i.length)return!1;var a=new Date,s=new Date,c=n;return a.setHours(r[0]),a.setMinutes(r[1]),s.setHours(i[0]),s.setMinutes(i[1]),c.getTime()-a.getTime()>=0&&c.getTime()-s.getTime()<=0||(o.default.d("\u5f53\u524d\u65f6\u95f4\u662f\uff1a"+c.getHours()+":"+c.getMinutes()+"\uff0c\u4e0d\u5728\u8be5\u65f6\u95f4\u8303\u56f4\u5185\uff01"),!1)},t.secToDateTime=function(t){var e=t%86400,n=e%3600,o=n%60;return{days:Math.floor(t/86400),hours:Math.floor(e/3600),minutes:Math.floor(n/60),seconds:Math.round(o)}},t.fixedTimeStr=function(t){return t<10?"0"+t:""+t},t.secToStrShort=function(e){var n=this.secToDateTime(e),o=n.days,r=n.hours,i=n.minutes,a=n.seconds;return 0!==o?o+"\u5929"+r+"\u65f6":0!==r?t.fixedTimeStr(r)+"\u65f6"+t.fixedTimeStr(i)+"\u5206":t.fixedTimeStr(i)+"\u5206"+t.fixedTimeStr(a)+"\u79d2"},t.secToStrDay=function(e){var n=this.secToDateTime(e),o=n.days,r=n.hours,i=n.minutes,a=(n.seconds,t.fixedTimeStr(r)+"\u65f6"+t.fixedTimeStr(i)+"\u5206");return 0!==o&&(a=o+"\u5929"+a),a},t.secToStrFull=function(e){var n=this.secToDateTime(e),o=n.days,r=n.hours,i=n.minutes,a=n.seconds,s="";return 0!==o&&(s=o+"\u5929"),0!==r?s+=t.fixedTimeStr(r)+"\u65f6"+t.fixedTimeStr(i)+"\u5206"+t.fixedTimeStr(a)+"\u79d2":s=0!==i?t.fixedTimeStr(i)+"\u5206"+t.fixedTimeStr(a)+"\u79d2":t.fixedTimeStr(a)+"\u79d2",s},t.time_range=function(t,e,n){var o=t.split(":");if(2!=o.length)return!1;var r=e.split(":");if(2!=r.length)return!1;var i=new Date(n),a=new Date(n),s=new Date(n);return i.setHours(o[0]),i.setMinutes(o[1]),a.setHours(r[0]),a.setMinutes(r[1]),s.getTime()-i.getTime()>0&&s.getTime()-a.getTime()<0},t.time_range2=function(t,e,n){var o=t.split(":");if(2!=o.length)return!1;var r=e.split(":");if(2!=r.length)return!1;var i=new Date(n),a=new Date(n),s=new Date(n);return i.setHours(o[0]),i.setMinutes(o[1]),a.setHours(r[0]),a.setMinutes(r[1]),s.getTime()-i.getTime()>=0&&s.getTime()-a.getTime()<0},t.getTimeOff=function(t,e){var n=t.split(":");if(2!=n.length)return null;var o=new Date(e),r=new Date(e);o.setHours(n[0],n[1],0);var i=o.getTime()-r.getTime();return 0==i&&(i=1e3),i},t.getCountTime=function(t){var e=Math.floor(t),n=Math.floor(e/60),o=e%60;return(n<10?"0"+n:n+"")+":"+(o<10?"0"+o:o+"")},t.getCountTimeFull=function(t){var e=Math.floor(t),n=Math.floor(e/3600);e%=3600;var o=Math.floor(e/60),r=e%60;return(n<10?"0"+n:n+"")+":"+(o<10?"0"+o:o+"")+":"+(r<10?"0"+r:r+"")},t.formatDate=function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "},t.getFormatHM=function(t){var e=new Date(t);return(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},t.isSameDay=function(t,e){var n=new Date(t),o=n.getFullYear(),r=n.getMonth()+1,i=n.getDate(),a=new Date(e),s=a.getFullYear(),c=a.getMonth()+1,l=a.getDate();return s==o&&c==r&&l==i},t.intervalDayTime=function(e,n){var o=(n-e)/864e5,r=Math.floor(o);return 0==r&&(t.isSameDay(e,n)||(r=1)),r},t.utcFormatDate=function(t){var e=new Date(t);return e.getUTCFullYear()+"-"+("0"+(e.getUTCMonth()+1)).slice(-2)+"-"+("0"+e.getUTCDate()).slice(-2)+" "+("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)},t.MILLISECOND=864e5,t.mistiming=0,t}();n.TimeUtil=r,cc._RF.pop()},{"../log/LogUtil":"LogUtil"}],Timer:[function(t,e,n){"use strict";cc._RF.push(e,"3f4c4TMd5BC2YO2Ij8ju7/m","Timer"),Object.defineProperty(n,"__esModule",{value:!0}),n.TimerUnit=void 0;var o=function(){this.repeatCount=-1,this.currentCount=0,this.time=0};n.TimerUnit=o;var r=function(){function t(){this.timerList=[],this._pause=!1}return t.prototype.initSchedule=function(t){t.schedule(this.update.bind(this))},t.prototype.register=function(t,e,n,r){void 0===r&&(r=-1);for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];var s=new o;s.interval=t,s.caller=e,s.method=n,s.repeatCount=r,s.params=i,s.currentCount=0,this.timerList.push(s)},t.prototype.clear=function(t,e){for(var n=0;n<this.timerList.length;n++){var o=this.timerList[n];if(o.caller==t&&o.method==e){this.timerList.splice(n,1);break}}},t.prototype.clearAll=function(t){for(var e=0;e<this.timerList.length;e++)this.timerList[e].caller==t&&(this.timerList.splice(e,1),e--)},t.prototype.update=function(t){if(!this._pause)for(var e=0;e<this.timerList.length;e++){var n=this.timerList[e];n.time+=t,n.time>=n.interval&&(n.time-=n.interval,n.currentCount++,n.method&&n.method.apply(n.caller,n.params),n.currentCount>=n.repeatCount&&n.repeatCount>0&&(this.timerList.splice(e,1),e--))}},t.prototype.pause=function(){this._pause=!0},t.prototype.resume=function(){this._pause=!1},t}();n.default=r,cc._RF.pop()},{}],UpdateNodeList:[function(t,e,n){"use strict";cc._RF.push(e,"52decTZ+DxKZq1ZU5aj5if4","UpdateNodeList"),Object.defineProperty(n,"__esModule",{value:!0}),n.UpdateNodeList=void 0;var o=t("../../framework/core/log/LogUtil"),r=function(){function t(){this.count=0}return t.prototype.add=function(t){var e=t.list;this!=e&&(e&&e.remove(t),this.count++,t.list=this,t.prev=this.tail,this.tail&&(this.tail.next=t),null==this.head&&(this.head=t),this.tail=t)},t.prototype.remove=function(t){if(t.list==this){this.count--;var e=t.prev,n=t.next;null==e?this.head=n:e.next=n,null==n?this.tail=e:n.prev=e,this.current==t&&(this.current=n),t.list=null,t.prev=null,t.next=null}else o.default.e("UpdateNodeList remove list is not ok")},t.prototype.callUpdate=function(t,e){if(null!=this.head)for(var n=this.head;n;)this.current=n.next,n.update(t,e),n=this.current},t}();n.UpdateNodeList=r,cc._RF.pop()},{"../../framework/core/log/LogUtil":"LogUtil"}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"ff748PS7+hEIIiRCFvCwbSy","Utils"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./BigNumber"),r=t("./Shake"),i=window.wx||window.tt,a=function(){function t(){}return t.checkIsToDay=function(e){var n=new Date(e),o=new Date(t.getServerTime()),r=!1;return n.getFullYear()==o.getFullYear()&&n.getMonth()==o.getMonth()&&n.getDate()==o.getDate()&&(r=!0),r},t.createPrefab=function(e,n,o,r){return void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=null),new Promise(function(i,a){t.loadRes(e,cc.Prefab,function(t,e){if(t)return console.error(t),void a();null==n&&(n=cc.find("Canvas"));var s=cc.instantiate(e);s.opacity=0,s.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){s.opacity=255}))),s.parent=n,r&&(s.position=r),o&&o(s),i(s)})})},t.getRandom=function(t,e){return Math.random()*(e-t)+t},t.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},t.seedRandom=function(){return t.getRandom(0,1)},t.seedRandomInt=function(e,n){return t.getRandomInt(e,n)},t.rnd=function(t){return(t=(9301*t+49297)%233280)/233280},t.formatNumber=function(t,e){return void 0===e&&(e=1),t=Math.floor(t),o.default.getLargeString(t)},t.getPowNum=function(t){return Math.pow(10,t)},t.setServerTime=function(e){t.timeOffset=e-(new Date).getTime(),cc.log("timeOffset:",t.timeOffset)},t.getServerTime=function(){return(new Date).getTime()+t.timeOffset},t.Shake=function(t,e,n){var o=cc.find("Canvas/Main Camera");o.x=0,o.y=0,o.stopAllActions(),o.runAction(r.Shake.create(t,e,n))},t.addClickEvent=function(t,e,n,o,r){var i=new cc.Component.EventHandler;i.target=e,i.component=n,i.handler=o,r&&(i.customEventData=r);var a=t.getComponent(cc.Button).clickEvents;a.length>0||a.push(i)},t.showTip=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&i.showToast({title:t,icon:"none",duration:1500})},t.formatDate=function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},t.cloneObj=function(t){return t=JSON.stringify(t),JSON.parse(t)},t.getTimeStrByS=function(t){(t=Math.floor(t))<0&&(t=0);var e=Math.floor(t/3600/24);t-=86400*e;var n=Math.floor(t/3600);t-=3600*n;var o,r=Math.floor(t/60);o=r>9?""+r:"0"+r;var i;return i=(t-=60*r)>9?""+t:"0"+t,e>0?e+"\u5929"+n+"\u65f6"+r+"\u5206":n>0?(n>9?""+n:"0"+n)+":"+o:o+":"+i},t.getClockStrByS=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),(t=Math.floor(t))<0&&(t=0);var o=Math.floor(t/3600);t-=3600*o;var r=Math.floor(t/60);t-=60*r;var i="";return n&&(i+=o>9?""+o:"0"+o,i+=":"),i+=r>9?""+r:"0"+r,e&&(i+=":"+(t<10?"0":"")+t),i},t.checkObjEmpty=function(t){if(t){for(var e in t)return!1;return!0}return!0},t.checkOrderOver=function(e){var n=new Date(e),o=new Date(t.getServerTime());return n.getFullYear()!=o.getFullYear()||n.getMonth()!=o.getMonth()||n.getDate()!=o.getDate()},t.loadRes=function(t,e,n){return void 0===n&&(n=null),new Promise(function(o,r){var i=cc.resources.get(t,e);if(i)return n&&n(null,i),void o(i);cc.resources.load(t,e,function(e,i){e?(cc.error(t,e),n(e,null),r(null)):(n&&n(null,i),o(i))})})},t.weight=function(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];if(e<=0)return-1;var o=Math.round(Math.random()*Number.MAX_VALUE)%e;for(n=0;n<t.length;++n){if(o<t[n])return n;o-=t[n]}return-1},t.shuffle=function(t){for(var e=t.length-1;e>=0;e--){var n=Math.floor(Math.random()*(e+1)),o=t[n];t[n]=t[e],t[e]=o}return t},t.getDate=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1,r=e.getDate();return n+"-"+(o<10?"0"+o:o)+"-"+(r<10?"0"+r:r)+" "+e.toTimeString().substr(0,8)},t.goldCrarryBit=function(t){for(var e=[[1e8,"N"],[1e7,"T"],[1e6,"G"],[1e5,"M"],[1e4,"K"],[1e3,"B"]],n=0;n<e.length;n++){var o=t/e[n][0];if(o>1)return""+o.toFixed(1)+e[n][1]}return t.toString()},t.fixFloat=function(t,e){void 0===e&&(e=2);var n=Math.pow(10,e);return Math.floor(t*n)/n},t.formatString=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=0;o<e.length;o++){var r=new RegExp("\\{"+o+"\\}","gm");t=t.replace(r,e[o])}return t},t.convetOtherNodeSpaceAR=function(t,e){var n=t.convertToWorldSpaceAR(cc.v2(0,0));return e.convertToNodeSpaceAR(n)},t.count=function(t){if(!t)return 0;var e=0;for(var n in t)e++;return e},t.copy=function(t){var e=Object.create(t);return Object.assign(e,t),e},t.setGray=function(t,e){e?t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")):t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))},t.setSpriteFrame=function(t,e,n,o){void 0===n&&(n="resources"),void 0===o&&(o=null),cc.assetManager.getBundle(n).load(e,cc.SpriteFrame,function(n,r){n?cc.log("error",e):(t.spriteFrame=r,o&&o())})},t.getJson=function(t,e){void 0===e&&(e=null),cc.assetManager.getBundle("resources").load(t,cc.JsonAsset,function(n,o){n?cc.log("error",t):e&&e(o)})},t.getConfig=function(t,e){void 0===e&&(e=null),cc.assetManager.getBundle("pack_config").load(t,cc.JsonAsset,function(n,o){n?cc.log("error",t):e&&e(o)})},t.seed=5,t.timeOffset=0,t}();n.default=a,cc._RF.pop()},{"./BigNumber":"BigNumber","./Shake":"Shake"}],VictoryWin:[function(t,e,n){"use strict";cc._RF.push(e,"051dawJM7ZB+animjE4eZRu","VictoryWin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../core/Core"),s=t("../../../core/component/BasePanel"),c=t("../../../core/manager/Model"),l=t("../../../core/manager/WXTTUtils"),u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score_txt=null,e.highScore_txt=null,e.maxCombo_txt=null,e.star1=null,e.star2=null,e.star3=null,e.btn_next=null,e}return r(e,t),e.prototype.onLoad=function(){var e=this;t.prototype.onLoad.call(this);var n=c.default.game.selectedLevel-1,o=10*(2*(n-1)+70);this.star1.active=c.default.game.score>=o,this.star2.active=c.default.game.score>=2*o,this.star3.active=c.default.game.score>=3*o,this.highScore_txt.string=c.default.game.scores[n-1]+"",this.maxCombo_txt.string=c.default.game.maxCombo+"",this.btn_next.active=c.default.game.adventureLevel<=120,this.star1.active&&(this.star1.scaleX=this.star1.scaleY=3,this.star1.opacity=0,this.playZoomEffect(this.star1,.05,1)),this.star2.active&&(this.star2.scaleX=this.star2.scaleY=3,this.star2.opacity=0,this.playZoomEffect(this.star2,.25,2)),this.star3.active&&(this.star3.scaleX=this.star3.scaleY=3,this.star3.opacity=0,this.playZoomEffect(this.star3,.45,3)),this.score_txt.string=c.default.game.score+"";var r={s:0};cc.tween(r).to(1.5,{s:c.default.game.score}).call(function(){}).start(),this.schedule(function(){e.score_txt.string=Math.floor(r.s)+""},.016)},e.prototype.start=function(){l.default.showBanner(),l.default.showInterstitialAd()},e.prototype.playZoomEffect=function(t,e,n){cc.tween(t).delay(e).call(function(){t.opacity=255}).start(),cc.tween(t).delay(e).to(.2,{scaleX:1,scaleY:1}).call(function(){a.Core.soundManager.playSFX("sound/completeStar"+n)}).start()},e.prototype.onMenuClick=function(){a.Core.soundManager.playSFX("sound/button"),a.Core.winManager.open("LevelWin",null,!0)},e.prototype.onNextClick=function(){a.Core.soundManager.playSFX("sound/button"),a.Core.winManager.removeAll(),a.Core.winManager.open("GameWin")},e.prototype.onRetryClick=function(){a.Core.soundManager.playSFX("sound/button"),c.default.game.selectedLevel-=1,a.Core.winManager.removeAll(),a.Core.winManager.open("GameWin")},e.prototype.onDestroy=function(){l.default.destroyBanner()},i([p(cc.Label)],e.prototype,"score_txt",void 0),i([p(cc.Label)],e.prototype,"highScore_txt",void 0),i([p(cc.Label)],e.prototype,"maxCombo_txt",void 0),i([p(cc.Node)],e.prototype,"star1",void 0),i([p(cc.Node)],e.prototype,"star2",void 0),i([p(cc.Node)],e.prototype,"star3",void 0),i([p(cc.Node)],e.prototype,"btn_next",void 0),i([h],e)}(s.default);n.default=f,cc._RF.pop()},{"../../../core/Core":"Core","../../../core/component/BasePanel":"BasePanel","../../../core/manager/Model":"Model","../../../core/manager/WXTTUtils":"WXTTUtils"}],WSClient:[function(t,e,n){"use strict";cc._RF.push(e,"85c441un6RIhqmsrmi3TSWM","WSClient"),Object.defineProperty(n,"__esModule",{value:!0}),n.WSClient=void 0;var o=t("../log/LogUtil"),r=function(){function t(t,e,n,o,r,i){this._url=t,this._onMessage=e,this._onClose=n,this._onError=o,this._onOpen=r,this._onConnectTimeout=i}return Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.close();var e=new WebSocket(this._url);this._ws=e,e.binaryType="arraybuffer",e.onopen=this._onOpenEvent.bind(this),e.onmessage=this._onMessageEvent.bind(this),e.onclose=this._onCloseEvent.bind(this),e.onerror=this._onErrorEvent.bind(this),this._setTimeout(t)},t.prototype.send=function(t){var e=this._ws;e&&e.readyState===WebSocket.OPEN?e.send(t):o.default.w("websocket not open: "+this._url)},t.prototype.close=function(){this._clearTimeOut();var t=this._ws;t&&(this._ws=null,t.onopen=null,t.onmessage=null,t.onclose=null,t.onerror=null,t.readyState===WebSocket.OPEN?t.close(4e3,"client close"):t.readyState===WebSocket.CONNECTING&&(t.onopen=function(){t.close(4e3,"client close")}))},t.prototype.browserCloseSimulate=function(){this._clearTimeOut();var t=this._ws;t&&(this._ws=null,t.readyState===WebSocket.OPEN?t.close(4e3,"client close"):t.readyState===WebSocket.CONNECTING&&(t.onopen=function(){t.close(4e3,"client close")}))},t.prototype._setTimeout=function(t){var e=this;this._clearTimeOut(),t&&this._onConnectTimeout&&(this._connectTimerId=setTimeout(function(){o.default.e("websocket onConnectTimeout: "+e._url),e._connectTimerId=null,e.close(),e._onConnectTimeout()},t))},t.prototype._clearTimeOut=function(){this._connectTimerId&&(clearTimeout(this._connectTimerId),this._connectTimerId=null)},t.prototype._onOpenEvent=function(t){o.default.i("websocket connected: "+this._url),this._clearTimeOut(),this._onOpen&&this._onOpen(t)},t.prototype._onMessageEvent=function(t){this._onMessage&&this._onMessage(t)},t.prototype._onCloseEvent=function(t){var e;o.default.i("websocket closed: "+this._url+" code:"+t.code+" reason:"+t.reason+" wasClean:"+t.wasClean+" state:"+(null===(e=this._ws)||void 0===e?void 0:e.readyState)),this._onClose&&this._onClose(t)},t.prototype._onErrorEvent=function(t){o.default.e("websocket error: "+this._url,t),this._onError&&this._onError(t)},t}();n.WSClient=r,cc._RF.pop()},{"../log/LogUtil":"LogUtil"}],WXTTUtils:[function(t,e,n){"use strict";cc._RF.push(e,"647bfvDsq9CtLpvK8111IAb","WXTTUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=window.wx||window.tt||window.qq,r=function(){function t(){}return t.share=function(t){void 0===t&&(t=null),cc.sys.platform==cc.sys.WECHAT_GAME&&o.shareAppMessage({title:"\u7ecf\u5178\u7956\u739b\u6e38\u620f\uff0c\u5feb\u6765\u4e00\u8d77\u8fdb\u5165\u795e\u79d8\u7684\u4e16\u754c\uff01",imageUrl:"icon.png",success:function(){t&&t()},fail:function(){}})},t.onShow=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&o.onShow(function(){t&&t()})},t.showShareMenu=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(o.showShareMenu({withShareTicket:!0}),o.onShareAppMessage(function(){return{title:"\u7ecf\u5178\u7956\u739b\u6e38\u620f\uff0c\u5feb\u6765\u4e00\u8d77\u8fdb\u5165\u795e\u79d8\u7684\u4e16\u754c\uff01",imageUrl:"icon.png"}}))},t.jump=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&o.navigateToMiniProgram({appId:t,path:"",extraData:null,envVersion:"release",success:function(){console.log("\u8df3\u8f6c\u6210\u529f")}})},t.showTip=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&o.showToast({title:t,icon:"none",duration:1500})},t.destroyBanner=function(){null!=t.bannerAd&&(t.bannerAd.destroy(),t.bannerAd=null)},t.showBanner=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=!1;o.getSystemInfo({success:function(t){-1!=t.model.search("iPhone X")&&(e=!0)}});var n=0;e&&(n=-30);var r=o.getSystemInfoSync(),i=o.createBannerAd({adUnitId:t.BANNER_ID,adIntervals:30,style:{left:r.windowWidth-300>>1,top:r.windowHeight-80+n,width:300}});t.bannerAd=i,t.bannerAd.show(),i.onResize(function(){i.style.top=r.windowHeight-i.style.realHeight+n})}},t.initInterstitialAd=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&o.createInterstitialAd&&(t.interstitialAd=o.createInterstitialAd({adUnitId:t.CHAPIN_ID}),t.interstitialAd.onLoad(function(){console.log("\u63d2\u5c4f\u521d\u59cb\u5316\u6210\u529f")}),t.interstitialAd.onError(function(t){console.log("interstitialAd onError event emit",t)}),t.interstitialAd.onClose(function(t){console.log("interstitialAd onClose event emit",t)}))},t.showInterstitialAd=function(){t.interstitialAd&&(console.log("\u663e\u793a\u63d2\u5c4f\u5e7f\u544a"),t.interstitialAd.show().catch(function(t){console.error("\u63d2\u5c4f\u663e\u793a\u9519\u8bef",t)}))},t.initGridAd=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=o.getSystemInfoSync();if(o.createGridAd){var n=o.createGridAd({adUnitId:t.GRID_ID,gridCount:5,style:{left:.5*(e.windowWidth-300),top:e.windowHeight-80,width:300,opacity:.9}});n.onError(function(e){console.log("\u683c\u5b50\u5e7f\u544a\u521d\u59cb\u5316\u9519\u8bef",e),e.errCode>=1e3&&e.errCode<=1008&&(t.gridAdLoaded=!1)}),t.gridAd=n}}},t.showGridAd=function(){t.gridAd&&t.gridAd.show().catch(function(t){console.error("\u683c\u5b50\u5e7f\u544a\u663e\u793a\u9519\u8bef",t)})},t.destroyGrid=function(){null!=t.gridAd&&(t.gridAd.destroy(),t.gridAd=null)},t.showVideo=function(e){t.videoCall=e,t.videoAd.show().catch(function(){t.videoAd.load().then(function(){return t.videoAd.show()}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25",e),t.showTip("\u6682\u65e0\u89c6\u9891\u53ef\u7528\uff01")})})},t.initVideo=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){if(null!=t.videoAd)return;var e=o.createRewardedVideoAd({adUnitId:t.VIDEO_ID});t.videoAd=e,e.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),e.onError(function(e){console.log(e),t.videoCall&&t.videoCall(0)}),e.onClose(function(e){e&&e.isEnded||void 0===e?t.videoCall&&t.videoCall(1):t.videoCall&&t.videoCall(0)})}},t.bannerAd=null,t.videoAd=null,t.interstitialAd=null,t.gridAd=null,t.gridAdLoaded=!0,t.BANNER_ID="adunit-f777ae76a45cca9a",t.VIDEO_ID="adunit-e3c4976754471669",t.CHAPIN_ID="adunit-958f286c4015496c",t.GRID_ID="adunit-06bd2722e59aee1f",t.videoCall=null,t}();n.default=r,cc._RF.pop()},{}],WindowManager:[function(t,e,n){"use strict";cc._RF.push(e,"3bf1bsYrSRB2bKib1Ls0mi5","WindowManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../common/GameConst"),r=t("../component/BasePanel"),i=t("../utils/Utils"),a=t("./BusyLoadingManager"),s=function(){function t(){this._windows=[],this._showlist={},this._prefabMap={}}return t.prototype.register=function(t){this._windowContainer=t},t.prototype.open=function(t,e,n,r){var i=this;if(void 0===e&&(e=null),void 0===n&&(n=!1),void 0===r&&(r=null),this._showlist[t])r&&r(null);else{this._showlist[t]=!0;var s=o.default.WinPath[t];a.default.ins.addBusy(a.BUSY_TYPE.RES),cc.resources.load(s,cc.Prefab,function(o,c){if(o)return console.log("\u52a0\u8f7d\u9519\u8bef",s),i._showlist[t]=!1,void(r&&r(null));if(0!=i._showlist[t]){console.log("\u6253\u5f00\u7a97\u53e3 ",t);var l=cc.instantiate(c);l.name=t,l.parent=i._windowContainer,i.addWin(l),i.sortWins(),i._prefabMap[s]=c;var u=l.getComponent(t);u&&(u.show(e),a.default.ins.removeBusy(a.BUSY_TYPE.RES),n&&i.removeAll([t])),r&&r(u)}else r&&r(null)})}},t.prototype.addWin=function(t){for(var e=t.getComponent(t.name).layer,n=0,o=this._windows.length-1;o>=0;o--){var r=this._windows[o];if(r.getComponent(r.name).layer<=e){n=o+1;break}}this._windows.splice(n,0,t)},t.prototype.sortWins=function(){for(var t=!1,e=this._windows.length-1;e>=0;e--){var n=this._windows[e];n.zIndex=e;var i=n.getComponent(r.default);t?n.active=!1:(n.active=!0,t=i.winType==o.default.WIN_TYPE.FULLSCREEN)}},t.prototype.removeWin=function(t){this._showlist[t]&&delete this._showlist[t];for(var e=this._windows.length-1;e>=0;e--){var n=this._windows[e];if(n.name==t){var r=n.getComponent(n.name);if(r.winType!=o.default.WIN_TYPE.PERMANENT){n.destroy(),n=null,r.destroyAfterClose&&this._prefabMap[t]&&cc.loader.release(this._prefabMap[t]),this._windows.splice(e,1);break}}}this.sortWins()},t.prototype.removeAll=function(t){void 0===t&&(t=null);for(var e=this._windows.length-1;e>=0;e--){var n=this._windows[e];t&&-1!=t.indexOf(n.name)||this.removeWin(n.name)}},t.prototype.isOpen=function(t){return null!=this.getWin(t)},t.prototype.isShow=function(t){return 1==this._showlist[t]},t.prototype.getWinCount=function(){return i.default.count(this._showlist)},t.prototype.getWin=function(t){for(var e=this._windows.length-1;e>=0;e--){var n=this._windows[e];if(n.name==t)return n}return null},Object.defineProperty(t.prototype,"container",{get:function(){return this._windowContainer},enumerable:!1,configurable:!0}),t.prototype.clearAll=function(){this._windows=[],this._showlist={}},t}();n.default=s,cc._RF.pop()},{"../common/GameConst":"GameConst","../component/BasePanel":"BasePanel","../utils/Utils":"Utils","./BusyLoadingManager":"BusyLoadingManager"}],base64:[function(t,e,n){(function(t){"use strict";cc._RF.push(e,"3b4a7FmGnRLiah5Vo1ZanjS","base64"),Object.defineProperty(n,"__esModule",{value:!0}),n.Base64=n.extendBuiltins=n.extendUint8Array=n.extendString=n.toUint8Array=n.fromUint8Array=n.isValid=n.decode=n.btou=n.encodeURL=n.encodeURI=n.encode=n.utob=n.toBase64=n.fromBase64=n.btoaPolyfill=n.btoa=n.atobPolyfill=n.atob=n.VERSION=n.version=void 0,n.version="3.7.5",n.VERSION="3.7.5";var o,r="function"==typeof atob,i="function"==typeof btoa,a="function"==typeof t,s="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,l=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),u=(o={},l.forEach(function(t,e){return o[t]=e}),o),h=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,p=String.fromCharCode.bind(String),f="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){return new Uint8Array(Array.prototype.slice.call(t,0))},d=function(t){return t.replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"==t?"-":"_"})},g=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},y=function(t){for(var e,n,o,r,i="",a=t.length%3,s=0;s<t.length;){if((n=t.charCodeAt(s++))>255||(o=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");i+=l[(e=n<<16|o<<8|r)>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}return a?i.slice(0,a-3)+"===".substring(a):i};n.btoaPolyfill=y;var m=i?function(t){return btoa(t)}:a?function(e){return t.from(e,"binary").toString("base64")}:y;n.btoa=m;var _=a?function(e){return t.from(e).toString("base64")}:function(t){for(var e=[],n=0,o=t.length;n<o;n+=4096)e.push(p.apply(null,t.subarray(n,n+4096)));return m(e.join(""))},v=function(t,e){return void 0===e&&(e=!1),e?d(_(t)):_(t)};n.fromUint8Array=v;var b=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?p(192|e>>>6)+p(128|63&e):p(224|e>>>12&15)+p(128|e>>>6&63)+p(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return p(240|e>>>18&7)+p(128|e>>>12&63)+p(128|e>>>6&63)+p(128|63&e)},C=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,L=function(t){return t.replace(C,b)};n.utob=L;var w=a?function(e){return t.from(e,"utf8").toString("base64")}:c?function(t){return _(c.encode(t))}:function(t){return m(L(t))},S=function(t,e){return void 0===e&&(e=!1),e?d(w(t)):w(t)};n.toBase64=S,n.encode=S;var T=function(t){return S(t,!0)};n.encodeURI=T,n.encodeURL=T;var I=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,O=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return p(55296+(e>>>10))+p(56320+(1023&e));case 3:return p((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return p((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},A=function(t){return t.replace(I,O)};n.btou=A;var P=function(t){if(t=t.replace(/\s+/g,""),!h.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var e,n,o,r="",i=0;i<t.length;)e=u[t.charAt(i++)]<<18|u[t.charAt(i++)]<<12|(n=u[t.charAt(i++)])<<6|(o=u[t.charAt(i++)]),r+=64===n?p(e>>16&255):64===o?p(e>>16&255,e>>8&255):p(e>>16&255,e>>8&255,255&e);return r};n.atobPolyfill=P;var x=r?function(t){return atob(g(t))}:a?function(e){return t.from(e,"base64").toString("binary")}:P;n.atob=x;var D=a?function(e){return f(t.from(e,"base64"))}:function(t){return f(x(t).split("").map(function(t){return t.charCodeAt(0)}))},M=function(t){return D(E(t))};n.toUint8Array=M;var R=a?function(e){return t.from(e,"base64").toString("utf8")}:s?function(t){return s.decode(D(t))}:function(t){return A(x(t))},E=function(t){return g(t.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}))},B=function(t){return R(E(t))};n.fromBase64=B,n.decode=B;var F=function(t){if("string"!=typeof t)return!1;var e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)};n.isValid=F;var N=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},j=function(){var t=function(t,e){return Object.defineProperty(String.prototype,t,N(e))};t("fromBase64",function(){return B(this)}),t("toBase64",function(t){return S(this,t)}),t("toBase64URI",function(){return S(this,!0)}),t("toBase64URL",function(){return S(this,!0)}),t("toUint8Array",function(){return M(this)})};n.extendString=j;var G=function(){var t=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,N(e))};t("toBase64",function(t){return v(this,t)}),t("toBase64URI",function(){return v(this,!0)}),t("toBase64URL",function(){return v(this,!0)})};n.extendUint8Array=G;var U=function(){j(),G()};n.extendBuiltins=U;var k={version:"3.7.5",VERSION:"3.7.5",atob:x,atobPolyfill:P,btoa:m,btoaPolyfill:y,fromBase64:B,toBase64:S,encode:S,encodeURI:T,encodeURL:T,utob:L,btou:A,decode:B,isValid:F,fromUint8Array:v,toUint8Array:M,extendString:j,extendUint8Array:G,extendBuiltins:U};n.Base64=k,cc._RF.pop()}).call(this,t("buffer").Buffer)},{buffer:2}],"clipboard-polyfill.es6":[function(t,e,n){"use strict";cc._RF.push(e,"58736P6XuxEY659CDf/m3MT","clipboard-polyfill.es6"),n.__esModule=!0,n.ClipboardItem=void 0,n.read=function(){return H(function(){return C?(a("Using `navigator.clipboard.read()`."),C()):V().then(function(t){return[J(t)]})})},n.readText=V,n.setDebugLog=function(t){i=t},n.suppressWarnings=function(){s=!1},n.write=function(t){return H(function(){if(w&&T){var e=w;return a("Using `navigator.clipboard.write()`."),I.all(t.map(Z)).then(function(n){return e(n).then(U).catch(function(e){if(!Y(t,o)&&!Y(t,r))throw e;return k})})}return k}).then(function(e){if(e)return G;var n=Y(t,o);return s&&!n&&a("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call suppressWarnings() to suppress this warning."),Q(t[0]).then(function(t){if(!N(t))throw new Error("write() failed")})})},n.writeText=function(t){return H(function(){return S?(a("Using `navigator.clipboard.writeText()`."),S(t).catch(z)):I.resolve(z(t))})};var o="text/plain",r="text/html",i=function(){};function a(t){i(t)}var s=!0;(function(){(console.warn||console.log).apply(console,arguments)}).bind("[clipboard-polyfill]");var c,l,u,h,p,f,d,g,y="undefined"==typeof window?void 0:window,m="undefined"==typeof globalThis?void 0:globalThis,_=null!=(u=null==(c=y)?void 0:c.Promise)?u:null==(l=m)?void 0:l.Promise,v="undefined"==typeof navigator?void 0:navigator,b=null==v?void 0:v.clipboard,C=null==(h=null==b?void 0:b.read)?void 0:h.bind(b),L=null==(p=null==b?void 0:b.readText)?void 0:p.bind(b),w=null==(f=null==b?void 0:b.write)?void 0:f.bind(b),S=null==(d=null==b?void 0:b.writeText)?void 0:d.bind(b),T=null==(g=y)?void 0:g.ClipboardItem,I=function(){if(!_)throw new Error("No `Promise` implementation available for `clipboard-polyfill`. Consider using: https://github.com/lgarron/clipboard-polyfill#flat-file-version-with-promise-included");return _}(),O=y;function A(){return"undefined"==typeof ClipboardEvent&&void 0!==(null==O?void 0:O.clipboardData)&&void 0!==(null==O?void 0:O.clipboardData.setData)}function P(){var t=O.clipboardData.getData("Text");if(""===t)throw new Error("Empty clipboard or could not read plain text from clipboard");return t}function x(t,e,n){for(var r in a("listener called"),t.success=!0,e){var i=e[r],s=n.clipboardData;s.setData(r,i),r===o&&s.getData(r)!==i&&(a("setting text/plain failed"),t.success=!1)}n.preventDefault()}function D(t){var e={success:!1},n=x.bind(this,e,t);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return e.success}function M(t,e){B(t);var n=D(e);return F(),n}function R(t){var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important"),e.textContent="temporary element",document.body.appendChild(e);var n=M(e,t);return document.body.removeChild(e),n}function E(t){a("copyTextUsingDOM");var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important");var n=e;e.attachShadow&&(a("Using shadow DOM."),n=e.attachShadow({mode:"open"}));var o=document.createElement("span");o.innerText=t,n.appendChild(o),document.body.appendChild(e),B(o);var r=document.execCommand("copy");return F(),document.body.removeChild(e),r}function B(t){var e=document.getSelection();if(e){var n=document.createRange();n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n)}}function F(){var t=document.getSelection();t&&t.removeAllRanges()}function N(t){var e,n,r=o in t;if(A()){if(!r)throw new Error("No `text/plain` value was specified.");if(e=t[o],(n=O.clipboardData.setData("Text",e))&&a("writeTextIE worked"),n)return!0;throw new Error("Copying failed, possibly because the user rejected it.")}return D(t)?(a("regular execCopy worked"),!0):navigator.userAgent.indexOf("Edge")>-1?(a('UA "Edge" => assuming success'),!0):M(document.body,t)?(a("copyUsingTempSelection worked"),!0):R(t)?(a("copyUsingTempElem worked"),!0):!!E(t[o])&&(a("copyTextUsingDOM worked"),!0)}function j(t,e){var n=[];for(var o in t){var r=t[o];n.push(e(r))}return I.all(n).then(function(e){for(var n={},o=0;o<t.length;o++)n[t[o]]=e[o];return n})}var G=I.resolve(),U=function(){return I.resolve(!0)},k=I.resolve(!1);function H(t){return new I(function(e,n){try{e(t())}catch(o){n(o)}})}function W(t){var e={};return e[o]=t,e}function z(t){if(!N(W(t)))throw new Error("writeText() failed")}function V(){return H(function(){if(L)return a("Using `navigator.clipboard.readText()`."),L();if(A()){var t=P();return I.resolve(t)}throw new Error("Read is not supported in your browser.")})}function Y(t,e){for(var n in t)if(-1!==t[n].types.indexOf(e))return!0;return!1}var X=function(t,e){var n,o=Object.keys(t),r={};for(var i in t){var a=t[i];r[i]="string"==typeof a?q(i,a):a}return{types:o,presentationStyle:null!=(n=null==e?void 0:e.presentationStyle)?n:"unspecified",getType:function(t){return I.resolve(r[t])}}};function q(t,e){return new Blob([e],{type:t})}function Z(t){return j(t.types,function(e){return t.getType(e)}).then(function(e){var n={};return t.presentationStyle&&(n.presentationStyle=t.presentationStyle),new T(e,n)})}function J(t){var e={};return e[o]=q(t,o),new X(e)}function K(t,e){return t.getType(e).then(function(t){return e=t,new I(function(t,n){var o=new FileReader;o.addEventListener("load",function(){var e=o.result;"string"==typeof e?t(e):n("could not convert blob to string")}),o.readAsText(e)});var e})}function Q(t){return j(t.types,function(e){return K(t,e)})}n.ClipboardItem=X,cc._RF.pop()},{}],md5:[function(t,e,n){"use strict";cc._RF.push(e,"14a77qBeudCeIYW01ud/33l","md5"),Object.defineProperty(n,"__esModule",{value:!0}),n.STR_UTF8=n.hex_md5=void 0;var o=0;function r(t){return c(l(s(t),8*t.length))}function i(t){for(var e,n=o?"0123456789ABCDEF":"0123456789abcdef",r="",i=0;i<t.length;i++)e=t.charCodeAt(i),r+=n.charAt(e>>>4&15)+n.charAt(15&e);return r}function a(t){for(var e,n,o="",r=-1;++r<t.length;)e=t.charCodeAt(r),n=r+1<t.length?t.charCodeAt(r+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),r++),e<=127?o+=String.fromCharCode(e):e<=2047?o+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?o+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(o+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return o}function s(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function c(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function l(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,o=-271733879,r=-1732584194,i=271733878,a=0;a<t.length;a+=16){var s=n,c=o,l=r,u=i;n=h(n,o,r,i,t[a+0],7,-680876936),i=h(i,n,o,r,t[a+1],12,-389564586),r=h(r,i,n,o,t[a+2],17,606105819),o=h(o,r,i,n,t[a+3],22,-1044525330),n=h(n,o,r,i,t[a+4],7,-176418897),i=h(i,n,o,r,t[a+5],12,1200080426),r=h(r,i,n,o,t[a+6],17,-1473231341),o=h(o,r,i,n,t[a+7],22,-45705983),n=h(n,o,r,i,t[a+8],7,1770035416),i=h(i,n,o,r,t[a+9],12,-1958414417),r=h(r,i,n,o,t[a+10],17,-42063),o=h(o,r,i,n,t[a+11],22,-1990404162),n=h(n,o,r,i,t[a+12],7,1804603682),i=h(i,n,o,r,t[a+13],12,-40341101),r=h(r,i,n,o,t[a+14],17,-1502002290),n=p(n,o=h(o,r,i,n,t[a+15],22,1236535329),r,i,t[a+1],5,-165796510),i=p(i,n,o,r,t[a+6],9,-1069501632),r=p(r,i,n,o,t[a+11],14,643717713),o=p(o,r,i,n,t[a+0],20,-373897302),n=p(n,o,r,i,t[a+5],5,-701558691),i=p(i,n,o,r,t[a+10],9,38016083),r=p(r,i,n,o,t[a+15],14,-660478335),o=p(o,r,i,n,t[a+4],20,-405537848),n=p(n,o,r,i,t[a+9],5,568446438),i=p(i,n,o,r,t[a+14],9,-1019803690),r=p(r,i,n,o,t[a+3],14,-187363961),o=p(o,r,i,n,t[a+8],20,1163531501),n=p(n,o,r,i,t[a+13],5,-1444681467),i=p(i,n,o,r,t[a+2],9,-51403784),r=p(r,i,n,o,t[a+7],14,1735328473),n=f(n,o=p(o,r,i,n,t[a+12],20,-1926607734),r,i,t[a+5],4,-378558),i=f(i,n,o,r,t[a+8],11,-2022574463),r=f(r,i,n,o,t[a+11],16,1839030562),o=f(o,r,i,n,t[a+14],23,-35309556),n=f(n,o,r,i,t[a+1],4,-1530992060),i=f(i,n,o,r,t[a+4],11,1272893353),r=f(r,i,n,o,t[a+7],16,-155497632),o=f(o,r,i,n,t[a+10],23,-1094730640),n=f(n,o,r,i,t[a+13],4,681279174),i=f(i,n,o,r,t[a+0],11,-358537222),r=f(r,i,n,o,t[a+3],16,-722521979),o=f(o,r,i,n,t[a+6],23,76029189),n=f(n,o,r,i,t[a+9],4,-640364487),i=f(i,n,o,r,t[a+12],11,-421815835),r=f(r,i,n,o,t[a+15],16,530742520),n=d(n,o=f(o,r,i,n,t[a+2],23,-995338651),r,i,t[a+0],6,-198630844),i=d(i,n,o,r,t[a+7],10,1126891415),r=d(r,i,n,o,t[a+14],15,-1416354905),o=d(o,r,i,n,t[a+5],21,-57434055),n=d(n,o,r,i,t[a+12],6,1700485571),i=d(i,n,o,r,t[a+3],10,-1894986606),r=d(r,i,n,o,t[a+10],15,-1051523),o=d(o,r,i,n,t[a+1],21,-2054922799),n=d(n,o,r,i,t[a+8],6,1873313359),i=d(i,n,o,r,t[a+15],10,-30611744),r=d(r,i,n,o,t[a+6],15,-1560198380),o=d(o,r,i,n,t[a+13],21,1309151649),n=d(n,o,r,i,t[a+4],6,-145523070),i=d(i,n,o,r,t[a+11],10,-1120210379),r=d(r,i,n,o,t[a+2],15,718787259),o=d(o,r,i,n,t[a+9],21,-343485551),n=g(n,s),o=g(o,c),r=g(r,l),i=g(i,u)}return Array(n,o,r,i)}function u(t,e,n,o,r,i){return g((a=g(g(e,t),g(o,i)))<<(s=r)|a>>>32-s,n);var a,s}function h(t,e,n,o,r,i,a){return u(e&n|~e&o,t,e,r,i,a)}function p(t,e,n,o,r,i,a){return u(e&o|n&~o,t,e,r,i,a)}function f(t,e,n,o,r,i,a){return u(e^n^o,t,e,r,i,a)}function d(t,e,n,o,r,i,a){return u(n^(e|~o),t,e,r,i,a)}function g(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}n.hex_md5=function(t){return""==t?t:i(r(a(t)))};var y=a;n.STR_UTF8=y,cc._RF.pop()},{}]},{},["GameEntry","Core","GameConst","BasePanel","BaseUI","FrameAnimation","List","ListItem","MsgBox","MsgHints","EventType","GameEvent","AdCenter","BusyLoadingManager","DataManager","GameSettings","Model","PoolManager","Singleton","WXTTUtils","WindowManager","AStar","AudioMgr","BezierUtil","BigNumber","DebugTools","Dispatcher","HTTP","LongTouchComponent","NumberRoll","Queue","Shake","Timer","Utils","Cfg","CfgDefine","CfgReaderBase","GameConstCfg","GroupReaderBase","LanguageCfg","TextCfg","base64","LAssetInfo","LBundleInfo","LHandler","LState","Load","ISubpackInfo","CallbackHandler","GameUtils","JList","NodeUtils","SingleClass","StringUtil","TimeFixModule","TimeUtil","md5","LogLevel","LogModel","LogUtil","HttpHelper","WSClient","Notifier","NotifyCaller","NotifyListener","NotifyListener_Interl","NotifyID","GameMgr","LangLabel","LangMgr","Pool","UpdateNodeList","clipboard-polyfill.es6","BusyLoading","AnimationHelper","Ball","BallGenerator","Frog","SpecialBall","BuffManager","BallGroupInfo","BallInfo","LevelData","EffectHelper","GameModel","GamePath","MoveState","PathLine","PathStar","BonusScore","ChainTip","ComboTip","ScoreTip","FailedWin","GameHudUI","GameWin","PauseWin","ReviveWin","VictoryWin","HelpWin","LevelItem","LevelWin","LoadingWin","MenuWin"]);